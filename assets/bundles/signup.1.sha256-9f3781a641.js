import{j as e,r as R,R as J,a as oa}from"./index.1.sha256-491025a480.js";import{a as tt}from"./index.1.sha256-7c8094d5f3.js";import{a as ia}from"./index.1.sha256-41318a65a9.js";import{X as Tt,x as de,m as X,e as pt,A as Qe,N as te,Y as ra,$ as ca,E as je,L as bs,a0 as At,I as Ce,b as Ve,n as Ds,a1 as la,c as da,G as ua,a2 as pa,a3 as ma,q as _s,w as ha,r as ga}from"./utils.1.sha256-9ee1c54c60.js";import{h as P}from"./moment.1.sha256-e1e16e85b3.js";import{u as Mt,d as ie,e as k,s as Wt,c as $t,f as Ge,D as as,m as ce,g as Ht,h as fa,S as xa,b as ya,T as ns,R as os,a as va}from"./transitions.1.sha256-6b35cc15fa.js";import{x as ba,h as ws,n as Da,y as _a,a as Vt,S as Ut,e as dt,t as wa,F as Sa,s as is,d as rs}from"./tracking.1.sha256-c760b2e67b.js";import{a as yt,b as mt,u as Ss,c as Ca,d as ja,s as Na}from"./index.1.sha256-bc663a9ce5.js";import{S as u,L as W,C as Pt,r as Rt,a as kt,b as ka}from"./constants.1.sha256-7d963bf0d7.js";import{l as Re,f as Lt,g as Cs,s as Fa,S as Ta}from"./ScheduleFieldset.1.sha256-75f2b24191.js";import"./internal_customer_edit_inner.1.sha256-34481b9084.js";import{a as Aa,r as Pa,p as Ue}from"./requests.1.sha256-5b3fc43e70.js";import{b as vt,s as Ra}from"./redux-toolkit.esm.1.sha256-c9897efd67.js";import{a as qt}from"./js.cookie.1.sha256-b274c81169.js";import{e as oe,p as ht,i as La,w as Ia,m as Ea}from"./constants.1.sha256-38f4dc1071.js";import{B as Ba}from"./react-router-dom.1.sha256-d414cae460.js";import{c as N}from"./index.1.sha256-2204be5363.js";import{b as js,c as Oa,a as Ma,g as cs,A as Wa}from"./address.1.sha256-3f71e1850f.js";import{u as Be,i as $a,f as ee,S as Ha,g as Va}from"./react-router.1.sha256-d433f16b4e.js";import{u as Le}from"./useEffectOnce.1.sha256-ede3d12bd3.js";import{S as ue}from"./Spinner.1.sha256-b63f390a52.js";import{c as bt}from"./index.1.sha256-bba8426d7a.js";import{o as Ne}from"./yup.1.sha256-7565e34740.js";import{u as ke,C as Ua}from"./index.esm.1.sha256-6f50330ddf.js";import{a as Ze,c as De,d as Ns}from"./array.1.sha256-899a6845d3.js";import"./toPairs.1.sha256-1c27ab6d58.js";import{h as ks,s as st,A as at,a as Dt}from"./notifications.1.sha256-22ce999815.js";import{M as Gt,a as qa}from"./index.1.sha256-7bc9136e62.js";import{B as Zt,m as It}from"./index.1.sha256-51f0c7fe34.js";import{u as Ga}from"./useMedia.1.sha256-3a779f1c03.js";import{E as Fs}from"./EmailInputController.1.sha256-47b4940056.js";import{P as Za}from"./PasswordInputController.1.sha256-8c360c7c89.js";import{P as Ya}from"./PhoneNumberInputController.1.sha256-bfc3fe20b4.js";import{T as gt}from"./TextInputController.1.sha256-ad21646c3c.js";import{c as za,u as Ka}from"./index.1.sha256-13a79a1060.js";import{p as Xa,b as Ja,e as Ts,n as ft,z as Qa}from"./validation.1.sha256-5c3897149a.js";import{a as As}from"./index.1.sha256-f7724c6ecf.js";import{B as Ie,a as Ee}from"./BoxedGroupInputController.1.sha256-ef85648000.js";import{R as Ps}from"./RinseButton.1.sha256-31aa4971bc.js";import{u as Fe}from"./dataHooks.1.sha256-3888564008.js";import{c as Rs,a as en,b as tn}from"./serviceTypes.1.sha256-f72d3ff265.js";/* empty css                              */import{d as Xe,f as ye}from"./stringUtils.1.sha256-2be81a19c5.js";import{C as be}from"./CSSTransition.1.sha256-1081613061.js";import{Z as sn}from"./ZipInputController.1.sha256-f772024f7c.js";import{D as ls}from"./index.1.sha256-2a14df3325.js";import{P as an}from"./index.1.sha256-a73e7013f7.js";import{S as nn}from"./ServicesFieldset.1.sha256-9eb07a674c.js";import{m as Et}from"./index.1.sha256-dc576205a9.js";import{j as ds}from"./timeUtils.1.sha256-4405b82945.js";import{g as Ls}from"./getters.1.sha256-da1309d100.js";import{P as Bt}from"./index.1.sha256-4b13f8e3e8.js";import{c as on}from"./exports.1.sha256-e7ea12f564.js";import{U as rn}from"./uikit.1.sha256-db4f9c9a42.js";import{T as cn}from"./TransitionGroup.1.sha256-5854e95a56.js";import{T as ln}from"./Transition.1.sha256-76aa6f8eff.js";import{u as dn}from"./useLocation.1.sha256-f02f55c245.js";import{u as un}from"./useInterval.1.sha256-900f31e730.js";import{P as pn}from"./Provider.1.sha256-da7830c350.js";import"./_commonjsHelpers.1.sha256-d18bdf7c2f.js";import"./hoist-non-react-statics.cjs.1.sha256-94177b68a7.js";import"./defineProperty.1.sha256-725b77c2f6.js";import"./toPropertyKey.1.sha256-a4b30e57f4.js";import"./typeof.1.sha256-340f9cdb42.js";import"./index.1.sha256-161aaeab9d.js";import"./axios.1.sha256-fb82f1d9fe.js";import"./Button.1.sha256-35f576c90e.js";import"./utils.1.sha256-4d8b41e760.js";import"./useSelector.1.sha256-650d49605d.js";import"./groupBy.1.sha256-77439bff47.js";import"./_baseEach.1.sha256-c8f8091614.js";import"./_baseIteratee.1.sha256-18af11ec63.js";import"./_Map.1.sha256-effca63c03.js";import"./isObject.1.sha256-d68c67d6b7.js";import"./_baseIsEqual.1.sha256-2d606edfcf.js";import"./_MapCache.1.sha256-bad0a2a0da.js";import"./_getTag.1.sha256-286ee53a68.js";import"./get.1.sha256-efe98ad064.js";import"./isSymbol.1.sha256-408b520cb0.js";import"./sortBy.1.sha256-ada75ad0a9.js";import"./index.1.sha256-69bf48aa34.js";import"./index.1.sha256-6636be0010.js";import"./rinse-repeat-logo--horizontal.1.sha256-ef9b07aba1.js";import"./index.1.sha256-171ccabcf3.js";import"./colors.1.sha256-e1fd46124e.js";import"./index.1.sha256-da6cd70785.js";import"./inheritsLoose.1.sha256-9d1d51b64e.js";import"./setPrototypeOf.1.sha256-862ec942ec.js";import"./objectWithoutPropertiesLoose.1.sha256-155261ed69.js";import"./index.1.sha256-3e0f416b3f.js";import"./addressUtils.1.sha256-96a68087cd.js";import"./TextInput.1.sha256-8781e7c32f.js";import"./TextInputIcon.1.sha256-2eb10bde4a.js";import"./_baseSlice.1.sha256-b968445b29.js";import"./styles.1.sha256-39b75b57ae.js";import"./util.1.sha256-ff4825489b.js";import"./phoneUtils.1.sha256-d3787a8e4a.js";import"./normalizeArguments.1.sha256-7bc6ca83b5.js";import"./isValidNumber.1.sha256-14234e8c86.js";import"./stripe.1.sha256-62f2b2ae2f.js";import"./purify.es.1.sha256-e313442a48.js";import"./payment.1.sha256-3e00ce992f.js";import"./moment.1.sha256-8e7c410ba3.js";import"./index.1.sha256-de5a7f77a3.js";import"./index.1.sha256-e058907c67.js";import"./index.1.sha256-f48b6adae8.js";import"./index.1.sha256-97443f839a.js";import"./createClass.1.sha256-de804af1ec.js";import"./assertThisInitialized.1.sha256-d792822bea.js";import"./index.1.sha256-1c6859f8c8.js";import"./index.module.1.sha256-c5831d05c2.js";import"./TransitionGroupContext.1.sha256-7f219dd442.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="a03ac451-cfba-4b9a-bad5-b29ef329236c",t._sentryDebugIdIdentifier="sentry-dbid-a03ac451-cfba-4b9a-bad5-b29ef329236c")}catch{}const _t=[u.Root,u.Account,u.SinglePageSchedule,u.Address],wt=[u.Root,u.Account,u.Address],Is=[u.Root,u.Account,u.Address,u.Services,u.Schedule,u.PaymentInfo],Es=[u.Account,u.CorporateOffice,u.CorporatePickupLocation,u.Address,u.Services,u.Schedule,u.PaymentInfo],Bs=[..._t,u.OutOfServiceAreaThanks],mn=[u.OutOfServiceArea,u.OutOfServiceAreaThanks],qe=(t,s)=>{Array.isArray(s)||(s=[s]);const a=[...t];return s.forEach(n=>{const r=a.findIndex(o=>o===n);r>=0&&a.splice(r,1)}),a},us=(t,s,a)=>{const n=[...t],r=n.findIndex(o=>o===a);return r>=0&&n.splice(r+1,0,s),n},Yt=t=>t?_t:Is,Os=(t,s,a=!1,n=!1)=>{const r=!!yt()||!!t,o=!!t&&t.assignToBranchByLocale;let i=Yt(!r);const p=mt(),l=p===u.OutOfServiceAreaThanks;return p===u.OutOfServiceArea?i=mn:l?i=Bs:n?i=wt:r&&!o&&(i=Es,a&&(i=qe(i,[u.Address,u.Schedule]))),s&&!s.requirePaymentMethod&&(i=qe(i,[u.PaymentInfo])),i},Ms=()=>{["addressData","corporateBranchLocaleName","corporateBranchUid","corporatePickupLocation","dryCleanDeliveryDate","signupCorporateAccountSlug","pickupDate","washAndFoldDeliveryDate","wfNextDayRush"].forEach(s=>{Tt(s)}),localStorage.removeItem("selectedServiceTypes"),localStorage.removeItem("willFinishSignupLater"),localStorage.removeItem("newLeadEmail"),localStorage.removeItem("newLeadPhoneNumber"),localStorage.removeItem("leadCapturePopupWasClosed"),Object.values(Re).forEach(s=>{localStorage.removeItem(s)}),window.location.replace("/customers/signup-success/")},hn=null,Ws=vt({name:"corporateAccount",initialState:hn,reducers:{setCorporateAccount:(t,s)=>s.payload}}),{setCorporateAccount:$s}=Ws.actions,gn=Ws.reducer,fn=null,Hs=vt({name:"corporateBranch",initialState:fn,reducers:{setCorporateBranch:(t,s)=>s.payload}}),{setCorporateBranch:Vs}=Hs.actions,xn=Hs.reducer,yn=t=>async s=>{const a=await Aa(t);return s($s(a)),a},vn={customer:{},isFetching:!1},Us=vt({name:"customer",initialState:vn,reducers:{setCustomerData:(t,s)=>({customer:s.payload,isFetching:!1}),setCustomerIsFetching:(t,s)=>({...t,isFetching:s.payload})}}),{setCustomerData:bn,setCustomerIsFetching:ps}=Us.actions,Dn=Us.reducer,St=t=>s=>{s(bn(t)),t.corporateAccount&&s($s(t.corporateAccount)),t.corporateBranch&&s(Vs(t.corporateBranch))},xt=t=>async s=>{s(ps(!0));try{const a=await Pa(t);return(a.email||a.phoneNumber)&&s(St(a)),a}finally{s(ps(!1))}},qs=!yt(),Ot=de(`${W}-pickupDate`)?.value,_n=P(Ot).isBefore(P().startOf("day"));let Gs=de(`${W}-pickupDate`)?.value??"";Ot&&!_n&&(Gs=Ot);const ms=de(`${W}-selectedServiceTypes`)?.value,hs=de("selectedServiceTypes"),gs=qt.get("selected_service");let Je=[];ms?Je=ms:hs?Je=hs:gs?Je=[gs]:qs&&(Je=[oe.WashAndFold.toString()]);const wn={firstPickupDate:Gs,isCorporateSelectedAtWork:X("corporatePickupLocation")===Pt||!1,selectedServiceTypes:Je,useWFNextDayRush:X("wfNextDayRush")||qs},Zs=vt({name:"formData",initialState:wn,reducers:{setFirstPickupDate:(t,s)=>({...t,firstPickupDate:s.payload}),setIsCorporateSelectedAtWork:(t,s)=>({...t,isCorporateSelectedAtWork:s.payload}),setSelectedServiceTypes:(t,s)=>({...t,selectedServiceTypes:s.payload}),setUseWFNextDayRush:(t,s)=>({...t,useWFNextDayRush:s.payload})}}),{setFirstPickupDate:nt,setIsCorporateSelectedAtWork:Sn,setSelectedServiceTypes:Ys,setUseWFNextDayRush:Cn}=Zs.actions,jn=Zs.reducer,ot=t=>t.formData.firstPickupDate,zt=t=>t.formData.isCorporateSelectedAtWork,Ct=t=>t.formData.selectedServiceTypes,zs=t=>t.formData.useWFNextDayRush,Nn="_container_1cmh8_6",kn="_item_1cmh8_13",Fn="_item-active_1cmh8_22",Tn="_number_1cmh8_26",Pe={container:Nn,item:kn,itemActive:Fn,number:Tn},An=({currentRoute:t})=>e.jsxs("div",{className:Pe.container,children:[e.jsxs("div",{className:N(Pe.item,t===u.Account&&Pe.itemActive),children:[e.jsx("div",{className:Pe.number,children:"1"}),e.jsx("div",{children:Rt[u.Account]})]}),e.jsxs("div",{className:N(Pe.item,t===u.Address&&Pe.itemActive),children:[e.jsx("div",{className:Pe.number,children:"2"}),e.jsx("div",{children:Rt[u.Address]})]})]}),Pn="_mobileHeadingText_11mwl_47",Rn="_wrapper_11mwl_213",Ln="_transparent_11mwl_213",In="_opaqueDesktopNavbar_11mwl_219",En="_opaqueDesktopNavbarWithShadow_11mwl_226",Bn="_navbar_11mwl_232",On="_navbarCenter_11mwl_238",Mn="_navbarLeft_11mwl_245",Wn="_navbarRight_11mwl_246",$n="_backArrow_11mwl_250",Hn="_visible_11mwl_264",Vn="_desktopHeadingText_11mwl_268",Un="_mobileStepText_11mwl_277",qn="_mobileNavLogoLink_11mwl_282",z={mobileHeadingText:Pn,wrapper:Rn,transparent:Ln,opaqueDesktopNavbar:In,opaqueDesktopNavbarWithShadow:En,navbar:Bn,navbarCenter:On,navbarLeft:Mn,navbarRight:Wn,backArrow:$n,visible:Hn,desktopHeadingText:Vn,mobileStepText:Un,mobileNavLogoLink:qn},Gn=({canGoBack:t,currentRoute:s})=>{const a=Be(),n=Mt(),r=s===u.SinglePageSchedule,o=s===u.Account,c=s===u.Address,i=n,p=Ss(),l=X("is_retail")==="true",[d,D]=R.useState(0);Le(()=>{const M=document.querySelector(".signup-page"),B=()=>{pt()<ht&&D(window.scrollY)},I=()=>{pt()>=ht&&D(M.scrollTop)};return window.addEventListener("scroll",B,{passive:!0}),M.addEventListener("scroll",I,{passive:!0}),()=>{window.removeEventListener("scroll",B),M.removeEventListener("scroll",I)}});const y=o&&n?"Letâ€™s get started!":c&&n?"Address":Rt[s];function w(){return r?"Schedule your order":o&&n?"Letâ€™s get started!":c&&n?js:null}const S=w(),g=[u.Account,u.Address],h=!i&&g.includes(s),_=(l?wt:Yt(n)).length-1,v=n?_:g.length,j=s===u.Root,f=[u.Root,u.OutOfServiceAreaThanks].includes(s),b=f,A=i,L=(f||!g.includes(s))&&!i;return e.jsx("div",{className:N("navbar__wrapper",z.wrapper,b&&z.transparent),children:e.jsxs("nav",{className:N("navbar","navbar--minimal",z.navbar,"uk-navbar-container",L&&"uk-navbar-transparent","uk-navbar",A&&z.opaqueDesktopNavbar,A&&d>32&&z.opaqueDesktopNavbarWithShadow),"data-uk-navbar":!0,children:[e.jsx("div",{className:N(!i&&"hide@s","uk-navbar-left",z.navbarLeft),children:j||p?e.jsx("a",{id:"nav__a--home",className:N("uk-navbar-item uk-logo nav__link",p&&z.mobileNavLogoLink),href:"/","aria-label":"Home",children:e.jsx("figure",{className:"figure--logo logo--nav-center"})}):t&&e.jsx("a",{id:"nav__a--back","data-testid":"back-arrow-button","aria-label":"Back",className:N("uk-navbar-item",z.backArrow,"nav__link"),onClick:()=>{a.goBack()},role:"button",children:e.jsx("span",{className:"rinse-icon rinse-icon--arrow-left-long"})})}),!(p&&r)&&e.jsxs(e.Fragment,{children:[y&&e.jsx("div",{className:N("hide@s","uk-navbar-center",z.navbarCenter),children:e.jsx("span",{className:N(z.mobileHeadingText,d>=32&&z.visible),children:y})}),S&&e.jsx("div",{className:N("show@s","uk-navbar-center",z.navbarCenter),children:e.jsx("h1",{className:z.desktopHeadingText,children:S})}),e.jsx("div",{className:N(!i&&"hide@s","uk-navbar-right",z.mobileStepText,z.navbarRight),children:l?e.jsxs(e.Fragment,{children:[o&&`step 1 / ${v}`,c&&`step 2 / ${v}`]}):n?e.jsxs(e.Fragment,{children:[o&&`step 1 / ${v}`,r&&`step 2 / ${v}`,c&&`step 3 / ${v}`]}):e.jsxs(e.Fragment,{children:[o&&`step 1 / ${v}`,c&&`step 2 / ${v}`,r&&`step ${_} / ${v}`]})})]}),!i&&e.jsx("div",{className:"show@s navbar__nav-left--narrow uk-navbar-left",children:e.jsx("a",{id:"nav__a--home",className:"uk-navbar-item uk-logo nav__link",href:"/","aria-label":"Home",children:e.jsx("figure",{className:"figure--logo logo--nav-left"})})}),h&&e.jsx("div",{className:"show@s uk-navbar-center",children:e.jsx(An,{currentRoute:s})})]})})},Kt=t=>t.customer,Te=bt([Kt],t=>t.customer),Ks=bt([Te],t=>({amount:t.rushFee,currency:t.rushFeeCurrency})),Xs=bt([Kt],t=>t.isFetching),Ye=bt([Kt],t=>Qe(t.customer)),Xt=(t,s,a)=>{R.useEffect(()=>{const{unsubscribe:n}=t((r,o)=>{const c=o?.name;(o?.type==="change"||o?.type===void 0)&&a.includes(c)&&te(`${s}-${o.name}`,r[o.name])});return n},[t,s,a])},Zn="https://static-prod.rinse.com/assets/bundles/sms-graphic.1.sha256-cd763e6625.png",Yn="https://static-prod.rinse.com/assets/bundles/sms-graphic--mobile.1.sha256-7290c8a364.png",zn="_container_shcow_6",Kn="_modalRoot_shcow_10",Xn="_bottomSheet_shcow_14",Jn="_image_shcow_23",it={container:zn,modalRoot:Kn,bottomSheet:Xn,image:Jn},Qn=({setShowModal:t,showModal:s})=>{const a=()=>t(!1),n=Ga(`(max-width: ${La}px)`);return e.jsxs(Zt,{classes:{modal:it.container,modalRoot:it.modalRoot,bottomSheet:it.bottomSheet},closeModal:a,showModal:s,title:"Why do we need your phoneÂ number?",children:[e.jsx("div",{children:e.jsx("p",{children:"We use text messaging as the primary way to communicate with you about your order. This includes messages that let you know when our Valet will arrive, when he/she is en route, and confirming when we have picked up or delivered your items. You also have the ability to text our Customer Care team directly at any time and a real person will respond."})}),e.jsx("img",{src:n?Yn:Zn,"aria-hidden":"true",className:it.image})]})},eo=({corporateSlugFromLandingPage:t,customer:s,funnelOrder:a,pushNextRoute:n})=>{const r=ie(),o=T=>r(St(T)),c=k(Wt),{email:i,hasPlacedAnyOrders:p,isAppleConnected:l,isGoogleConnected:d,hasUser:D}=s,y=D,w=l||d,S=c?.domains||[],g=c?.usesPasswordAuthentication||!1,h=ra(S,"or"),C=new URLSearchParams(window.location.search).get("is_retail")==="true",_=Ze().shape({firstName:ft.required("Please enter your first name"),lastName:ft.required("Please enter your last name"),email:Ts.required("Please enter your email address").test({name:"email",message:`Please enter your ${h} email address`,test:T=>g?T?g&&Qe(S)?!0:S.some(ve=>T.endsWith(`@${ve}`)):!1:!0}),password:y?De():Ja.required(),phoneNumber:Xa.required()}),v=["firstName","lastName","phoneNumber","email"],j=T=>s[T]||de(`${W}-${T}`)?.value||X(T)||de(T)||"",{control:m,formState:f,getValues:b,handleSubmit:A,setError:L,setValue:M,watch:B,trigger:I}=ke({mode:"onTouched",resolver:Ne(_)}),x=R.useMemo(()=>v.filter(T=>!!de(`${W}-${T}`)),[v]);R.useEffect(()=>{setTimeout(()=>{I(x)},1e3)},[I]),Xt(B,W,v);const[E,H]=R.useState(),[V,F]=R.useState(!1),[Z,Q]=R.useState(!1),Y=T=>{x.includes(T)&&b(T)!==""&&f.errors[T]&&I(T)},se=()=>{F(!1)},re=T=>{if(/[\w\d-]+\.[\w]{2,}/.test(T)){const We=ca(T);Q(!0),tt.get(`/corporateaccounts/api/domains/?domain=${We}`).then(Ae=>{Ae.data&&Ae.data.slug&&(H(Ae.data),(!t||Ae.data.slug!==t)&&F(!0))}).finally(()=>{Q(!1)})}},_e=B("email");za(()=>{i||re(_e)},[_e]);const $=J.createRef(),O=()=>{M("email",""),$.current.focus()},G=J.createRef(),K=()=>{se(),O()},pe=()=>{if(E.usesPasswordAuthentication)se(),G.current.focus(),je("signupCorporateAccountSlug",E.slug);else{const T=b();Object.keys(T).forEach(ve=>{ve!=="password"&&je(ve,T[ve])}),window.location.pathname=`/partners/${E.slug}`}},q=async T=>{Object.keys(T).forEach(fe=>{fe!=="password"&&je(fe,T[fe])}),ks(),bs();const ve=X("signupCorporateAccountSlug")??null;let We={customer:{...T,corporateAccountSlug:ve},firstName:T.firstName,lastName:T.lastName,email:T.email,password:T.password},Ae="/customers/api/signup/",es="POST";y&&(Ae="/customers/api/customer/",es="PATCH",We=T,We.password&&delete We.password),ba(T.email);try{const fe=await tt({method:es,url:Ae,data:We}),xe=fe.data.customer||fe.data;o(xe);const{corporateAccount:$e,email:Nt,uid:He,phoneNumber:ze}=xe,ts=!Qe($e);ws(He,Nt,ze),Da(He),_a(xe);let Ke=a;const ss=!ts;if(ss&&(C?Ke=wt:Ke=_t),ts&&(Ke=Es,$e.assignToBranchByLocale&&(Ke=Is)),ss&&p){window.location.href="/customers/account/";return}n(Ke)}catch(fe){if(!("response"in fe))throw fe;const xe=fe.response.data,$e=xe.customer,Nt="This field must be unique.";let He="/accounts/login/",ze='There was an error processing your request.  Please try again or <a class="link--underline" href="mailto:care@rinse.com">contact us</a> for more info.';xe.email&&xe.email.includes(Nt)?(He+=`?$email_exists=1&username=${encodeURI(T.email)}`,ze=`The email address you entered is already registered to a Rinse account.  Please <a class="link--underline" href="${He}">log in</a> to that account or enter a different email address.`,L("email",{type:"custom",message:"An account with this email already exists."}),At("fieldset--account",-100)):$e&&$e.nonFieldErrors&&$e.nonFieldErrors.includes("phone_exists")||xe.nonFieldErrors&&xe.nonFieldErrors.includes("phone_exists")?(ze=`The phone number you entered is already registered to a Rinse account.  Please <a class="link--underline" href="${He}">log in</a> to that account or enter a different phone number.`,L("phoneNumber",{type:"custom",message:"An account with this phone number already exists."}),At("fieldset--account")):console.error("AccountForm submission error:",xe),st(ze,at.Danger)}},Oe=c?.usesPasswordAuthentication,me=!Qe(E)&&E.usesPasswordAuthentication,[he,ge]=J.useState(!1),jt=()=>ge(!0),{isSubmitting:we,isValid:Me}=f,ea=!w&&(!t||Oe)&&(!V||me),Qt=t&&!Oe||we,ta=w||y||we||!!i,sa=y||we,aa=we||!Me||Z||V,na=de("willFinishSignupLater");return e.jsxs("form",{className:"signup-form signup-form--account",noValidate:!0,onSubmit:A(q),children:[e.jsxs("fieldset",{id:"fieldset--account",className:"signup-fieldset form-new__fieldset",children:[e.jsx("legend",{className:"sr-only",children:"Contact information and basic details"}),e.jsxs("div",{className:"form-new__inline-fields-wrapper",children:[e.jsx(gt,{autoComplete:"given-name",control:m,defaultValue:j("firstName"),disabled:Qt,extraHandleChange:()=>{Y("firstName")},id:"signup__first-name",label:"First name",maxLength:30,name:"firstName",showErrorWithoutTouch:x.includes("firstName"),testId:"first-name-input"}),e.jsx(gt,{autoComplete:"family-name",control:m,defaultValue:j("lastName"),disabled:Qt,extraHandleChange:()=>{Y("lastName")},id:"signup__last-name",label:"Last name",maxLength:30,name:"lastName",showErrorWithoutTouch:x.includes("lastName"),testId:"last-name-input"})]}),e.jsx(Ya,{control:m,defaultValue:j("phoneNumber"),disabled:we,extraHandleChange:()=>{Y("phoneNumber")},id:"signup__phone-number",label:"Phone number",name:"phoneNumber",openPhoneNumberModal:jt,showErrorWithoutTouch:x.includes("phoneNumber"),testId:"phone-number-input"}),e.jsx(Fs,{control:m,defaultValue:j("email"),disabled:ta,extraHandleChange:()=>{se(),Y("email")},id:"signup__email",label:"Email",name:"email",ref:$,showErrorWithoutTouch:x.includes("email"),testId:"email-input"}),ea&&e.jsx(Za,{autoComplete:"new-password",control:m,defaultValue:"",disabled:sa,id:"signup__password",label:y?"Password saved":"Create password",name:"password",ref:G,testId:"password-input"}),V&&e.jsx(Gt,{buttonId:"signup-button--continue-with-corporate-account",buttonSecondaryId:"signup-button--change-email-to-noncorporate",buttonSecondaryText:"Change email address",buttonText:"Continue",leftIconName:"office",messageText:`Rinse offers special benefits to employees of ${E.name}. Do you want to sign in under the plan?`,onButtonClick:pe,onButtonSecondaryClick:K})]}),e.jsxs("p",{className:"signup-text signup-text--note signup-text--terms",children:["By selecting continue, you agree to receive service and marketing auto-sent texts from Rinse. Opt-out anytime on your â€œMy Accountâ€ page or text â€œSTOPâ€. Text â€œHELPâ€ for help. Message frequency varies. Message & data rates may apply. By continuing, you also agree to our"," ",e.jsx("a",{href:"/terms-of-use/",target:"_blank","aria-label":"Rinse Terms of use â€” opens in a new tab",className:"link--primary signup-link",children:"Terms"})," ","and"," ",e.jsx("a",{href:"/privacy/",target:"_blank","aria-label":"Rinse Privacy Policy â€” opens in a new tab",className:"link--primary signup-link",children:"Privacy Policy"}),"."]}),e.jsx("div",{className:"signup-form-button-group",children:e.jsx("button",{id:"signup__submit--account",className:"signup-button","data-testid":"continue-button-account",disabled:aa,type:"submit","aria-live":"polite",children:we?"Submitting...":"Continue"})}),na&&e.jsxs("p",{className:"signup-text signup-text--log-in-instead",children:["Already have an account?"," ",e.jsx("a",{href:"/accounts/login/",className:"link--primary",children:"Log in instead"})]}),e.jsx(Qn,{setShowModal:ge,showModal:he})]})},to=!!yt(),so=({corporateSlugFromLandingPage:t,funnelOrder:s,pushNextRoute:a})=>{const n=k(Te),r=k(Xs),o=!to;return e.jsx("div",{className:"signup-page signup-page--account",children:e.jsxs("div",{className:N("signup-form-wrapper",o&&"signup-form-wrapper--single-page-scheduling-funnel"),children:[o?e.jsx("h1",{className:"hide@s signup-heading",children:"Letâ€™s get started!"}):e.jsx("h1",{className:"signup-form-heading",children:"Letâ€™s set up your account"}),r?e.jsx(ue,{wrapperClassName:"signup-loading-container"}):e.jsx(eo,{corporateSlugFromLandingPage:t,customer:n,funnelOrder:s,pushNextRoute:a})]})})},ao="_body_146yy_6",no="_fieldset_146yy_12",oo="_list_146yy_19",io="_footer_146yy_27",ro="_dateRow_146yy_33",co="_dateRowLabel_146yy_37",lo="_title_146yy_45",uo="_messageNotServiced_146yy_49",Se={body:ao,fieldset:no,list:oo,footer:io,dateRow:ro,dateRowLabel:co,title:lo,messageNotServiced:uo},po=({availableDates:t,control:s,onSelectDate:a,setShowModal:n,showModal:r,getDeliveryDatesForPickupDate:o})=>{const c=k(ot),i=()=>n(!1),p=d=>e.jsx("li",{role:"presentation",children:e.jsx(Ie,{className:Se.dateRow,control:s,extraHandleChange:D=>{a(D.target.value)},hideInputComponent:!0,id:d,label:e.jsx("div",{className:Se.dateRowLabel,children:Lt(d)}),name:"pickupDate",type:Ee.Radio,value:d},d)},d),l=()=>{const d=Ce(Re.washAndFoldDeliveryDate),D=Ce(Re.selectedServiceTypes),{standardDeliveryDate:y,rushDeliveryDate:w}=o(c);let S=null,g=null;if(te(`${W}-pickupDate`,c),D.includes(`${oe.WashAndFold}`)){const h=Ce(`${W}-washAndFoldStandardDeliveryDateForSelectedPickupDate`);P(d).isBefore(P(h))?S=w:S=y,te(`${W}-washAndFoldDeliveryDate`,S)}D.includes(`${oe.DryClean}`)&&(g=y,te(`${W}-dryCleanDeliveryDate`,g)),te(`${W}-washAndFoldStandardDeliveryDateForSelectedPickupDate`,y),i()};return e.jsx(Zt,{classes:{body:Se.body},closeModal:i,modalStyle:As.Oversized,showModal:r,hideCloseIcon:!0,children:e.jsxs("div",{className:N(Se.fieldset),children:[e.jsx("h3",{className:N(It.title,Se.title),children:"Update your pickup date:"}),e.jsx("div",{className:Se.messageNotServiced,children:e.jsx(Gt,{leftIconName:"x-circle",messageText:"Oh no! We don't serve your address on your selected pickup day due to our local schedule. Please select a different pickup date: ",variation:qa.Error})}),e.jsx("ul",{className:Se.list,role:"radiogroup","aria-label":"Date options",children:t.map(d=>p(P(d.date).format("YYYY-MM-DD")))}),e.jsx(Ps,{onClick:l,as:"button",className:Se.footer,children:"Confirm new pickup date"})]})})};async function Js({customer:t,firstPickupDate:s,selectedServiceTypes:a,selectedWashAndFoldDeliveryDate:n,selectedDryCleanDeliveryDate:r,setIsSubmitting:o}){const c=Ve("call_cx_number");try{let i,p,l=0;const d=Ve("service_types");if(a.includes(`${oe.WashAndFold}`)){const y=P(n).diff(P(s),"days"),w=t.pickupAndDeliveryDates.find(({pickup:S})=>S===s).delivery;P(n).isBefore(P(w))&&(l=y),i=n}a.includes(`${oe.DryClean}`)&&(p=r),await $t(t,s,l,a,!0,i,p);const D=Rs(d,a);Vt(Ut.SelectedServiceTypes,{selected_service_types:D.join(",")}),await Ue({data:{selectedServiceTypes:a}}),Ms()}catch(i){console.error(i),st(`There was an error creating your order. Please call us toll free at ${c}.`,at.Danger),o?.(!1)}}const mo=({customer:t,funnelOrder:s,inSinglePageSchedulingFunnel:a,pushNextRoute:n})=>{const r=Be(),o=ie(),c=Fe("num_dates_for_scheduling"),{pickupAndDeliveryDates:i}=t,p=i.map(q=>({date:q.pickup})).slice(0,c),l=q=>o(nt(q)),d=R.useCallback(q=>Cs(q,i),[i]),[D,y]=R.useState(!1),w=q=>{l(q)},S=q=>{o(St(q))},g=X("is_retail")==="true",h=Oa(t),{clearErrors:C,control:_,formState:v,handleSubmit:j,reset:m,setError:f,setValue:b,trigger:A,watch:L,getValues:M}=ke({mode:"onChange",defaultValues:h,resolver:Ne(Ma)});Xt(L,W,["address1","address2","addressSearch","addressState","city","country","lat","lng","zipCode","deliveryNotes"]);const I=Ce(Re.selectedServiceTypes);let x=Ce(Re.washAndFoldDeliveryDate),E=Ce(Re.dryCleanDeliveryDate);const H=Ce(Re.pickupDate),V=Ce(`${W}-washAndFoldStandardDeliveryDateForSelectedPickupDate`),F=()=>Js({customer:t,firstPickupDate:H,selectedServiceTypes:I,selectedWashAndFoldDeliveryDate:x,selectedDryCleanDeliveryDate:E}),Z=cs(h.zipCode),[Q,Y]=R.useState(Z),se=async q=>{Ds(q);try{const me=(await Ue({data:{...q,addressData:X("addressData")||void 0}})).data;S(me),qt.remove("campaign_code"),Tt("addressData");let he;if(g){Tt("is_retail"),window.location.href="/customers/account/";return}if(!me.pickupAndDeliveryDates.some(Me=>Me.pickup===H)){y(!0);return}const ge=me.pickupAndDeliveryDates.find(Me=>Me.pickup===H),jt=[ge.delivery,ge.rushDelivery].includes(x);I.includes(`${oe.WashAndFold}`)&&!jt&&(P(x).isBefore(P(V))?x=ge.rushDelivery:x=ge.delivery,te(`${W}-washAndFoldDeliveryDate`,x));const we=[ge.delivery,ge.rushDelivery].includes(E);if(I.includes(`${oe.DryClean}`)&&!we&&(E=ge.delivery,te(`${W}-dryCleanDeliveryDate`,E)),Q)s.includes(u.OutOfServiceAreaThanks)?a?(he=_t,await F()):he=Os(me.corporateAccount,me.corporateBranch):(he=s,he=qe(he,[u.PaymentInfo]));else{he=Bs,n(he);return}a&&t.hasAnUncanceledOrder?window.location.href="/customers/account/":a?await F():n(he)}catch{Dt()}},re=q=>{const{zipCode:Oe}=q;C("addressSearch");const me=cs(Oe);Y(me),me||Ue({data:q}),A()},_e=()=>{m({address1:"",address2:"",addressSearch:"",city:"",deliveryNotes:"",lat:void 0,lng:void 0,zipCode:""}),Y(!1)},O=!!L("zipCode")&&!Q,{isSubmitting:G,isValid:K}=v;let pe;return G?pe="Submitting...":g?pe="Create my account":O?pe="Continue exploring Rinse":a?pe="Schedule pickup":pe="Confirm and create my account",e.jsxs("form",{className:"signup-form",autoComplete:"off",noValidate:!0,onSubmit:j(se),children:[e.jsx(Wa,{autoFocus:!0,clearAddress:_e,control:_,disabled:G,getValues:M,isServiceable:Q,onSelectAddress:re,setError:f,setValue:b}),e.jsxs("div",{className:"signup-form-button-group",children:[!a&&e.jsx("button",{id:"signup__button--address-back",className:"show@s signup-button signup-button--secondary",disabled:G,onClick:()=>r.goBack(),type:"button",children:"Back"}),e.jsx("button",{id:"signup__submit--address",className:"signup-button","data-testid":"continue-button-address",disabled:!K||G,type:"submit","aria-live":"polite",children:pe})]}),e.jsx(po,{availableDates:p,setShowModal:y,showModal:D,control:_,getDeliveryDatesForPickupDate:d,onSelectDate:w})]})},ho=({funnelOrder:t,pushNextRoute:s})=>{const a=Mt(),n=k(Te),r=k(Ye);return e.jsx("div",{className:N("signup-page",a&&"signup-page--single-page-scheduling-funnel--address"),children:e.jsxs("div",{className:N("signup-form-wrapper",a&&"signup-form-wrapper--single-page-scheduling-funnel"),children:[a?e.jsx("h1",{className:"hide@s signup-heading",children:js}):e.jsx("h1",{className:"signup-form-heading signup-form-heading--address",children:"Where should we pick up your clothes?"}),r?e.jsx(ue,{wrapperClassName:"signup-loading-container"}):e.jsx(mo,{customer:n,funnelOrder:t,inSinglePageSchedulingFunnel:a,pushNextRoute:s})]})})},go=({className:t,disabled:s,id:a,isSelected:n,label:r,name:o,onChange:c,subLabel:i,value:p},l)=>{const d=D=>c(D.target.value);return e.jsxs("div",{className:N("radio-input",n&&"radio-input--selected",s&&"radio-input--disabled",t),children:[e.jsxs("label",{id:`label--${a}`,className:"radio-input__label",htmlFor:a,children:[e.jsx("span",{className:N("radio-input__radio","rinse-icon",n?"rinse-icon--radio-on":"rinse-icon--radio-off")}),e.jsxs("span",{className:"radio-input__label-text",children:[r,i&&e.jsx("span",{className:"radio-input__sublabel",children:i})]})]}),e.jsx("input",{id:a,checked:n,disabled:s,name:o,onChange:d,ref:l,type:"radio",value:p})]})},fo=J.forwardRef(go),xo=({control:t,defaultValue:s,name:a,...n})=>e.jsx(Ua,{control:t,defaultValue:s,name:a,render:({field:r,fieldState:o})=>e.jsx(fo,{...r,...o,...n})}),yo=({funnelOrder:t,pushNextRoute:s})=>{const a=Be(),n=ie(),r=m=>n(Vs(m)),o=k(Wt),c=k(Ge),i=Ze().shape({corporateBranchLocaleName:De().required(),corporateBranchUid:De().required()});let p=[];o&&(p=o.registrationShowBranchesAsFlatList?Ca(o):ja(o));let l=null,d=null;if(c)l=Xe(c.locale),d=c.uid;else if(p.length===1){const m=p[0];l=Xe(m.label),m.options.length===1&&(d=m.options[0].uid)}const{control:D,formState:y,handleSubmit:w,reset:S,setValue:g,watch:h}=ke({defaultValues:{corporateBranchLocaleName:l,corporateBranchUid:d},mode:"onChange",resolver:Ne(i)});R.useEffect(()=>{S({corporateBranchLocaleName:l,corporateBranchUid:d})},[S,d,l]);const C=async m=>{Object.keys(m).forEach(f=>{je(f,m[f])});try{await Ue({data:{corporateBranchUid:m.corporateBranchUid}});const f=o.corporateBranches.find(A=>A.uid===m.corporateBranchUid);r(f);let b=t;f.offersAtWorkService||(b=qe(b,u.CorporatePickupLocation)),f.requirePaymentMethod||(b=qe(b,[u.PaymentInfo])),s(b)}catch{Dt()}},_=h("corporateBranchUid"),{isSubmitting:v,isValid:j}=y;return e.jsx("div",{className:"signup-page",children:e.jsxs("div",{className:"signup-form-wrapper",children:[e.jsx("h1",{className:"signup-form-heading signup-form-heading--nowrap",children:"Please tell us where you work"}),e.jsxs("form",{className:"signup-form",noValidate:!0,onSubmit:w(C),children:[o?e.jsxs("fieldset",{id:"fieldset--branch",className:"signup-fieldset",children:[e.jsx("legend",{className:"sr-only",children:"Your office location"}),p.map(({label:m,options:f})=>{const b=f.length>1,L=b?void 0:()=>g("corporateBranchUid",f[0].uid),M=Xe(m);return e.jsx(Ie,{className:"boxed-group-input--signup-corporate-branch",control:D,disabled:v,extraHandleChange:L,hideInputComponent:!0,id:`signup__radio--corporate-locale--${Xe(m)}`,label:m,name:"corporateBranchLocaleName",renderRowBelow:B=>e.jsx(e.Fragment,{children:b&&e.jsx(be,{in:B,appear:!0,timeout:500,classNames:"corporate-branch-transitioner",children:e.jsxs("div",{className:"corporate-branch-transitioner",children:[e.jsx("hr",{}),e.jsx("div",{className:"corporate-branch-selection-wrapper",children:f.map(({uid:I,name:x})=>e.jsx(xo,{control:D,disabled:v,id:`signup__radio--corporate-branch--${I}`,isSelected:_===I,label:x,name:"corporateBranchUid",value:I},`signup__radio--corporate-branch--${I}`))})]})})}),type:Ee.Radio,value:M},`signup__radio--corporate-locale--${Xe(m)}`)})]}):e.jsx(ue,{wrapperClassName:"signup-loading-container"}),e.jsxs("div",{className:"signup-form-button-group",children:[e.jsx("button",{id:"signup__button--office-back",className:"show@s signup-button signup-button--secondary",disabled:v,onClick:()=>a.goBack(),type:"button",children:"Back"}),e.jsx("button",{id:"signup__submit--corporate-office",className:"signup-button",disabled:!j||v,type:"submit",children:v?"Submitting...":"Continue"})]})]})]})})},vo=({funnelOrder:t,pushNextRoute:s})=>{const a=Fe("supported_zips"),n=Be(),r=ie(),o=H=>r(Sn(H)),c=k(Ge),i=Ze().shape({atHomeZip:c?.offersAtWorkService?De().when("corporatePickupLocation",{is:kt,then:Qa.required().test({name:"isServiceableZip",message:"Unfortunately, we donâ€™t serve your neighborhood yet. Youâ€™ll need to use â€œAt Workâ€ service for now.",test:H=>!!a[H]})}):De(),corporatePickupLocation:De().required()}),l=X("corporatePickupLocation"),{control:d,formState:D,handleSubmit:y,watch:w}=ke({defaultValues:{atHomeZip:"",corporatePickupLocation:l},mode:"onChange",resolver:Ne(i)}),{address1:S,address2:g,city:h,offersAtWorkService:C,zipCode:_}=c??{},v=async H=>{Object.keys(H).forEach(F=>{je(F,H[F])});const V=H.corporatePickupLocation===Pt;if(o(V),V){const F=qe(t,[u.Address,u.Schedule]);try{await Ue({data:{address1:S,address2:g,city:h,zipCode:_}}),s(F)}catch{Dt()}}else{let F=t;F.includes(u.Address)||(F=us(F,u.Address,u.CorporatePickupLocation)),F.includes(u.Schedule)||(F=us(F,u.Schedule,u.Services)),s(F)}},j=J.createRef(),m=()=>{j.current.focus()},{name:f,pickupDayDisplayList:b,pickupServiceTime:A}=c??{},L=la(b),M=P(A,"HH:mm:ss").format("h:mm a"),I=w("corporatePickupLocation")===kt,{isSubmitting:x,isValid:E}=D;return e.jsx("div",{className:"signup-page",children:e.jsxs("div",{className:"signup-form-wrapper",children:[e.jsx("h1",{className:"signup-form-heading signup-form-heading--nowrap",children:"Where do you prefer to use Rinse?"}),c?e.jsxs("form",{className:"signup-form",noValidate:!0,onSubmit:y(v),children:[e.jsxs("fieldset",{id:"fieldset--branch",className:"signup-fieldset",children:[e.jsx("legend",{className:"sr-only",children:"Location to pick up and deliver your items"}),e.jsxs("div",{className:"choice-grid choice-grid--vertical",children:[e.jsx(Ie,{className:"boxed-group-input--signup-corporate-pickup-location",control:d,description:"Weâ€™ll pick up and deliver your clothes to your door, 7 days a week between 7pm and 10pm.",disabled:x,extraHandleChange:m,iconName:"home",id:"signup__radio--corporate-pickup-location--at-home",label:"At Home",name:"corporatePickupLocation",right:e.jsx("span",{className:"rinse-icon rinse-icon--home"}),type:Ee.Radio,value:kt},"signup__radio--corporate-pickup-location--at-home"),e.jsx(be,{in:C&&I,appear:!0,timeout:500,classNames:"corporate-pickup-home-transitioner",children:e.jsx("div",{className:"corporate-pickup-home-transitioner",children:e.jsx(sn,{control:d,disabled:x,label:"ZIP Code",name:"atHomeZip",placeholder:"Please enter your ZIP code",ref:j,supportedZIPs:a})})}),C&&e.jsx(Ie,{className:"boxed-group-input--signup-corporate-pickup-location",control:d,description:`Weâ€™ll pick up and deliver your clothes to your office, on ${L}.
Drop off your bags any day before ${M}.`,disabled:x,id:"signup__radio--corporate-pickup-location--at-work",label:"At Work",name:"corporatePickupLocation",renderRowBelow:H=>e.jsx("div",{className:"corporate-signup-radio-additional-content",children:e.jsx(be,{in:H,appear:!0,timeout:500,classNames:"corporate-pickup-office-transitioner",children:e.jsxs("div",{className:"corporate-pickup-office-transitioner",children:[e.jsx("hr",{}),e.jsxs("div",{className:"corporate-pickup-office-address-wrapper",children:[e.jsx("p",{children:f}),e.jsx("p",{children:S}),g&&e.jsx("p",{children:g})]})]})})}),right:e.jsx("span",{className:"rinse-icon rinse-icon--office"}),type:Ee.Radio,value:Pt},"signup__radio--corporate-pickup-location--at-work")]})]}),e.jsxs("div",{className:"signup-form-button-group",children:[e.jsx("button",{id:"signup__button--pickup-location-back",className:"show@s signup-button signup-button--secondary",disabled:x,onClick:()=>n.goBack(),type:"button",children:"Back"}),e.jsx("button",{id:"signup__submit--corporate-pickup-location",className:"signup-button",disabled:!E||x,type:"submit",children:x?"Submitting...":"Continue"})]})]}):e.jsx(ue,{wrapperClassName:"signup-loading-container"})]})})},bo=({pushNextRoute:t})=>{const s=ie(),a=h=>s(St(h)),n=X("address1")||void 0,r=X("city")||void 0,o=X("lat")||void 0,c=X("lng")||void 0,i=X("zipCode"),p=Ze().shape({firstName:ft.required().label("First name"),lastName:ft.required().label("Last name"),email:Ts.required().label("Email")}),{control:l,formState:d,handleSubmit:D,setError:y}=ke({mode:"onChange",resolver:Ne(p)}),w=async h=>{ks(),bs();try{const C=await tt({method:"POST",url:"/customers/api/lead-customer/",data:{firstName:h.firstName,lastName:h.lastName,email:h.email,address1:n,city:r,lat:o,lng:c,zipCode:i},headers:da()});a(C.data);const{email:_,uid:v}=C.data;ws(v,_),t()}catch(C){const _=C.response.data,v="This field must be unique.";let j="/accounts/login/",m='There was an error processing your request.  Please try again or <a class="link--underline" href="mailto:care@rinse.com">contact us</a> for more info.';_.email&&_.email.includes(v)&&(j+=`?$email_exists=1&username=${encodeURI(h.email)}`,m=`The email address you entered is already registered to a Rinse account.  Please <a class="link--underline" href="${j}">log in</a> to that account or enter a different email address.`,y("email",{type:"custom",message:"An account with this email already exists."}),At("fieldset--not-yet",-100)),st(m,at.Danger)}},{isSubmitting:S,isValid:g}=d;return e.jsx("div",{className:"signup-page signup-page--not-yet",children:e.jsxs("div",{className:"signup-form-wrapper",children:[e.jsxs("h1",{className:"signup-form-heading",children:["Youâ€™ll be the first to know when Rinse serves ",i]}),e.jsxs("form",{className:"signup-form signup-form--not-yet",noValidate:!0,onSubmit:D(w),children:[e.jsxs("fieldset",{id:"fieldset--not-yet",className:"signup-fieldset form-new__fieldset",children:[e.jsx("legend",{className:"sr-only",children:"Provide your contact information"}),e.jsxs("div",{className:"form-new__inline-fields-wrapper",children:[e.jsx(gt,{autoComplete:"given-name",control:l,defaultValue:"",disabled:S,id:"signup__first-name",label:"First name",maxLength:30,name:"firstName"}),e.jsx(gt,{autoComplete:"family-name",control:l,defaultValue:"",disabled:S,id:"signup__last-name",label:"Last name",maxLength:30,name:"lastName"})]}),e.jsx(Fs,{control:l,defaultValue:"",disabled:S,id:"signup__email",label:"Email",name:"email"})]}),e.jsx("div",{className:"signup-form-button-group",children:e.jsx("button",{id:"signup__submit--not-yet",className:"signup-button",disabled:S||!g,type:"submit",children:S?"Submitting...":"Continue"})})]})]})})},Do="_highlightText_xdba5_6",_o="_text_xdba5_11",ae={highlightText:Do,text:_o},Jt=({className:t,dataCorporateBranch:s,dataCustomer:a})=>{const[n,r]=R.useState(),[o,c]=R.useState(!1),i=!!s,p=()=>c(!1),l=()=>c(!0),d=qt.get("rinse_referral_code"),D=Ve("referral_amount");if(d)return e.jsxs("div",{className:t,children:[e.jsx(ls,{classes:{text:ae.text},messageText:e.jsxs(e.Fragment,{children:["Your ",e.jsx("span",{className:ae.highlightText,children:ye(D,0)})," ","credit will be automatically applied!"]}),onClick:l}),e.jsx(as,{closeModal:p,discountDetails:[{text:`You have  ${ye(D,0)} in Rinse credit`,iconName:"dollar-sign"},{iconName:"clothes",text:"Your credit will be automatically applied to your first order."}],showModal:o})]});const y=C=>{const{applicableForDeliveryFee:_,applicableForRushFee:v,applicableForServiceFee:j,discountEndDate:m,name:f,percentageDiscount:b,priceCapPerWfBag:A,priceCapPerWfBagCurrency:L,promoAmount:M,promoAmountCurrency:B,promoAmountApplicablePerReceipt:I,referralCreditAmount:x,referralCreditAmountCurrency:E,uid:H}=C,V={details:[],messageText:null,name:f,uid:H};if(parseFloat(A)>0)V.messageText=e.jsxs(e.Fragment,{children:["You will only be charged"," ",e.jsxs("span",{className:ae.highlightText,children:[ye({amount:A,currency:L},0)," per"," ",e.jsx("span",{className:"nowrap",children:"Wash & Fold"})," bag"]}),"!"]});else if(parseFloat(M)>0){let F=parseFloat(M);const Z=B;parseFloat(x)>0&&(F+=parseFloat(x));let Q=ye({amount:F.toString(),currency:Z},0),Y;v&&(Q="FREE Next-Day Rush Delivery",Y=" to your next Rush Wash & Fold order"),V.messageText=e.jsxs(e.Fragment,{children:["Your ",e.jsx("span",{className:ae.highlightText,children:Q})," credit will be automatically applied",Y,"!",!!I&&e.jsx("sup",{children:"*"})]})}else if(parseFloat(x)>0){const F=ye({amount:x,currency:E},0);V.messageText=e.jsxs(e.Fragment,{children:["Your ",e.jsx("span",{className:ae.highlightText,children:F})," credit will be automatically applied!"]})}else if(b>0){let F,Z;_?F="waived Pickup & Delivery Fee":v?(F=e.jsx("span",{className:ae.highlightText,children:"FREE Next-Day Rush Delivery"}),Z=" to any Rush Wash & Fold order"):j?F="waived Service Fee":F=e.jsxs("span",{className:ae.highlightText,children:[b,"% OFF"]}),V.messageText=e.jsxs(e.Fragment,{children:["Your ",F," discount will be automatically applied",Z,"!",m&&e.jsx("sup",{children:"*"})]})}else return null;return V.details=en(C),V},w=C=>{parseFloat(s.monthlySubsidyAmount)>0&&C.push({messageText:e.jsxs(e.Fragment,{children:["Youâ€™ll get"," ",e.jsx("span",{className:ae.highlightText,children:ye(s.monthlySubsidyAmount,0)})," ","monthly subsidy automatically applied!"]})}),parseFloat(s.initialCredit)>0&&C.push({messageText:e.jsxs(e.Fragment,{children:["Youâ€™ll get"," ",e.jsx("span",{className:ae.highlightText,children:ye(s.initialCredit,0)})," ","initial credit automatically applied!"]})}),s.discountPercentage>0&&C.push({messageText:e.jsxs(e.Fragment,{children:["Youâ€™ll get"," ",e.jsx("span",{className:ae.highlightText,children:`${s.discountPercentage}%`})," ","permanent discount!"]})}),s.waivePickupAndDeliveryFeeAtWork&&C.push({messageText:e.jsxs(e.Fragment,{children:["Youâ€™ll get"," ",e.jsx("span",{className:ae.highlightText,children:ye(a.pickupAndDeliveryFee)})," ","Pickup & Delivery fee waived!"]})})},g=(()=>{const C=[];if(i)w(C);else{const _=y(a.firstOrderApplicableDiscountInfo);_&&C.push(_)}return C})(),h=g[n]?.details;return e.jsxs("div",{className:t,children:[g.map(({messageText:C,details:_},v)=>{const j=!!_;return e.jsx(ls,{classes:{text:ae.text},onClick:j?()=>{r(v);const m=g[v];Vt(Ut.OpenedCreditDetailModal,{discount_name:m.name,discount_uid:m.uid}),l()}:void 0,messageText:C},v)}),e.jsx(as,{closeModal:p,discountDetails:h,showModal:o})]})},wo=({pushNextRoute:t})=>{const s=Be(),a=Fe("call_cx_number"),n=k(Te),r=k(Ye),o=k(Ge),c=k(Ct),i=k(ot),p=k(zs),l=k(zt),d=ie();Le(()=>{d(xt())});const D=async()=>{if(i)try{await $t(n,i,p?1:0,c,!0)}catch(w){console.error(w),st(`There was an error creating your order. Please call us toll free at ${a}.`,at.Danger);return}await d(xt()),t()},y=l?"Complete account creation":"Confirm pickup";return e.jsx("div",{className:"signup-page signup-page--payment",style:{minHeight:ua()},children:e.jsxs("div",{className:"signup-form-wrapper",children:[e.jsx("h1",{className:"signup-form-heading",children:"Add your payment method"}),e.jsx("p",{className:"signup-text",children:"Almost done! Confirm your pickup by saving a payment method to your account."}),e.jsx("h2",{className:"form-new__section-heading",children:"Payment method"}),r?e.jsx(ue,{}):e.jsx(an,{aboveButtonContents:e.jsx(Jt,{dataCorporateBranch:o,dataCustomer:n}),buttonClassNames:["signup-button"],buttonContents:y,className:"signup-form",customerData:n,onSuccessfulCardSubmission:D,secondaryButtonClassNames:["show@s","signup-button","signup-button--secondary"],secondaryButtonOnClick:()=>s.goBack(),secondaryButtonText:"Back"})]})})},So=({customer:t,pushNextRoute:s})=>{const a=Be(),n=Fe("call_cx_number"),r=k(Ks),o=k(Ge),c=k(Ct),i=k(zs),p=k(ot),l=ie(),d=x=>l(nt(x)),D=x=>l(Cn(x));let y=t.pickupAndDeliveryDates?.[0].pickup;p&&(P(p).isBefore(P(),"day")||(y=p));const w=i,{formState:S,handleSubmit:g,reset:h,setValue:C,watch:_}=ke({defaultValues:{pickupDate:y,wfNextDayRush:w},mode:"onChange",resolver:Ne(Fa)});R.useEffect(()=>{h({pickupDate:y,wfNextDayRush:w})},[h,y,w]);const v=!!o&&!o.requirePaymentMethod,j=async x=>{if(Ds(x),v)try{await $t(t,x.pickupDate,x.wfNextDayRush?1:0,c,!0)}catch(E){console.error(E),st(`There was an error creating your order. Please call us toll free at ${n}.`,at.Danger);return}else D(x.wfNextDayRush),d(x.pickupDate);s()},m=x=>{C("pickupDate",x)},f=x=>{C("wfNextDayRush",x)},b=_("wfNextDayRush"),A=_("pickupDate"),L=!!o&&o.waiveRushFee;if(!A)return e.jsx(ue,{});const{isSubmitting:B}=S,I=v?"Confirm pickup":"Continue";return e.jsxs("form",{className:"signup-form",noValidate:!0,onSubmit:g(j),children:[e.jsx(Ta,{isFirstPickup:!0,isRushFeeWaived:L,isWFNextDayRushSelected:b,onRushChange:f,onSelectDate:m,pickupAndDeliveryDates:t.pickupAndDeliveryDates,rushFee:r,selectedOrderDate:A,selectedServiceTypes:c,timeValetStatusAvailableString:t.timeValetStatusAvailableStr}),e.jsxs("div",{className:"signup-form-button-group",children:[e.jsx("button",{id:"signup__button--schedule-back",className:"show@s signup-button signup-button--secondary",disabled:B,onClick:()=>a.goBack(),type:"button",children:"Back"}),e.jsx("button",{id:"signup__submit--schedule",className:"signup-button",type:"submit",children:B?"Submitting...":I})]})]})},Co=({pushNextRoute:t})=>{const s=k(Te),a=k(Ye);return e.jsx("div",{className:"signup-page signup-page--schedule",children:e.jsxs("div",{className:"signup-form-wrapper",children:[e.jsx("h1",{className:"signup-form-heading",children:"When should we stop by?"}),a?e.jsx(ue,{wrapperClassName:"signup-loading-container"}):e.jsx(So,{customer:s,pushNextRoute:t})]})})},rt={appear:1350,exit:300},jo=({isShown:t})=>e.jsx(be,{in:t,appear:!0,timeout:rt,unmountOnExit:!0,classNames:"noninteractive-welcome-gradient-transitioner",children:e.jsx("div",{className:"signup-page signup-page--top-gradient signup-page--noninteractive-welcome-top-gradient",children:e.jsxs("div",{className:"signup-form-wrapper signup-form-wrapper--welcome",children:[e.jsx(be,{in:t,appear:!0,timeout:rt,unmountOnExit:!0,classNames:"noninteractive-welcome-icon-transitioner",children:e.jsx("div",{className:"icon-circle signup-success-icon-circle",children:e.jsx("span",{children:"ðŸ™Œ"})})}),e.jsx(be,{in:t,appear:!0,timeout:rt,unmountOnExit:!0,classNames:"noninteractive-welcome-header-transitioner",children:e.jsx("h1",{className:"signup-form-heading signup-form-heading--welcome signup-form-heading--noninteractive-welcome",children:"Welcome to Rinse!"})}),e.jsx(be,{in:t,appear:!0,timeout:rt,unmountOnExit:!0,classNames:"noninteractive-welcome-body-transitioner",children:e.jsx("p",{className:"signup-text signup-text--noninteractive-welcome signup-text--noninteractive-welcome",children:"Now letâ€™s schedule your first pickup..."})})]})})}),No=({pushNextRoute:t})=>{const s=Fe("service_types"),a=k(Ge),n=k(Te),r=k(Ye),o=k(Ct),c=k(zt),i=ie(),p=b=>i(Ys(b)),D=!(Be().action==="POP"),[y,w]=J.useState(D);J.useEffect(()=>{let b;return y&&(b=setTimeout(()=>{w(!1)},2800)),()=>{b&&clearTimeout(b)}},[y]);const S=Ze().shape({selectedServiceTypes:Ns().min(1)}),{control:g,formState:h,handleSubmit:C}=ke({defaultValues:{selectedServiceTypes:o},mode:"onChange",resolver:Ne(S)}),_=async b=>{Object.keys(b).forEach(L=>{je(L,b[L])});const A=Rs(s,b.selectedServiceTypes);p(b.selectedServiceTypes);try{await Ue({data:b}),t(),dt("Selected Service Types",{selected_service_types:A.join(",")})}catch{Dt()}},{isSubmitting:v,isValid:j}=h,m=()=>{const b=e.jsx("button",{id:"signup__submit--services",className:N("signup-button","signup-button--services-submit"),disabled:!j||v,type:"submit",children:v?"Submitting...":"Continue"});return e.jsxs("div",{className:"signup-form-wrapper--welcome",children:[b,e.jsx("a",{id:"signup__link--schedule-later",className:"link--primary signup-link signup-link--schedule-later",href:"/customers/signup-success/",onClick:Na,children:c?"Finish later":"Schedule later"})]})},f=()=>{const b=e.jsx("div",{className:"signup-page signup-page--services",children:e.jsxs("div",{className:"signup-form-wrapper",children:[e.jsx("h1",{className:"signup-form-heading",children:"First, let us know which services you need:"}),e.jsxs("form",{className:"signup-form signup-form--services",noValidate:!0,onSubmit:C(_),children:[e.jsx(nn,{control:g,disabled:v,name:"selectedServiceTypes"}),r?e.jsx(ue,{}):e.jsx(Jt,{dataCorporateBranch:a,dataCustomer:n}),m()]})]})});return D?e.jsx(be,{in:!0,appear:!0,timeout:2e3,exit:!1,classNames:"noninteractive-welcome-services-transitioner",children:b}):b};return e.jsxs("div",{className:N("signup-page--services-wrapper",y&&"signup-page--services-wrapper--welcome-shown"),children:[e.jsx(jo,{isShown:y}),f()]})},ko="_wrapper_1allq_6",Fo="_container_1allq_10",To="_discountWrapper_1allq_16",Ao="_header_1allq_21",Po="_submitButton_1allq_33",Ro="_text_1allq_37",Lo="_rinseDropSection_1allq_37",Io="_textHeader_1allq_37",Eo="_textSecondary_1allq_37",Bo="_subCardBanner_1allq_59",le={wrapper:ko,container:Fo,discountWrapper:To,header:Ao,submitButton:Po,text:Ro,rinseDropSection:Lo,textHeader:Io,textSecondary:Eo,subCardBanner:Bo},Oo="_address_2dc2v_1",Mo="_container_2dc2v_7",fs={address:Oo,container:Mo},Wo=({customer:t,goToRoute:s})=>e.jsxs("div",{className:N(le.text,fs.container),children:[e.jsxs("div",{className:fs.address,role:"group","aria-label":"Your pickup & delivery address",children:[t.address1,e.jsx("br",{"aria-hidden":"true"}),t.address2&&e.jsxs(e.Fragment,{children:[t.address2,e.jsx("br",{"aria-hidden":"true"})]}),t.city,", ",t.addressState," ",t.zipCode,e.jsx("br",{"aria-hidden":"true"})]}),e.jsx("a",{className:"link--primary",onClick:()=>s(u.Address),"aria-label":"Edit address",children:"Edit"})]}),$o="_countdown_1nc7n_6",Ho="_countdownTime_1nc7n_14",Vo="_countdownGrayscale_1nc7n_22",Uo="_tooltip_1nc7n_27",ct={countdown:$o,countdownTime:Ho,countdownGrayscale:Vo,tooltip:Uo},xs=t=>Et(t,"HH:mm:ss").diff(Et(),"seconds"),ys=({grayscale:t,onCutoffTimePassed:s,orderCutoffTime:a,showText:n=!0,tabbable:r=!0})=>{const o=xs(a),c=ds(o),[i,p]=R.useState(c),l=J.useRef(),d=J.useCallback(()=>{clearInterval(l.current),l.current=setInterval(()=>{const w=xs(a);w>0?p(ds(w)):(clearInterval(l.current),s())},1e3)},[s,a]);Le(()=>(d(),()=>{clearInterval(l.current)}));const y=Et(a,"HH:mm:ss").format("h:mma");return e.jsxs("div",{className:N(ct.countdown,t&&ct.countdownGrayscale),role:"figure","aria-label":`Note: Place your order before ${y} if you would like a pickup tonight.`,children:[e.jsx("div",{className:N(ct.countdownTime,"rinse-tooltip__opener"),"aria-hidden":"true",tabIndex:r?0:-1,children:i}),e.jsx("div",{className:"tooltip-wrapper uk-dropdown","data-uk-dropdown":"pos: bottom-left","aria-hidden":"true",children:e.jsx("div",{className:N("rinse-tooltip",ct.tooltip),children:e.jsxs("p",{className:"rinse-tooltip__p",children:["Same-day pickup is only available until ",y,"."]})})}),n&&e.jsx("span",{"aria-hidden":"true",children:"left if you want a pickup tonight!"})]})},qo="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14%207C13.4477%207%2013%207.44772%2013%208V10H7.88889C7.59036%2010%207.30745%2010.1334%207.11748%2010.3637L3.22859%2015.0779C3.08082%2015.2571%203%2015.4821%203%2015.7143V22C3%2022.5523%203.44772%2023%204%2023H5.53544C5.77806%2024.6961%207.23676%2026%209%2026C10.7632%2026%2012.2219%2024.6961%2012.4646%2023H18.0354C18.2781%2024.6961%2019.7368%2026%2021.5%2026C23.2632%2026%2024.7219%2024.6961%2024.9646%2023H28C28.5523%2023%2029%2022.5523%2029%2022V8C29%207.44772%2028.5523%207%2028%207H14ZM27%209H15V21H18.3368C18.8985%2019.8175%2020.1038%2019%2021.5%2019C22.8962%2019%2024.1015%2019.8175%2024.6632%2021H27V9ZM9%2019C7.6038%2019%206.39855%2019.8175%205.83682%2021H5V16.0735L8.36031%2012H13V21H12.1632C11.6015%2019.8175%2010.3962%2019%209%2019ZM9%2021C8.17157%2021%207.5%2021.6716%207.5%2022.5C7.5%2023.3284%208.17157%2024%209%2024C9.82843%2024%2010.5%2023.3284%2010.5%2022.5C10.5%2021.6716%209.82843%2021%209%2021ZM20%2022.5C20%2021.6716%2020.6716%2021%2021.5%2021C22.3284%2021%2023%2021.6716%2023%2022.5C23%2023.3284%2022.3284%2024%2021.5%2024C20.6716%2024%2020%2023.3284%2020%2022.5Z'%20fill='%23453536'/%3e%3c/svg%3e",Go="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M18%207C18.5523%207%2019%207.44772%2019%208V10H24.1111C24.4096%2010%2024.6926%2010.1334%2024.8825%2010.3637L28.7714%2015.0779C28.9192%2015.2571%2029%2015.4821%2029%2015.7143V22C29%2022.5523%2028.5523%2023%2028%2023H26.4646C26.2219%2024.6961%2024.7632%2026%2023%2026C21.2368%2026%2019.7781%2024.6961%2019.5354%2023H13.9646C13.7219%2024.6961%2012.2632%2026%2010.5%2026C8.73676%2026%207.27806%2024.6961%207.03544%2023H4C3.44772%2023%203%2022.5523%203%2022V8C3%207.44772%203.44772%207%204%207H18ZM5%209H17V21H13.6632C13.1015%2019.8175%2011.8962%2019%2010.5%2019C9.1038%2019%207.89855%2019.8175%207.33681%2021H5V9ZM23%2019C24.3962%2019%2025.6015%2019.8175%2026.1632%2021H27V16.0735L23.6397%2012H19V21H19.8368C20.3985%2019.8175%2021.6038%2019%2023%2019ZM23%2021C23.8284%2021%2024.5%2021.6716%2024.5%2022.5C24.5%2023.3284%2023.8284%2024%2023%2024C22.1716%2024%2021.5%2023.3284%2021.5%2022.5C21.5%2021.6716%2022.1716%2021%2023%2021ZM12%2022.5C12%2021.6716%2011.3284%2021%2010.5%2021C9.67157%2021%209%2021.6716%209%2022.5C9%2023.3284%209.67157%2024%2010.5%2024C11.3284%2024%2012%2023.3284%2012%2022.5Z'%20fill='%23453536'/%3e%3c/svg%3e",Zo="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21%2011C20.4477%2011%2020%2011.4477%2020%2012C20%2012.5523%2020.4477%2013%2021%2013H29C29.5523%2013%2030%2012.5523%2030%2012C30%2011.4477%2029.5523%2011%2029%2011H21Z'%20fill='%234EC0C7'/%3e%3cpath%20d='M21%2015C20.4477%2015%2020%2015.4477%2020%2016C20%2016.5523%2020.4477%2017%2021%2017H26C26.5523%2017%2027%2016.5523%2027%2016C27%2015.4477%2026.5523%2015%2026%2015H21Z'%20fill='%234EC0C7'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%208C12%207.44772%2012.4477%207%2013%207H27C27.5523%207%2028%207.44772%2028%208C28%208.55228%2027.5523%209%2027%209H14V21H17.3368C17.8985%2019.8175%2019.1038%2019%2020.5%2019C21.8962%2019%2023.1015%2019.8175%2023.6632%2021H26V20C26%2019.4477%2026.4477%2019%2027%2019C27.5523%2019%2028%2019.4477%2028%2020V22C28%2022.5523%2027.5523%2023%2027%2023H23.9646C23.7219%2024.6961%2022.2632%2026%2020.5%2026C18.7368%2026%2017.2781%2024.6961%2017.0354%2023H11.4646C11.2219%2024.6961%209.76324%2026%208%2026C6.23676%2026%204.77806%2024.6961%204.53544%2023H3C2.44772%2023%202%2022.5523%202%2022V15.7143C2%2015.4821%202.08082%2015.2571%202.22859%2015.0779L6.11748%2010.3637C6.30745%2010.1334%206.59036%2010%206.88889%2010H12V8ZM4.83682%2021C5.39855%2019.8175%206.6038%2019%208%2019C9.3962%2019%2010.6015%2019.8175%2011.1632%2021H12V12H7.36031L4%2016.0735V21H4.83682ZM6.5%2022.5C6.5%2021.6716%207.17157%2021%208%2021C8.82843%2021%209.5%2021.6716%209.5%2022.5C9.5%2023.3284%208.82843%2024%208%2024C7.17157%2024%206.5%2023.3284%206.5%2022.5ZM20.5%2021C19.6716%2021%2019%2021.6716%2019%2022.5C19%2023.3284%2019.6716%2024%2020.5%2024C21.3284%2024%2022%2023.3284%2022%2022.5C22%2021.6716%2021.3284%2021%2020.5%2021Z'%20fill='%23453536'/%3e%3c/svg%3e",Yo=({ariaLabel:t,availableDates:s,iconSrc:a,id:n,renderDate:r,setShowModal:o,showModal:c,text:i,title:p})=>{const l=()=>o(!1);return e.jsx(Zt,{ariaLabel:t||p,classes:{body:ce.body},closeModal:l,id:n,modalStyle:As.Oversized,showModal:c,children:e.jsxs("div",{className:N(ce.fieldset,a&&ce.fieldsetWithIcon),children:[a&&e.jsx("img",{src:a,className:ce.icon,alt:""}),e.jsx("h3",{className:N(It.title,ce.title,a&&ce.titleWithIcon),"aria-hidden":t?"true":void 0,children:p}),i&&e.jsx("p",{className:It.text,children:i}),e.jsx("ul",{className:ce.list,role:"radiogroup","aria-label":"Date options",children:s.map(({date:d,isRush:D})=>r(d,D))})]})})},zo="_container_1pq1x_6",Ko="_containerWithBorder_1pq1x_14",Xo="_containerWithinBoxedGroupInput_1pq1x_18",Jo="_mainLine_1pq1x_22",Qo="_mainLineText_1pq1x_28",ei="_mainLineRushPill_1pq1x_34",ti="_icon_1pq1x_38",si="_left_1pq1x_42",ai="_link_1pq1x_50",ni="_main_1pq1x_22",oi="_overline_1pq1x_63",ii="_rushLine_1pq1x_70",ri="_rowMain_1pq1x_77",ci="_rowBelow_1pq1x_88",li="_textFree_1pq1x_92",di="_textStrikethrough_1pq1x_101",U={container:zo,containerWithBorder:Ko,containerWithinBoxedGroupInput:Xo,mainLine:Jo,mainLineText:Qo,mainLineRushPill:ei,icon:ti,left:si,link:ai,main:ni,overline:oi,rushLine:ii,rowMain:ri,rowBelow:ci,textFree:li,textStrikethrough:di},Qs=({ariaHidden:t=!1,availableDates:s,children:a,control:n,customStyles:r={},fieldName:o,isNewCustomer:c=!1,isRushDelivery:i=!1,isRushDeliveryIncluded:p=!1,isRushDeliveryWaived:l=!1,isWithinBoxedGroupInput:d=!1,onSelectDate:D,openModalButtonText:y="Edit",overlineLocation:w="top",overlineText:S,rushFee:g,selectedDate:h,selectedDateDisplay:C,serviceTypeId:_,showRushPillOnDateLine:v=!1,type:j,withBorder:m=!0,icon:f})=>{const A=P(h).calendar(null,{sameDay:"[Tonight], MMM. D",nextDay:"[Tomorrow], MMM. D",nextWeek:"dddd, MMM. D",sameElse:"dddd, MMM. D"}),[L,M]=J.useState(!1),B=()=>M(!0),I=()=>M(!1),x=j==="pickup",E=j==="delivery",V=Ls(_),F=x?"Edit pickup date":`Edit ${V} delivery date`,Z=x?"Order pickup":`${V} delivery`,Q=x?"Select your pickup date":`Select your ${V} delivery date`,Y=_===oe.WashAndFold;let se;x?(se="Your Valet will always stop by between 7pm and 10pm.",c&&(se+=" Weâ€™ll bring your personalized free Rinse bags.")):se=`Weâ€™ll always deliver between 7pm and 10pm. Standard turnaround on all orders is 3-4 days${Y?", with Rush Service available for a small fee":""}.`;const re=Ka(),_e=x?O=>e.jsx("li",{role:"presentation",children:e.jsx(Ie,{className:ce.dateRow,control:n,extraHandleChange:G=>{D?.(G.target.value),I()},hideInputComponent:!0,id:O,label:e.jsx("div",{className:ce.dateRowLabel,children:Lt(O)}),name:o,type:Ee.Radio,value:O},O)},O):(O,G)=>e.jsx("li",{role:"presentation",children:e.jsx(Ie,{className:ce.dateRow,control:n,extraHandleChange:K=>{D?.(K.target.value,_),I()},hideInputComponent:!0,id:`${_}-${O}`,label:e.jsxs("div",{className:ce.dateRowLabel,children:[e.jsx("span",{className:N("text--overline",U.overline),children:G?"Rush":"Standard"}),e.jsx("span",{children:Lt(O)})]}),name:o,right:G?e.jsxs("div",{children:[e.jsx(Bt,{variant:"positive",children:e.jsx("span",{className:N({[U.textStrikethrough]:l}),children:p?"INCLUDED":`+${ye(g)}`})}),l&&e.jsx("span",{className:U.textFree,children:"FREE"})]}):void 0,type:Ee.Radio,value:O},`${_}-${O}`)},O),$=i?e.jsx(Bt,{variant:"positive",children:e.jsx("span",{className:N({[U.textStrikethrough]:l}),children:p?"INCLUDED":`+${ye(g)}`})}):e.jsx(e.Fragment,{});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:N(U.container,m&&U.containerWithBorder,d&&U.containerWithinBoxedGroupInput),"aria-controls":re,"aria-expanded":L,"aria-haspopup":"dialog","aria-hidden":t?"true":void 0,"aria-label":F,onClick:B,onKeyDown:O=>{O.key==="Enter"&&B()},role:"combobox",tabIndex:t?-1:0,children:[e.jsxs("div",{className:U.rowMain,children:[e.jsx("div",{className:U.left,style:r?.iconContainer,children:e.jsx("img",{alt:"",className:U.icon,src:f||(x?Go:i?Zo:qo)})}),e.jsxs("div",{className:U.main,children:[w==="top"&&e.jsx("span",{style:r.overlineText,className:N("text--overline",U.overline),children:S||j}),e.jsxs("div",{className:U.mainLine,children:[e.jsx("span",{className:U.mainLineText,children:C||A}),v&&i&&e.jsx("span",{className:U.mainLineRushPill,children:$})]}),i&&e.jsxs("div",{className:U.rushLine,style:r.rushLine,children:[e.jsx("span",{className:N("text--overline",U.overline),children:"Rush"}),$,l&&e.jsx("span",{className:U.textFree,children:"FREE"})]}),w==="bottom"&&e.jsx("span",{style:r.overlineText,className:N("text--overline",U.overline),children:S||j})]}),e.jsx("div",{className:U.right,children:e.jsx("span",{className:N(U.link,"link--primary"),children:y})})]}),a&&e.jsx("div",{className:U.rowBelow,children:a})]}),e.jsx(Yo,{ariaLabel:Q,availableDates:s,iconSrc:f||(E?Y?Ia:Ea:void 0),id:re,renderDate:_e,showModal:L,setShowModal:M,text:se,title:Z})]})},vs=({children:t,...s})=>e.jsx(Qs,{...s,type:"pickup",children:t}),ui=({children:t,...s})=>e.jsx(Qs,{...s,type:"delivery",children:t}),pi="https://static-prod.rinse.com/assets/bundles/employee.1.sha256-41c93aa752.webp",mi=({control:t,customer:s,selectedPickupDate:a})=>{const n=Fe("num_dates_for_scheduling"),r=ie(),o=f=>r(nt(f)),c=()=>r(xt()),i=f=>{o(f)},p=!a,{isNew:l,orderCutoffTime:d,pickupAndDeliveryDates:D,timeValetStatusAvailableStr:y}=s,w=D.map(f=>({date:f.pickup})).slice(0,n),g=P(d,"HH:mm:ss").diff(P(),"seconds")>0,[h,C]=R.useState(g),_=()=>{C(!1),setTimeout(()=>{c()},1e3)},v=Ht("funnel-ui-facelift"),j=e.jsxs("div",{children:[e.jsxs("p",{className:le.textSecondary,children:["Weâ€™ll always stop by between 7pm and 10pm. At ",y,", weâ€™ll text you a 30-minute arrival window of your Valet, who will bring your free personalized Rinse bags."]}),e.jsxs("fieldset",{children:[e.jsx("legend",{className:"sr-only",children:"Select your pickup date"}),e.jsx(vs,{availableDates:w,control:t,fieldName:"pickupDate",isNewCustomer:l,onSelectDate:i,selectedDate:a,children:e.jsxs("div",{className:le.rinseDropSection,children:[e.jsx("hr",{}),e.jsx("p",{className:le.textHeader,children:"Not available in the evening?"}),e.jsxs("p",{className:le.textSecondary,children:["No sweat - activate ",e.jsx("span",{className:"nowrap",children:"Rinse Drop"})," for pickup and delivery without your presence on the next page."]})]})})]}),h&&e.jsx(ys,{onCutoffTimePassed:_,orderCutoffTime:d})]}),m=e.jsxs("div",{children:[h&&e.jsx("div",{style:{marginTop:-60,display:"flex",justifyContent:"end",marginBottom:15},children:e.jsx(ys,{onCutoffTimePassed:_,orderCutoffTime:d,showText:!1})}),e.jsxs("fieldset",{children:[e.jsx("legend",{className:"sr-only",children:"Select your pickup date"}),e.jsx(vs,{availableDates:w,control:t,fieldName:"pickupDate",isNewCustomer:l,onSelectDate:i,selectedDate:a,icon:pi,overlineLocation:"bottom",overlineText:"7:00 - 10:00PM",openModalButtonText:"Change",customStyles:{iconContainer:{height:48,width:48},overlineText:{letterSpacing:.6}}})]}),e.jsxs("div",{className:le.subCardBanner,children:[e.jsxs("div",{children:["At ",y,", weâ€™ll text you a 30-minute arrival window of your Valet, who will bring your bags."]}),e.jsx("hr",{}),e.jsx("div",{children:"Activate Rinse Drop for pickup and delivery without your presence on the next page."})]})]});return p?e.jsx(ue,{wrapperClassName:"signup-loading-container"}):v?m:j},hi="single-page-schedule-signup-page",gi=t=>{const s={top:pa(t).top,behavior:"smooth"};pt()<ht?window.scrollTo(s):document.getElementById(hi).scrollTo(s)},fi="_container_rw8cq_6",xi="_header_rw8cq_17",yi="_title_rw8cq_25",vi="_contentContainer_rw8cq_32",lt={container:fi,header:xi,title:yi,contentContainer:vi},ut=R.forwardRef(({children:t,title:s},a)=>{const n=R.useRef(null);return R.useImperativeHandle(a,()=>({scrollToSection:()=>{gi(n.current)}})),e.jsxs("div",{ref:n,className:lt.container,children:[e.jsx("div",{className:lt.header,children:e.jsx("h2",{className:lt.title,children:s})}),e.jsx("div",{className:lt.contentContainer,children:t})]})});ut.displayName="Section";const bi="_messageBox_vm990_6",Di="_messageBoxText_vm990_10",_i="_pill_vm990_14",wi="_pillIcon_vm990_21",Si="_serviceSelector_vm990_25",Ci="_deliveryTransitioner_vm990_36",ji="_deliveryTransitioner-enter_vm990_42",Ni="_deliveryTransitioner-enter-active_vm990_47",ki="_deliveryTransitioner-enter-done_vm990_47",Fi="_deliveryTransitioner-exit_vm990_55",Ti="_deliveryTransitioner-exit-active_vm990_59",Ai="_deliveryTransitioner-exit-done_vm990_59",ne={messageBox:bi,messageBoxText:Di,pill:_i,pillIcon:wi,serviceSelector:Si,deliveryTransitioner:Ci,deliveryTransitionerEnter:ji,deliveryTransitionerEnterActive:Ni,deliveryTransitionerEnterDone:ki,deliveryTransitionerExit:Fi,deliveryTransitionerExitActive:Ti,deliveryTransitionerExitDone:Ai},Pi=({control:t,disabled:s,formSelectedServiceTypes:a,hasRushFeeWaived:n,nextDayRushDeliveryDate:r,pickupAndDeliveryDates:o,rushFee:c,selectedDryCleanDeliveryDate:i,selectedWashAndFoldDeliveryDate:p,standardDeliveryDate:l})=>{const d=Fe("num_dates_for_scheduling"),D=J.useMemo(()=>{const m=Ve("service_types");return tn(m).filter(({value:f})=>f!==`${oe.HangDry}`)},[]),y=ie(),w=k(ot),S=R.useCallback(m=>y(Ys(m)),[y]),g=P(w).add(d,"days").format("YYYY-MM-DD"),h=o.filter(({pickup:m})=>m>=r&&m<=g).map(({pickup:m})=>({date:m,isRush:m<l})),C=o.filter(({pickup:m})=>m>=l&&m<=g).map(({pickup:m})=>({date:m,isRush:!1}));R.useEffect(()=>{S(a)},[a,S]);const _=ma(a.map(m=>Ls(parseInt(m)))),v=a.length===0,j=Ht("funnel-ui-facelift");return e.jsxs("fieldset",{children:[e.jsx("legend",{className:"sr-only",children:"Select your Rinse services and delivery dates"}),e.jsxs("p",{className:"sr-only",role:"status",children:["Services selected: ",_]}),e.jsx("div",{children:D.map(({img:m,label:f,value:b})=>{const A=b===`${oe.WashAndFold}`,L=A?h:C,M=A?p:i,B=A?oe.WashAndFold:oe.DryClean,I=M<l,x=a.includes(b);return e.jsx(Ie,{className:ne.serviceSelector,control:t,disabled:s,hideInputComponent:!0,id:`service__choice--${b}`,inputAriaLabel:`${x?"Remove":"Add"} ${f} ${x?"from":"to"} your order`,label:f,multiselect:!0,name:"selectedServiceTypes",left:e.jsx("img",{alt:"",src:m,style:j?{minWidth:48,height:48}:null}),reversed:!0,renderRowBelow:E=>e.jsx("div",{children:e.jsx(be,{in:E,appear:!0,timeout:500,classNames:{enter:ne.deliveryTransitionerEnter,enterActive:ne.deliveryTransitionerEnterActive,enterDone:ne.deliveryTransitionerEnterDone,exit:ne.deliveryTransitionerExit,exitActive:ne.deliveryTransitionerExitActive,exitDone:ne.deliveryTransitionerExitDone},children:e.jsxs("div",{className:ne.deliveryTransitioner,children:[e.jsx("hr",{}),e.jsx(ui,{ariaHidden:E?void 0:!0,availableDates:L,control:t,fieldName:A?"washAndFoldDeliveryDate":"dryCleanDeliveryDate",customStyles:j?{iconContainer:{display:"none"},rushLine:{display:"none"}}:void 0,overlineText:j&&I?"Rush Delivery":void 0,selectedDateDisplay:j&&P(M).calendar(null,{sameDay:"[Tonight]",nextDay:"[Tomorrow]",nextWeek:"dddd, MMM. D",sameElse:"dddd, MMM. D"}),isWithinBoxedGroupInput:!0,isRushDelivery:I,isRushDeliveryWaived:n,openModalButtonText:j?"Change":void 0,rushFee:c,selectedDate:M,serviceTypeId:B,showRushPillOnDateLine:j,withBorder:!1})]})})}),renderRight:E=>e.jsxs(Bt,{className:ne.pill,variant:E?"orangeFill":"orangeOutline",children:[E&&e.jsx("span",{className:N("rinse-icon","rinse-icon--check",ne.pillIcon)}),E?"Added":"Add"]}),type:Ee.Checkbox,value:b},`service-${b}`)})}),v&&e.jsx(Gt,{classes:{box:ne.messageBox,text:ne.messageBoxText},leftIconName:"info-circle",messageText:e.jsxs(e.Fragment,{children:["Not sure? Donâ€™t worry â€” weâ€™ll bring you bags for both WashÂ &Â Fold and Dry Cleaning and default you to a standard turnaround time of 3-4 days.",e.jsx("br",{}),e.jsx("br",{}),"Note that if you select a service above, you can customize your delivery date."]})})]})},Ri=({customer:t,funnelOrder:s,goToRoute:a,pushNextRoute:n})=>{const r=ie(),o=$a(),c=k(ot),i=k(Ct),p=Ve("geoip_rush_fee"),l=k(Ks),D=l.amount==null?p:l,y=$=>r(nt($)),[w,S]=R.useState(!1),{pickupAndDeliveryDates:g}=t,h=["dryCleanDeliveryDate","pickupDate","selectedServiceTypes","washAndFoldDeliveryDate"],C=($,O)=>{const G=de(`${W}-${$}`),{orderCutoffDatetimeToday:K}=t;return G&&(P().isBefore(K)&&P(G.updatedAt).isBefore(K)||P(G.updatedAt).isAfter(K))?G.value:O},_=R.useCallback($=>Cs($,g),[g]);let v=null,j=null,m=null,f=null;const b=_(c);if(c){m=b?.standardDeliveryDate??null,f=b?.rushDeliveryDate??null,v=m,j=f;const $=C("dryCleanDeliveryDate",null),O=C("washAndFoldDeliveryDate",null);if(O&&P(O).isAfter(P(c))&&g.some(({pickup:K})=>K===O)&&(j=O),$){const K=g.find(({pickup:q})=>q===c);K&&P($).isSameOrAfter(P(K.delivery))&&g.some(({pickup:q})=>q===$)&&(v=$)}}const A=Ze().shape({dryCleanDeliveryDate:De().nullable(),pickupDate:De().nullable(),selectedServiceTypes:Ns(),washAndFoldDeliveryDate:De().nullable()}),{control:L,reset:M,watch:B}=ke({defaultValues:{dryCleanDeliveryDate:v,pickupDate:c,selectedServiceTypes:i,washAndFoldDeliveryDate:j},mode:"onChange",resolver:Ne(A)});Xt(B,W,h);const I=g[0].pickup;Le(()=>{(!c||!g.some($=>$.pickup===c))&&(y(I),te(`${W}-pickupDate`,I))});const x=R.useRef(!1);R.useEffect(()=>{if(x.current){const{standardDeliveryDate:$,rushDeliveryDate:O}=_(c);M({dryCleanDeliveryDate:$,pickupDate:c,selectedServiceTypes:i,washAndFoldDeliveryDate:O})}else x.current=!0},[c]),R.useEffect(()=>{P(c).isBefore(P(t.pickupAndDeliveryDates[0].pickup),"day")&&y(t.pickupAndDeliveryDates[0].pickup)},[t]);const E=o.search.includes("showAddress"),H=B("pickupDate"),V=B("selectedServiceTypes"),F=B("washAndFoldDeliveryDate"),Z=B("dryCleanDeliveryDate"),Q=()=>Js({customer:t,firstPickupDate:c,selectedServiceTypes:i,selectedWashAndFoldDeliveryDate:F,selectedDryCleanDeliveryDate:Z,setIsSubmitting:S}),Y=async $=>{$.preventDefault(),S(!0),te(`${W}-pickupDate`,H??""),te(`${W}-selectedServiceTypes`,V??[]),te(`${W}-washAndFoldDeliveryDate`,F??""),te(`${W}-dryCleanDeliveryDate`,Z??""),te(`${W}-washAndFoldStandardDeliveryDateForSelectedPickupDate`,g.find(({pickup:O})=>O===H)?.delivery??""),E?await Q():n(s)},se=t.firstOrderApplicableDiscountInfo.hasRushFeeWaivedDiscount;let re;w?re="Submitting...":E?re="Schedule my order":re="Continue to address details";const _e=Ht("funnel-ui-facelift");return Le(()=>{fa("funnel-ui-facelift",_e)}),e.jsxs("form",{className:le.container,onSubmit:Y,children:[E&&e.jsx(ut,{title:"Address",children:e.jsx(Wo,{customer:t,goToRoute:a})}),e.jsx(ut,{title:"Pickup",children:e.jsx(mi,{control:L,customer:t,selectedPickupDate:H})}),e.jsx(ut,{title:"Services & delivery",children:e.jsx(Pi,{control:L,disabled:w,formSelectedServiceTypes:V,hasRushFeeWaived:se,nextDayRushDeliveryDate:f,pickupAndDeliveryDates:g,rushFee:D,selectedWashAndFoldDeliveryDate:F,selectedDryCleanDeliveryDate:Z,standardDeliveryDate:m})}),e.jsx(Jt,{className:le.discountWrapper,dataCustomer:t}),e.jsx(Ps,{as:"button",className:le.submitButton,disabled:w,testId:"continue-button-schedule",type:"submit",children:re}),e.jsx(xa,{showAddPaymentListItem:!0})]})},Li=({goToRoute:t,funnelOrder:s,pushNextRoute:a})=>{const n=k(Xs),r=k(Ye),o=k(Te),c=Ss(),i=J.useRef(!1);return J.useEffect(()=>{if(!i.current){i.current=!0;return}!n&&r&&on("SinglePageSchedulingPage: Customer data is empty",{level:"error"})},[r,n]),e.jsxs("div",{className:N("signup-page","signup-page--single-page-scheduling-funnel",le.wrapper),children:[!c&&e.jsx("header",{className:N("hide@s",le.header),children:e.jsx("h1",{className:"signup-form-heading",children:"Schedule your order"})}),n?e.jsx(ue,{}):r?e.jsxs("div",{children:["Oops! Something went wrong on our end. Please try refreshing the page or contact"," ",e.jsx("a",{href:"mailto:care@rinse.com",className:"link--primary",children:"care@rinse.com"})," ","for assistance."]}):e.jsx(Ri,{goToRoute:t,funnelOrder:s,pushNextRoute:a,customer:o})]})},Ii="data:image/svg+xml,%3csvg%20width='27'%20height='27'%20viewBox='0%200%2027%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24.8948%2013.7542C24.8948%2012.8028%2024.816%2012.1086%2024.6455%2011.3887H13.5605V15.6825H20.0672C19.9361%2016.7496%2019.2277%2018.3566%2017.6534%2019.4364L17.6314%2019.5802L21.1362%2022.2411L21.3791%2022.2648C23.6091%2020.2464%2024.8948%2017.2767%2024.8948%2013.7542Z'%20fill='%234285F4'/%3e%3cpath%20d='M13.5569%2025.0673C16.7446%2025.0673%2019.4207%2024.0387%2021.3754%2022.2646L17.6498%2019.4362C16.6528%2020.1176%2015.3147%2020.5933%2013.5569%2020.5933C10.4348%2020.5933%207.7849%2018.5749%206.84029%2015.7852L6.70183%2015.7967L3.05743%2018.5607L3.00977%2018.6906C4.95125%2022.4703%208.93923%2025.0673%2013.5569%2025.0673Z'%20fill='%2334A853'/%3e%3cpath%20d='M6.83986%2015.7846C6.59062%2015.0647%206.44637%2014.2933%206.44637%2013.4962C6.44637%2012.6991%206.59062%2011.9278%206.82675%2011.2079L6.82015%2011.0545L3.13006%208.24609L3.00933%208.30237C2.20915%209.87082%201.75%2011.6321%201.75%2013.4962C1.75%2015.3604%202.20915%2017.1216%203.00933%2018.69L6.83986%2015.7846Z'%20fill='%23FBBC05'/%3e%3cpath%20d='M13.557%206.39963C15.7739%206.39963%2017.2694%207.33812%2018.1221%208.12238L21.4542%204.93408C19.4078%203.06997%2016.7447%201.92578%2013.557%201.92578C8.93926%201.92578%204.95127%204.52267%203.00977%208.3023L6.8272%2011.2078C7.78492%208.41805%2010.4348%206.39963%2013.557%206.39963Z'%20fill='%23EB4335'/%3e%3c/svg%3e",Ei=_s("appleauth_url",!1),Bi=_s("googleauth_url",!1),Oi=({pushNextRoute:t})=>{const s=!!Fe("prefilled_signup_funnel_anonymous_token"),a=()=>{dt("Started Signup"),t()},n=()=>{dt("Apple Signup")},r=()=>{dt("Google Signup")},o=[{imageSuffix:"delivery",text:"Rinse picks up, cleans, and delivers your clothes to your door."},{imageSuffix:"pickup",text:"Rinse is available 7 days a week with 7pm-10pm pickup and delivery."},{imageSuffix:"services",text:"Choose the services you need: Laundry, Dry Cleaning, and more."},{imageSuffix:"valet",text:"Our Valet will bring your Rinse bags to your door to collect your clothes."},{imageSuffix:"eco",text:"Rinse is eco-friendly. Save water, save electricity, eliminate PERC."},{imageSuffix:"relax",text:"RINSE and relax. Unlock space for what matters."},{imageSuffix:"laundry",text:"Say hello to Rinse and goodbye to laundry day."}],c=(p,l)=>{p.key==="Enter"&&rn.slider("#signup-start-carousel").show(l)},i=p=>{const[l,...d]=p.split(". ");return e.jsxs(e.Fragment,{children:[l,".",e.jsx("br",{}),d]})};return e.jsxs("div",{className:"signup-page signup-page--start",children:[e.jsx("div",{className:"signup-start-carousel-wrapper",children:e.jsxs("div",{id:"signup-start-carousel",className:"signup-start-carousel","data-uk-slider":"center: true; index: 0; finite: true; autoplay: true",role:"group","aria-roledescription":"carousel","aria-label":"About Rinse",children:[e.jsx("ul",{className:"signup-start-carousel__slider-items uk-slider-items","data-uk-grid":!0,role:"presentation",children:o.map(({imageSuffix:p,text:l},d)=>e.jsx("li",{className:"signup-start-carousel__slider-item",children:e.jsx("div",{className:N("signup-start-carousel__card",`signup-start-carousel__card--${p}`),children:e.jsx("p",{className:N("signup-start-carousel__text"),children:p==="relax"?i(l):l})})},d))}),e.jsx("ul",{className:"show@m signup-start-carousel__dotnav uk-slider-nav uk-dotnav",role:"group","aria-label":"Slide controls",children:o.map((p,l)=>e.jsx("li",{"data-uk-slider-item":l,role:"presentation",children:e.jsx("a",{role:"button",tabIndex:0,"aria-label":`Show slide ${l+1}`,onKeyDown:d=>c(d,l)})},l))})]})}),e.jsxs("div",{className:"signup-start-directives-wrapper",children:[e.jsx("div",{children:e.jsxs("h1",{className:"signup-form-heading signup-form-heading--start",children:["Donâ€™t let laundry keep you from the things you love.",e.jsx("br",{}),e.jsx("span",{className:"span--orange",children:"Itâ€™s time to be great."})]})}),e.jsx("button",{id:"signup__submit--continue-email",className:"signup-button signup-button--continue-email","data-testid":"signup-with-email-button",onClick:a,type:"button",children:"Sign up with email"}),!s&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{id:"signup__submit--continue-google",href:Bi,className:"signup-button signup-button--continue-google",onClick:r,children:[e.jsx("img",{className:"rinse-icon--button-logo",src:Ii,height:"24",width:"24",loading:"lazy",alt:""}),"Sign up with Google"]}),e.jsxs("a",{id:"signup__submit--continue-apple",href:Ei,className:"signup-button signup-button--continue-apple",onClick:n,children:[e.jsx("span",{className:"rinse-icon rinse-icon--button-logo rinse-icon--apple"}),"Sign up with Apple"]})]}),e.jsxs("p",{className:"signup-text signup-text--log-in-instead",children:["Already have an account?"," ",e.jsx("a",{href:"/accounts/login/",className:"link--primary",children:"Log in instead"})]})]})]})},Mi="_container_1iin7_6",Wi="_title_1iin7_35",$i="_iconCircle_1iin7_57",Ft={container:Mi,title:Wi,iconCircle:$i},Hi=()=>{const t=k(Te),s=k(Ye);return e.jsxs("div",{className:Ft.container,children:[e.jsx("div",{className:N("icon-circle",Ft.iconCircle),children:e.jsx("span",{children:"ðŸ™Œ"})}),e.jsx("h1",{className:Ft.title,children:"Weâ€™ll let you know when Rinse is available in your area."}),s?e.jsx(ue,{wrapperClassName:"signup-loading-container"}):e.jsx(ya,{classNameModifier:"signup",customerUid:t.uid})]})},Vi=({history:t,onRouteChange:s,children:a})=>(Le(()=>{t.listen((n,r)=>{let o=n.pathname;n.pathname.length>1&&n.pathname.slice(-1)==="/"&&(o=n.pathname.slice(0,-1)),s(o)})}),a),Ui=t=>ka.reduce((a,n)=>{const r=t.indexOf(n);if(r>-1){const o=r>0?t[r-1]:null;a[n]={prev:o}}return a},{}),qi=(t,s)=>{const a=s.indexOf(t);return a===s.length-1?null:s[a+1]},Gi=({corporateSlugFromLandingPage:t,currentRoute:s,funnelOrder:a,onRouteChange:n,updateFunnelOrder:r})=>{const o=R.useMemo(()=>Ui(a),[a]),c=(i,p)=>{const l=mt();let d=os.Forward;s&&o[s]&&o[s].prev===l&&(d=os.Back),va("signup",i,p,d)};return e.jsx(Ba,{basename:"/customers/signup",children:e.jsx(ee,{render:({location:i,history:p,match:l})=>{const d=h=>{pt()<ht?(window.scrollTo({top:-64,behavior:"smooth"}),setTimeout(()=>{p.push(h)},500)):p.push(h)},D=(h=null)=>{h&&r(h);const _=qi(s,h||a);if(!_){Ms();return}d(_)},w=![u.Root,u.OutOfServiceAreaThanks,u.Services].includes(s),S=s===u.OutOfServiceAreaThanks,g={pushNextRoute:D};return e.jsxs(Vi,{history:p,onRouteChange:n,children:[!S&&e.jsx(Gn,{canGoBack:w,currentRoute:s}),e.jsx(cn,{component:null,children:e.jsx(ln,{timeout:800,onEnter:h=>c(h,ns.Enter),onExit:h=>c(h,ns.Exit),children:e.jsxs(Ha,{location:i,children:[e.jsx(ee,{exact:!0,path:u.Root,render:h=>e.jsx(Oi,{...g})}),e.jsx(ee,{exact:!0,path:u.Account,render:h=>e.jsx(so,{...g,funnelOrder:a,corporateSlugFromLandingPage:t})}),e.jsx(ee,{exact:!0,path:u.SinglePageSchedule,render:h=>e.jsx(Li,{goToRoute:d,funnelOrder:a,...g})}),e.jsx(ee,{exact:!0,path:u.Address,render:h=>e.jsx(ho,{...g,funnelOrder:a})}),e.jsx(ee,{exact:!0,path:u.OutOfServiceArea,render:h=>e.jsx(bo,{...g})}),e.jsx(ee,{exact:!0,path:u.OutOfServiceAreaThanks,render:h=>e.jsx(Hi,{})}),e.jsx(ee,{exact:!0,path:u.Services,render:h=>e.jsx(No,{...g})}),e.jsx(ee,{exact:!0,path:u.Schedule,render:h=>e.jsx(Co,{...g})}),e.jsx(ee,{exact:!0,path:u.PaymentInfo,render:h=>e.jsx(wo,{...g})}),e.jsx(ee,{exact:!0,path:u.CorporateOffice,render:h=>e.jsx(yo,{...g,funnelOrder:a})}),e.jsx(ee,{exact:!0,path:u.CorporatePickupLocation,render:h=>e.jsx(vo,{...g,funnelOrder:a})}),e.jsx(ee,{render:()=>e.jsx(Va,{to:u.Root})})]})},i.key)})]})}})})},et=yt();et&&je("signupCorporateAccountSlug",et);const Zi=()=>{const t=ie(),s=f=>t(yn(f)),a=J.useMemo(()=>new URLSearchParams(window.location.search).get("cid")??Ve("prefilled_signup_funnel_anonymous_token")??void 0,[]),n=()=>t(xt(a)),r=new URLSearchParams(window.location.search).get("is_retail")==="true",o=X("is_retail")==="true",c=r||o;r&&je("is_retail","true");const i=k(Wt),p=k(Ge),l=k(zt),d=Mt(),D=c?wt:Yt(d),[y,w]=R.useState(D);R.useEffect(()=>{const f=Os(i,p,l,c);w(f)},[i,p,l,c]);const[S,g]=R.useState(!1),h="signup-lastTimeInFunnel",C=dn();un(()=>{ha(h,P().toISOString())},S?1e3:null),Le(()=>{(async()=>{wa(Sa.ViewedSignupPage);const f=await n(),b=de(`${W}-pickupDate`);if(d&&!Qe(f)&&!b&&f?.pickupAndDeliveryDates?.length>0){const B=f?.pickupAndDeliveryDates[0].pickup;t(nt(B))}et&&!f.corporateAccount&&await s(et);const A=new URLSearchParams(C.search),L=de(h);if(g(!0),A.has("fromUrl")&&f?.uid){const B=L?P().diff(P(L),"seconds"):null;Vt(Ut.ReenteredFunnel,{has_previously_scheduled_an_order:f.hasPlacedAnyOrders,source_url:decodeURIComponent(A.get("fromUrl")),seconds_since_last_abandonment:B})}const M=mt();is("Signup",{},M),rs()})()});const _=mt(),[v,j]=R.useState(_),m=f=>{j(f),is("Signup",{},f),rs()};return e.jsx(Gi,{corporateSlugFromLandingPage:et,currentRoute:v,funnelOrder:y,onRouteChange:m,updateFunnelOrder:w})},Yi=ia({corporateAccount:gn,corporateBranch:xn,customer:Dn,formData:jn}),zi=Ra({reducer:Yi});tt.defaults.xsrfCookieName="csrftoken";tt.defaults.xsrfHeaderName="X-CSRFToken";ga(()=>{oa.render(e.jsx(pn,{store:zi,children:e.jsx(Zi,{})}),document.getElementById("signup__container"))});
//# sourceMappingURL=signup.1.sha256-9f3781a641.js.map
