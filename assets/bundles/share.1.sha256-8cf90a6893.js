import{$ as r}from"./jquery.1.sha256-cde7267a90.js";import"./jquery.validate.1.sha256-d40ff4a90f.js";import{i as v}from"./constants.1.sha256-38f4dc1071.js";import{s as w}from"./tracking.1.sha256-c760b2e67b.js";import{r as S,b as l,e as E}from"./utils.1.sha256-9ee1c54c60.js";import{g as I,s as _,c as B,o as L,a as x,b as A,d as q}from"./utils.1.sha256-4d8b41e760.js";import{a as f}from"./stringUtils.1.sha256-2be81a19c5.js";import"./internal_customer_edit_inner.1.sha256-34481b9084.js";import"./_commonjsHelpers.1.sha256-d18bdf7c2f.js";import"./js.cookie.1.sha256-b274c81169.js";import"./index.1.sha256-7c8094d5f3.js";import"./exports.1.sha256-e7ea12f564.js";import"./moment.1.sha256-e1e16e85b3.js";import"./notifications.1.sha256-22ce999815.js";import"./uikit.1.sha256-db4f9c9a42.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="96b56a00-d532-4b08-b19f-8cfc69746764",t._sentryDebugIdIdentifier="sentry-dbid-96b56a00-d532-4b08-b19f-8cfc69746764")}catch{}let d=!1;S(()=>{const t=l("kid"),e=f(l("referral_amount"),0,!1),s=f(l("referral_reward_amount"),0,!1);let n={};!!document.getElementById("share-form")?n={is_user:!1,user_share_link:null,user_share_code:null}:n={is_user:!0,user_share_link:document.getElementById("referral-link-hidden-input").value,user_share_code:t},w("Referral Share",n);const o=`www.rinse.com/?kid=${t}`,h=I(e,s,o),c=document.getElementById("share-email");c?.setAttribute("href",h),c?.addEventListener("click",()=>{_("email")});const p=document.querySelector("[data-share-link]")?.value,y=document.querySelectorAll("[data-share-copy-link]");if(Array.from(y).forEach(a=>{a.addEventListener("click",i=>{B(p)})}),navigator.share)document.querySelector("[data-share-native-share]")?.addEventListener("click",()=>{L(e,o)});else{const a=document.getElementById("share-button--native-share"),i=document.getElementById("share-social-button-group"),u=document.querySelector("[data-share-copy-link]"),m=()=>{d=!1,E()<v?(a&&(a.style.display="none"),i&&(i.style.display="block"),u?.classList.add("share-bar--with-social-buttons")):u?.classList.remove("share-bar--with-social-buttons")},k=()=>{d=d||!!requestAnimationFrame(m)};m(),window.addEventListener("resize",k,!1)}document.getElementById("share-button--facebook")?.addEventListener("click",()=>{x(t)});const g=document.getElementById("share-button--twitter"),b=q(e,o);g?.addEventListener("click",()=>{A(b)})});r(document).ready(()=>{const t=document.getElementById("share-email-input");t&&t.value&&r(t).addClass("filled"),r("#share-form").validate({onfocusout:e=>{r(e).valid()||(r(e).closest(".text-field").addClass("text-field--invalid"),r(e).addClass("error")),e.value?r(e).addClass("filled"):r(e).removeClass("filled")},errorPlacement:(e,s)=>{r(s).closest(".text-field-container").find(".text-field__helper-text").append(e)},errorElement:"span",success:e=>{e.closest(".text-field-container").find(".text-field").removeClass("text-field--invalid")},rules:{email:{required:!0,email:!0}},messages:{email:{email:"Please enter a valid email address.",required:"Email is required"}}})});
//# sourceMappingURL=share.1.sha256-8cf90a6893.js.map
