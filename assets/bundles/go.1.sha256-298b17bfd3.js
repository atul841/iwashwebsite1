import{j as e,R as X,r as q,a as z}from"./index.1.sha256-491025a480.js";import{B as K}from"./react-router-dom.1.sha256-d414cae460.js";import{S as Q}from"./ScrollWrapper.1.sha256-45994818af.js";import{f as D}from"./stringUtils.1.sha256-2be81a19c5.js";import{a as E}from"./index.1.sha256-7c8094d5f3.js";import{a as J}from"./js.cookie.1.sha256-b274c81169.js";import{e as W,s as Z}from"./tracking.1.sha256-c760b2e67b.js";import"./internal_customer_edit_inner.1.sha256-34481b9084.js";import{E as C,L as ee,m as x,b as se}from"./utils.1.sha256-9ee1c54c60.js";import{w as te}from"./formik.esm.1.sha256-25019f7afc.js";import{a as ne,e as M}from"./array.1.sha256-899a6845d3.js";import{G as ie}from"./GridRadioInput.1.sha256-28f0056902.js";import{a as ae}from"./payment.1.sha256-3e00ce992f.js";import{u as re}from"./useAsync.1.sha256-347a0cda44.js";import{s as oe,h as ce}from"./notifications.1.sha256-22ce999815.js";import{f as le}from"./formatBillingFrequency.1.sha256-593d44bae6.js";import{h as de}from"./moment.1.sha256-e1e16e85b3.js";import{S as me,f as B}from"./react-router.1.sha256-d433f16b4e.js";import"./_commonjsHelpers.1.sha256-d18bdf7c2f.js";import"./inheritsLoose.1.sha256-9d1d51b64e.js";import"./setPrototypeOf.1.sha256-862ec942ec.js";import"./objectWithoutPropertiesLoose.1.sha256-155261ed69.js";import"./index.1.sha256-3e0f416b3f.js";import"./hoist-non-react-statics.cjs.1.sha256-94177b68a7.js";import"./exports.1.sha256-e7ea12f564.js";import"./get.1.sha256-efe98ad064.js";import"./_Map.1.sha256-effca63c03.js";import"./isObject.1.sha256-d68c67d6b7.js";import"./isSymbol.1.sha256-408b520cb0.js";import"./_MapCache.1.sha256-bad0a2a0da.js";import"./_baseSlice.1.sha256-b968445b29.js";import"./_baseIteratee.1.sha256-18af11ec63.js";import"./_baseIsEqual.1.sha256-2d606edfcf.js";import"./_getTag.1.sha256-286ee53a68.js";import"./index.1.sha256-2204be5363.js";import"./axios.1.sha256-fb82f1d9fe.js";import"./tslib.es6.1.sha256-6e63827508.js";import"./uikit.1.sha256-db4f9c9a42.js";import"./index.1.sha256-69bf48aa34.js";try{let r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new r.Error().stack;t&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[t]="b19eb9b3-6bed-406e-be76-ad670003edc2",r._sentryDebugIdIdentifier="sentry-dbid-b19eb9b3-6bed-406e-be76-ad670003edc2")}catch{}const ue=()=>e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"rinse-icon--help-circle rinse-tooltip__opener","aria-label":"View Standard turnaround days","aria-describedby":"turnaround-time-tooltip",role:"button"}),e.jsx("div",{id:"turnaround-time-tooltip",className:"turnaround-time-tooltip-wrapper uk-dropdown","data-uk-dropdown":"pos: bottom-left",role:"tooltip",children:e.jsx("div",{className:"rinse-tooltip turnaround-time-tooltip",children:e.jsx("table",{className:"turnaround-time-tooltip__table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"MON"}),e.jsx("td",{children:e.jsx("span",{className:"turnaround-time-tooltip__chevron rinse-icon rinse-icon--chevron-right"})}),e.jsx("td",{children:"THU"}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TUE"}),e.jsx("td",{children:e.jsx("span",{className:"turnaround-time-tooltip__chevron rinse-icon rinse-icon--chevron-right"})}),e.jsx("td",{children:"FRI"}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"WED"}),e.jsx("td",{children:e.jsx("span",{className:"turnaround-time-tooltip__chevron rinse-icon rinse-icon--chevron-right"})}),e.jsx("td",{children:"SUN"}),e.jsx("td",{children:e.jsx("sup",{children:"4"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"THU"}),e.jsx("td",{children:e.jsx("span",{className:"turnaround-time-tooltip__chevron rinse-icon rinse-icon--chevron-right"})}),e.jsx("td",{children:"MON"}),e.jsx("td",{children:e.jsx("sup",{children:"4"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"FRI"}),e.jsx("td",{children:e.jsx("span",{className:"turnaround-time-tooltip__chevron rinse-icon rinse-icon--chevron-right"})}),e.jsx("td",{children:"TUE"}),e.jsx("td",{children:e.jsx("sup",{children:"4"})})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"SAT"}),e.jsx("td",{children:e.jsx("span",{className:"turnaround-time-tooltip__chevron rinse-icon rinse-icon--chevron-right"})}),e.jsx("td",{children:"TUE"}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"SUN"}),e.jsx("td",{children:e.jsx("span",{className:"turnaround-time-tooltip__chevron rinse-icon rinse-icon--chevron-right"})}),e.jsx("td",{children:"WED"}),e.jsx("td",{})]})]})})})})]}),he=r=>{const{customerData:t,isCustomerDataReady:i,plans:a,getPlanById:o,handleFormSubmit:l,isFormSubmitting:m,formikProps:d,getPriceWithTax:_,disableSubmit:y}=r,{values:b,setFieldValue:k}=d,{loading:S,value:g}=re(async()=>ae(),[]),P=c=>{C("radio_delivery_plan_id",c);const h=o(c);k("billing_frequency",h.billingFrequency),C("billing_frequency",h.billingFrequency);const I={plan_id:c,plan_name:h.name,plan_term:h.billingFrequency,plan_value:h.price};W("Selected Plan",I)},u=o(b.radio_delivery_plan_id),f=u?_(u):null,j=u&&Math.abs(f-u.price)<.01?".":" total (including taxes).",N=u?`Purchase Rinse Go ${u.name}`:"Purchase",w=Object.keys(t).length>0;return e.jsxs("form",{id:"form--go",className:"go__form",noValidate:!0,onSubmit:l,children:[e.jsxs("fieldset",{className:"go-form__fieldset go-form__fieldset--plan",children:[e.jsx("legend",{className:"sr-only",children:"Rinse Go plans"}),e.jsx("div",{className:"choice-grid uk-grid uk-grid-collapse uk-width-2-3@s","data-uk-grid":!0,children:a.map((c,h)=>e.jsx(ie,{id:`plan_choice--${h}`,name:"radio_delivery_plan_id",value:c.id,choiceDisplayClass:"choice__display--go-plan",classExtension:"go-plan",customHandleSelect:P,formikProps:d,showRadio:!0,renderCustomDisplay:()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"choice__title-block",children:[e.jsx("div",{className:`choice__text ${c.promotionText?"choice__text--has-promotion":""}`,children:`Go ${c.label}`}),c.promotionText&&e.jsx("div",{className:"choice__pill-badge pill-badge",children:c.promotionText})]}),e.jsxs("div",{className:"choice__price-block",children:[e.jsx("div",{className:"choice__price",children:c.formattedPrice}),e.jsx("div",{className:"choice__price-breakdown",children:c.priceBreakdown})]}),e.jsx("div",{className:"choice__content choice__content--detailed",children:e.jsx("div",{className:"choice__description",children:c.description})})]})},`plan-${h}`))})]}),e.jsx("div",{className:"go__form-grid uk-child-width-1-1 uk-child-width-1-2@m uk-grid","data-uk-grid":!0,children:!i||S?e.jsx("div",{className:"uk-flex uk-flex-center uk-flex-row",children:e.jsx("div",{"uk-spinner":"ratio: 3"})}):w?e.jsxs("fieldset",{className:"go-form__fieldset go-form__fieldset--payment-info uk-flex-first@m",children:[e.jsx("legend",{className:"sr-only",children:"Payment information & complete purchase"}),!g&&e.jsxs("p",{className:"contentnt__p content__p--go",children:["Please"," ",e.jsx("a",{className:"link--primary",href:"/customers/account?page=billing",target:"_blank","aria-label":"Add your payment method — opens in a new tab",children:"add a payment method to purchase Rinse Go."})]}),e.jsx("button",{id:"go__button--purchase",className:"rinse-button rinse-button--primary go-form__button",type:"submit",disabled:!g||m||y,children:m?"Submitting...":N}),e.jsx("div",{className:"content__wrapper content__wrapper--tint go-form__desc",children:f&&e.jsxs("p",{className:"go__p",children:["Your card will be charged $",f.toFixed(2),j]})})]}):e.jsxs("div",{className:"go__account-needed",children:[e.jsx("h2",{className:"section__heading",children:"Sign up or log in"}),e.jsx("p",{className:"section__p section__p--go section__p--account-needed",children:"To purchase your Rinse Go membership, please first log in to your Rinse account or create one for free. Once you're logged in, you'll be redirected to finish your purchase."}),e.jsxs("div",{className:"go__cta go__cta--stacked uk-text-center",children:[e.jsx("a",{id:"go__button--create-account",className:"rinse-button rinse-button--primary go-form__button go-form__button--create-account",href:"/customers/signup/?next=/go/",children:"Create a Rinse account"}),e.jsx("a",{id:"go__button--login",className:"content__a content__a--log-in go-form__a--log-in",href:"/accounts/login/?next=/go/&variation=go",children:"Log in"})]})]})})]})};class pe extends X.Component{constructor(t){super(t),this.state={isFormSubmitting:!1}}handleInputEmpty=(t,i)=>{const o=`${t.container.parentElement.dataset.fieldname}IsEmpty`;this.setState({[o]:i})};handleInputOnEmpty=t=>{this.handleInputEmpty(t,!0)};handleInputOnNotEmpty=t=>{this.handleInputEmpty(t,!1)};handleValidityChange=t=>{const a=`${t.container.parentElement.dataset.fieldname}IsValid`;this.setState({[a]:t.isValid})};handleInputBlur=t=>{const a=`${t.container.parentElement.dataset.fieldname}IsTouched`;this.setState({[a]:!0})};handlePostDataToServer=t=>{const{postDataToServer:i,browserHistory:a,customerData:o,...l}=this.props,{isValid:m,errors:d,values:_,setStatus:y}=l;if(y("formSubmitted"),!m||Object.keys(d).length){t.preventDefault();return}const{radio_delivery_plan_id:b,billing_frequency:k}=_,S=b,g=this.props.getPlanById(S),{name:P,price:u,minimumWaived:f,deliveryType:j}=g,{first_name:N}=o,w={plan:S};this.setState({isFormSubmitting:!0}),W("Clicked Purchase Button"),i({url:"/customers/api/rinse_go/subscriptions/",data:w,onSuccess:()=>{this.setState({isFormSubmitting:!1}),a.push("/success",{first_name:N,plan_name:P,price:u,billing_frequency:k,minimum_waived:f,delivery_type:j})},onError:c=>{this.setState({isFormSubmitting:!1}),oe('Oops! Something went wrong on our end. Please try again later or contact <a href="mailto:care@rinse.com" class="link--underline">care@rinse.com</a> for assistance.',"danger")}})};handleFormSubmit=t=>{ce(),ee();const{...i}=this.props,{handleSubmit:a}=i;a(t),this.handlePostDataToServer(t)};render(){const{customerData:t,plans:i,getPlanById:a,isCustomerDataReady:o,getPriceWithTax:l,disableSubmit:m,...d}=this.props;return e.jsx(he,{...this.state,parentComponent:this,handleFormSubmit:this.handleFormSubmit,formikProps:d,customerData:t,isCustomerDataReady:o,plans:i,getPlanById:a,getPriceWithTax:l,disableSubmit:m})}}const _e=te({enableReinitialize:!0,mapPropsToValues:r=>{const{customerData:t,plans:i}=r,{address_1:a,city:o,zip_code:l,has_auto_pay:m}=t,d=i.find(b=>b.billingFrequency===12),_=i&&i.length?d.id:0,y=i&&i.length?d.billingFrequency:1;return{radio_delivery_plan_id:x("radio_delivery_plan_id")||_,billing_frequency:x("billing_frequency")||y,use_existing_payment_method:x("use_existing_payment_method")||m,cardholder:x("cardholder")||"",address_search:x("address_search")||a||"",address_1:x("address_1")||a||"",zip_code:x("zip_code")||l||"",city:x("city")||o||""}},isInitialValid:!0,validationSchema:ne().shape({radio_delivery_plan_id:M(),billing_frequency:M()}),handleSubmit:(r,{props:t,setSubmitting:i})=>{i(!1)}})(pe),$=se("standard_delivery_fee"),ge=({history:r})=>{const[t,i]=q.useState({}),[a,o]=q.useState(!1),[l,m]=q.useState([]),[d,_]=q.useState([]),y=async()=>{const n=await E.get("/payments/taxrates/");_(n.data)},b=n=>d.reduce((s,p)=>s+parseFloat(n.price)*p,parseFloat(n.price)),k=async()=>{try{const s=(await E.get("/customers/account/",{headers:{"X-Requested-With":"XMLHttpRequest"}})).data.customer;o(!0),s?.email&&i(s)}catch(n){console.error("Error fetching customer data:",n)}},S=n=>n.map(s=>{const p=e.jsx("span",{className:"go-form__choice-description",children:"Free 3–4 Day Standard Delivery"}),v=(Math.ceil(s.price*100/s.billing_frequency)/100).toFixed(2),R=s.billing_frequency===1?null:e.jsxs("span",{children:["$",v,"/Month"]}),F=s.billing_frequency===12?"Best value":null,G=le(s.billing_frequency),T=e.jsxs("span",{children:[D({amount:s.price,currency:s.price_currency},0),G]});return{id:s.id,name:s.name,value:s.id,label:s.name,price:s.price,priceCurrency:s.price_currency,formattedPrice:T,priceBreakdown:R,promotionText:F,description:p,billingFrequency:s.billing_frequency}}),g=()=>l.length>0,P=({billingFrequency:n}={})=>g()?l.find(s=>s.billingFrequency===n):null,u=n=>g()?l.find(s=>s.id===n):null,f=()=>P({billingFrequency:1}),j=()=>P({billingFrequency:12}),N=n=>{const s=n();return s?parseFloat(s.price.toString()).toFixed(2).replace(".00",""):null},w=()=>{const n=N(j);return n?(Math.ceil(parseFloat(n)*100/12)/100).toFixed(2):null},c=()=>{const n=[],s=f(),p=j();return s&&n.push(s),p&&n.push(p),n},h=({showPrices:n=!1}={})=>{const s=[];return c().forEach((v,R,F)=>{const G=R===F.length-1,T=n?`${v.name} (${D(v.price)})`:v.name;G?s.push(`and ${T}`):s.push(`${T}, `)}),s.join("")},I=async()=>{try{const n=await E({method:"get",url:"/customers/api/rinse_go/plans/",headers:{"X-Requested-With":"XMLHttpRequest"}}),s=S(n.data);m(s)}catch(n){console.error("Error fetching plans:",n)}},O=({method:n="POST",url:s,data:p,onSuccess:v,onError:R})=>{const F=J.get("csrftoken");E({method:n,url:s,data:p,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","X-CSRFToken":F}}).then(v).catch(R)},A=!!t.active_go_subscription,Y=h({showPrices:!0}),V=N(f),H=N(j),L=w(),U=t?.corporate_fully_subsidized;return q.useEffect(()=>{const n=document.querySelector(".ribbon--go-success");n&&(n.style.display="none"),k(),y(),I(),Z("Go")},[]),g()?e.jsxs("div",{className:"main__wrapper--no-hero main__wrapper--go uk-text-left",children:[e.jsxs("section",{className:"section section--hero section--hero--large section--vert-padding","data-section-id":"go-hero",children:[e.jsx("figure",{className:"hero__background--go"}),e.jsx("h1",{className:"hero__title",children:"Unlimited Free Pickup & Delivery"}),e.jsxs("p",{className:"hero__subtitle hero__subtitle--go",children:["The math is simple: if you use Rinse regularly, you’ll save money with Rinse Go right away and avoid the ",D($)," Pickup & Delivery Fee on each of your orders. To subscribe, choose our ",D(H,0)," annual plan ($",L,"/month) or our ",V," monthly plan."]})]}),e.jsxs("section",{className:"section",children:[e.jsx("h2",{className:"section__heading",children:"Choose a Plan"}),e.jsxs("span",{className:"content__p content__p--go content__p--choose-a-plan",children:[e.jsx("span",{className:"nowrap",children:"3–4 Day"})," Standard Delivery ",e.jsx(ue,{})," and the ",D($)," Pickup & Delivery Fee is waived on all orders."]})]}),A?e.jsxs("section",{className:"section",children:[e.jsx("h2",{className:"section__heading",children:"You’re already a Rinse Go subscriber! Nice."}),e.jsxs("p",{className:"section__p section__p--already-subscribed",children:["Manage subscription details in"," ",e.jsx("a",{className:"content__a content__a--landing",href:"/customers/account/?page=subscriptions--rinse-go",children:"My Account"}),"."]})]}):e.jsx("section",{className:"section",children:e.jsx(_e,{postDataToServer:O,browserHistory:r,customerData:t,isCustomerDataReady:a,plans:l,getPlanById:u,getPriceWithTax:b,disableSubmit:U})}),e.jsxs("section",{className:"section section--vert-padding-large",children:[e.jsx("h2",{className:"section__heading",children:"Top Rinse Go FAQs"}),e.jsxs("div",{className:"uk-grid uk-child-width-1-1 uk-child-width-1-2@s uk-child-width-1-3@m go__faq-grid","data-uk-grid":!0,children:[e.jsxs("article",{className:"go__faq faq",children:[e.jsx("h3",{className:"subheading subheading--go",children:"What is included in a Rinse Go plan?"}),e.jsxs("p",{className:"section__p section__p--go section__p--go-faq",children:["Rinse Go includes unlimited free pickups and deliveries with a"," ",e.jsx("span",{className:"nowrap",children:"3–4 day"})," turnaround — that means no Pickup & Delivery Fee charges! Both ",Y," plans are available."]})]}),e.jsxs("article",{className:"go__faq faq",children:[e.jsx("h3",{className:"subheading subheading--go",children:"Does my Rinse Go plan apply for all Rinse services?"}),e.jsx("p",{className:"section__p section__p--go section__p--go-faq",children:"Yes, Rinse Go applies to all Rinse Services: Dry Cleaning, Wash & Fold, Hang Dry, and Rinse Repeat."})]}),e.jsxs("article",{className:"go__faq faq",children:[e.jsx("h3",{className:"subheading subheading--go",children:"Can I cancel my Rinse Go Monthly plan?"}),e.jsxs("p",{className:"section__p section__p--go section__p--go-faq",children:['Yes, you can cancel your plan simply by un-checking the "Auto-renew" box and clicking "Save Preferences" in'," ",e.jsx("a",{href:"/customers/account/?page=subscriptions--rinse-go",children:"My Account"}),". Your subscription will end at the start of the next billing cycle. We do not offer refunds for past or current month’s subscriptions."]})]})]}),e.jsx("a",{className:"content__a content__a--go content__a--all-faqs",href:"/faqs/rinse-go/",children:"Check all Rinse Go FAQs"})]})]}):null},fe=r=>{document.querySelector(".ribbon--go-success").style.display="block";let t="",i="",a="",o="";if(r.location&&r.location.state){const{first_name:l,plan_name:m,price:d,billing_frequency:_}=r.location.state;t=l,i=m,a=d,o=de().add(_,"months").format("MM/DD/YYYY")}return e.jsx("div",{className:"main__wrapper--no-hero main__wrapper--go uk-text-left",children:e.jsxs("section",{className:"section section--hero","data-section-id":"go-hero",children:[e.jsx("figure",{className:"go-success__image--confetti"}),e.jsx("h1",{className:"hero__title hero__title--go-success",children:"Welcome to Rinse Go!"}),e.jsxs("p",{className:"go-success__p",children:["Thank you ",t,"!"]}),e.jsx("p",{className:"go-success__p",children:`Your payment of $${a} has been processed and your Rinse Go ${i}
          membership has started. You will receive a receipt by email.`}),e.jsxs("p",{className:"go-success__p",children:[`Start enjoying unlimited free pickups and deliveries today!
          Your membership will be valid until ${o}. If you have any questions, please reach out to `,e.jsx("a",{className:"content__a content__a--go",href:"mailto:care@rinse.com",children:"care@rinse.com"}),"."]}),e.jsx("p",{className:"go-success__p",children:"Thank you for choosing Rinse."})]})})},xe=()=>e.jsx(K,{basename:"/go",children:e.jsx(Q,{children:e.jsxs(me,{children:[e.jsx(B,{path:"/",exact:!0,component:ge}),e.jsx(B,{path:"/success",component:fe})]})})});document.getElementById("go__container")&&z.render(e.jsx(xe,{}),document.getElementById("go__container"));
//# sourceMappingURL=go.1.sha256-298b17bfd3.js.map
