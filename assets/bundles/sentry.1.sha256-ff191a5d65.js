import{b as yt}from"./utils.1.sha256-9ee1c54c60.js";import"./internal_customer_edit_inner.1.sha256-34481b9084.js";import{D as h,l as m,g as K,G as k,b as H,d as $,S as ke,e as et,f as rr,T as sr,s as R,h as dt,i as se,p as Kt,n as ds,j as ls,k as Le,m as ie,o as Lt,q as lt,r as ft,t as B,u as fe,v as P,w as fs,x as ve,y as X,z as ps,A as ms,B as xe,C as Zt,E as b,F as pn,H as A,I as Ve,J as mn,K as hs,L as Qt,M as ir,N as or,_ as gs,O as Ye,P as pt,Q as ar,R as _s,U as cr,V as en,W as tt,X as Ss,Y as ur,Z as Es,$ as ze,a0 as hn,a1 as Ae,a2 as gn,a3 as oe,a4 as ys,a5 as dr,a6 as Ts,a7 as bs,a8 as lr,a9 as nt,aa as fr,ab as vs,ac as Is,ad as xt,ae as tn,af as _n,ag as Rs,ah as ws,ai as ks,aj as As,ak as Ns,al as nn,am as ne,an as J,ao as rt,ap as Cs,aq as D,ar as Sn,as as En,at as pr,au as mr,av as Ps,aw as hr,ax as Ne,ay as Fe,az as Os,aA as Ft,aB as Ce,a as Ls,aC as gr,aD as yn,aE as xs,aF as rn,aG as Fs,aH as Ms,aI as j,aJ as ae,aK as _r,aL as Ie,aM as Ds,aN as pe,aO as Tn,aP as bn,aQ as vn,aR as Sr,aS as $s,aT as Hs,aU as Us,aV as Bs,aW as qs}from"./exports.1.sha256-e7ea12f564.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4b84e5cc-4880-4a7e-8200-73565f8beae0",e._sentryDebugIdIdentifier="sentry-dbid-4b84e5cc-4880-4a7e-8200-73565f8beae0")}catch{}const Xe={},In={};function Z(e,t){Xe[e]=Xe[e]||[],Xe[e].push(t)}function Q(e,t){if(!In[e]){In[e]=!0;try{t()}catch(n){h&&m.error(`Error while instrumenting ${e}`,n)}}}function q(e,t){const n=e&&Xe[e];if(n)for(const r of n)try{r(t)}catch(s){h&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${K(r)}
Error:`,s)}}let Tt=null;function Er(e){const t="error";Z(t,e),Q(t,js)}function js(){Tt=k.onerror,k.onerror=function(e,t,n,r,s){return q("error",{column:r,error:s,line:n,msg:e,url:t}),Tt?Tt.apply(this,arguments):!1},k.onerror.__SENTRY_INSTRUMENTED__=!0}let bt=null;function yr(e){const t="unhandledrejection";Z(t,e),Q(t,Ws)}function Ws(){bt=k.onunhandledrejection,k.onunhandledrejection=function(e){return q("unhandledrejection",e),bt?bt.apply(this,arguments):!0},k.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let Rn=!1;function Gs(){Rn||(Rn=!0,Er(Mt),yr(Mt))}function Mt(){const e=H(),t=e&&$(e);if(t){const n="internal_error";h&&m.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:ke,message:n})}}Mt.tag="sentry_tracingErrorCallback";class ce{constructor(t={}){this._traceId=t.traceId||et(),this._spanId=t.spanId||rr()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:sr}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Vs(e){if(!h)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=R(e),{spanId:s}=e.spanContext(),i=dt(e),o=$(e),a=o===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=R(o);u.push(`root ID: ${o.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}m.log(`${c}
  ${u.join(`
  `)}`)}function Ys(e){if(!h)return;const{description:t="< unknown name >",op:n="< unknown op >"}=R(e),{spanId:r}=e.spanContext(),i=$(e)===e,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;m.log(o)}function zs(e,t,n){if(!se(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const i=Kt(s);if(i===void 0)return h&&m.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!i)return h&&m.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];const o=n<i;return o||h&&m.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[o,i,r]}function he(e,t=[]){return[e,t]}function Xs(e,t){const[n,r]=e;return[n,[...r,t]]}function wn(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function Dt(e){const t=ls(k);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Js(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[Dt(r),i]:r.push(typeof i=="string"?Dt(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(ds(a))}s(c)}}return typeof r=="string"?r:Ks(r)}function Ks(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Zs(e){return[{type:"span"},e]}function Qs(e){const t=typeof e.data=="string"?Dt(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const ei={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function kn(e){return ei[e]}function Tr(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function ti(e,t,n,r){const s=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Le(r)},...s&&{trace:s}}}function ni(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function ri(e,t,n,r){const s=Tr(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Le(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return he(i,[o])}function si(e,t,n,r){const s=Tr(n),i=e.type&&e.type!=="replay_event"?e.type:"event";ni(e,n?.sdk);const o=ti(e,s,r,t);return delete e.sdkProcessingMetadata,he(o,[[{type:i},e]])}function ii(e,t){function n(d){return!!d.trace_id&&!!d.public_key}const r=ie(e[0]),s=t?.getDsn(),i=t?.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:Le(s)}},a=t?.getOptions().beforeSendSpan,c=a?d=>{const l=R(d),f=a(l);return f||(Lt(),l)}:R,u=[];for(const d of e){const l=c(d);l&&u.push(Zs(l))}return he(o,u)}function oi(e,t,n,r=H()){const s=r&&$(r);s&&(h&&m.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[ft]:t,[lt]:n}))}function An(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[lt],i=r[ft];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}const Nn=1e3;class sn{constructor(t={}){this._traceId=t.traceId||et(),this._spanId=t.spanId||rr(),this._startTime=t.startTimestamp||B(),this._links=t.links,this._attributes={},this.setAttributes({[P]:"manual",[fe]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?fs:sr}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=ve(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(X,"custom"),this}end(t){this._endTime||(this._endTime=ve(t),Ys(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[fe],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:ms(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[P],profile_id:this._attributes[Zt],exclusive_time:this._attributes[xe],measurements:An(this._events),is_segment:this._isStandaloneSpan&&$(this)===this||void 0,segment_id:this._isStandaloneSpan?$(this).spanContext().spanId:void 0,links:ps(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){h&&m.log("[Tracing] Adding an event to span:",t);const s=Cn(n)?n:r||B(),i=Cn(n)?{}:n||{},o={name:t,time:ve(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=b();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===$(this)))return;if(this._isStandaloneSpan){this._sampled?ci(ii([this],t)):(h&&m.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(pn(this).scope||A()).captureEvent(r)}_convertSpanToTransaction(){if(!Pn(R(this)))return;this._name||(h&&m.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=pn(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const i=Ve(this).filter(d=>d!==this&&!ai(d)).map(d=>R(d)).filter(Pn),o=this._attributes[X];delete this._attributes[mn],i.forEach(d=>{delete d.data[mn]});const a={contexts:{trace:hs(this)},spans:i.length>Nn?i.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,Nn):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:ie(this)},request:r,...o&&{transaction_info:{source:o}}},c=An(this._events);return c&&Object.keys(c).length&&(h&&m.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function Cn(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Pn(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function ai(e){return e instanceof sn&&e.isStandaloneSpan()}function ci(e){const t=b();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const br="__SENTRY_SUPPRESS_TRACING__";function Me(e){const t=Ir();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=di(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?o=>Qt(e.scope,o):s!==void 0?o=>vr(s,o):o=>o())(()=>{const o=A(),a=fi(o);return e.onlyIfParent&&!a?new ce:ui({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function vr(e,t){const n=Ir();return n.withActiveSpan?n.withActiveSpan(e,t):Qt(r=>(en(r,e||void 0),t(r)))}function ui({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!se()){const o=new ce;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...ie(o)};Ye(o,a)}return o}const s=pt();let i;if(e&&!n)i=li(e,r,t),ar(e,i);else if(e){const o=ie(e),{traceId:a,spanId:c}=e.spanContext(),u=dt(e);i=On({traceId:a,parentSpanId:c,...t},r,u),Ye(i,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};i=On({traceId:o,parentSpanId:c,...t},r,u),a&&Ye(i,a)}return Vs(i),_s(i,r,s),i}function di(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=ve(e.startTime),delete r.startTime,r}return n}function Ir(){const e=ir();return or(e)}function On(e,t,n){const r=b(),s=r?.getOptions()||{},{name:i=""}=e,o={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[br]?[!1]:zs(s,{name:i,parentSampled:a,attributes:c,parentSampleRate:Kt(u.dsc?.sample_rate)},u.sampleRand),p=new sn({...e,attributes:{[X]:"custom",[cr]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(h&&m.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function li(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[br]?!1:dt(e),o=i?new sn({...n,parentSpanId:r,traceId:s,sampled:i}):new ce({traceId:s});ar(e,o);const a=b();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function fi(e){const t=gs(e);if(!t)return;const n=b();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?$(t):t}const Je={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},pi="heartbeatFailed",mi="idleTimeout",hi="finalTimeout",gi="externalFinish";function Rr(e,t={}){const n=new Map;let r=!1,s,i=gi,o=!t.disableAutoFinish;const a=[],{idleTimeout:c=Je.idleTimeout,finalTimeout:u=Je.finalTimeout,childSpanTimeout:d=Je.childSpanTimeout,beforeSpanEnd:l}=t,f=b();if(!f||!se()){const y=new ce,O={sample_rate:"0",sampled:"false",...ie(y)};return Ye(y,O),y}const p=A(),S=H(),_=_i(e);_.end=new Proxy(_.end,{apply(y,O,ye){if(l&&l(_),O instanceof ce)return;const[Te,...te]=ye,v=Te||B(),T=ve(v),I=Ve(_).filter(L=>L!==_);if(!I.length)return Ue(T),Reflect.apply(y,O,[T,...te]);const N=I.map(L=>R(L).timestamp).filter(L=>!!L),U=N.length?Math.max(...N):void 0,M=R(_).start_timestamp,Y=Math.min(M?M+u/1e3:1/0,Math.max(M||-1/0,Math.min(T,U||1/0)));return Ue(Y),Reflect.apply(y,O,[Y,...te])}});function F(){s&&(clearTimeout(s),s=void 0)}function V(y){F(),s=setTimeout(()=>{!r&&n.size===0&&o&&(i=mi,_.end(y))},c)}function ee(y){s=setTimeout(()=>{!r&&o&&(i=pi,_.end(y))},d)}function St(y){F(),n.set(y,!0);const O=B();ee(O+d/1e3)}function Et(y){if(n.has(y)&&n.delete(y),n.size===0){const O=B();V(O+c/1e3)}}function Ue(y){r=!0,n.clear(),a.forEach(T=>T()),en(p,S);const O=R(_),{start_timestamp:ye}=O;if(!ye)return;O.data[tt]||_.setAttribute(tt,i),m.log(`[Tracing] Idle span "${O.op}" finished`);const te=Ve(_).filter(T=>T!==_);let v=0;te.forEach(T=>{T.isRecording()&&(T.setStatus({code:ke,message:"cancelled"}),T.end(y),h&&m.log("[Tracing] Cancelling span since span ended early",JSON.stringify(T,void 0,2)));const I=R(T),{timestamp:N=0,start_timestamp:U=0}=I,M=U<=y,Y=(u+c)/1e3,L=N-U<=Y;if(h){const be=JSON.stringify(T,void 0,2);M?L||m.log("[Tracing] Discarding span since it finished after idle span final timeout",be):m.log("[Tracing] Discarding span since it happened after idle span was finished",be)}(!L||!M)&&(Ss(_,T),v++)}),v>0&&_.setAttribute("sentry.idle_span_discarded_spans",v)}return a.push(f.on("spanStart",y=>{if(r||y===_||R(y).timestamp)return;Ve(_).includes(y)&&St(y.spanContext().spanId)})),a.push(f.on("spanEnd",y=>{r||Et(y.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",y=>{y===_&&(o=!0,V(),n.size&&ee())})),t.disableAutoFinish||V(),setTimeout(()=>{r||(_.setStatus({code:ke,message:"deadline_exceeded"}),i=hi,_.end())},u),_}function _i(e){const t=Me(e);return en(A(),t),h&&m.log("[Tracing] Started span is an idle span"),t}const Si="7";function Ei(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function yi(e){return`${Ei(e)}${e.projectId}/envelope/`}function Ti(e,t){const n={sentry_version:Si};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function bi(e,t,n){return t||`${yi(e)}?${Ti(e,n)}`}const Ln=[];function vi(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Ii(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return vi(r)}function Ri(e,t){const n={};return t.forEach(r=>{r&&wr(e,r,n)}),n}function xn(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function wr(e,t,n){if(n[t.name]){h&&m.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Ln.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Ln.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}h&&m.log(`Integration installed: ${t.name}`)}function wi(e,t,n){const r=[{type:"client_report"},{timestamp:ur(),discarded_events:e}];return he(t?{dsn:t}:{},[r])}function kr(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function ki(e){const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:i,data:o,op:a}=e.contexts?.trace??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o?.[Zt],exclusive_time:o?.[xe],measurements:e.measurements,is_segment:!0}}function Ai(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Zt]:e.profile_id},...e.exclusive_time&&{[xe]:e.exclusive_time}}}},measurements:e.measurements}}const Fn="Not capturing exception because it's already been captured.",Mn="Discarded session because of missing or non-string release",Ar=Symbol.for("SentryInternalError"),Nr=Symbol.for("SentryDoNotSendEventError");function Ke(e){return{message:e,[Ar]:!0}}function vt(e){return{message:e,[Nr]:!0}}function Dn(e){return!!e&&typeof e=="object"&&Ar in e}function $n(e){return!!e&&typeof e=="object"&&Nr in e}class Ni{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Es(t.dsn):h&&m.warn("No DSN provided, client will not send events."),this._dsn){const n=bi(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const s=ze();if(hn(t))return h&&m.log(Fn),s;const i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,s){const i={event_id:ze(),...r},o=fr(t)?t:String(t),a=Ae(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,s))),i.event_id}captureEvent(t,n,r){const s=ze();if(n?.originalException&&hn(n.originalException))return h&&m.log(Fn),s;const i={event_id:s,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),gn(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):oe(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];wr(this,t,this._integrations),n||xn(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=si(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Xs(r,Qs(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const{release:n,environment:r=ys}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!n){h&&m.warn(Mn);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){h&&m.warn(Mn);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=ri(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;h&&m.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(h&&m.error("Error while sending envelope:",n),n)):(h&&m.error("Transport disabled"),oe({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Ri(this,t),xn(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception?.values;if(i){s=!0;for(const c of i)if(c.mechanism?.handled===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(gn(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new dr(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o?.length&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),Ts(i,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:bs(r),...a.contexts};const c=lr(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=A(),s=pt()){return h&&$t(t)&&m.log(`Captured error event \`${kr(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(i=>i.event_id,i=>{h&&($n(i)?m.log(i.message):Dn(i)?m.warn(i.message):m.warn(i))})}_processEvent(t,n,r,s){const i=this.getOptions(),{sampleRate:o}=i,a=Cr(t),c=$t(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof o>"u"?void 0:Kt(o);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),nt(vt(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,s).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),vt("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;const _=Pi(this,i,p,n);return Ci(_,d)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f),a){const V=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",V)}throw vt(`${d} returned \`null\`, will not send event.`)}const S=r.getSession()||s.getSession();if(c&&S&&this._updateSessionFromEvent(S,p),a){const F=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,V=p.spans?p.spans.length:0,ee=F-V;ee>0&&this.recordDroppedEvent("before_send","span",ee)}const _=p.transaction_info;if(a&&_&&p.transaction!==t.transaction){const F="custom";p.transaction_info={..._,source:F}}return this.sendEvent(p,n),p}).then(null,p=>{throw $n(p)||Dn(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),Ke(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){h&&m.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){h&&m.log("No outcomes to send");return}if(!this._dsn){h&&m.log("No dsn provided, will not send outcomes");return}h&&m.log("Sending outcomes:",t);const n=wi(t,this._options.tunnel&&Le(this._dsn));this.sendEnvelope(n)}}function Ci(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Is(e))return e.then(r=>{if(!xt(r)&&r!==null)throw Ke(n);return r},r=>{throw Ke(`${t} rejected with ${r}`)});if(!xt(e)&&e!==null)throw Ke(n);return e}function Pi(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o}=t;let a=n;if($t(a)&&s)return s(a,r);if(Cr(a)){if(o){const c=o(ki(a));if(c?a=vs(n,Ai(c)):Lt(),a.spans){const u=[];for(const d of a.spans){const l=o(d);l?u.push(l):(Lt(),u.push(d))}a.spans=u}}if(i){if(a.spans){const c=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(a,r)}}return a}function $t(e){return e.type===void 0}function Cr(e){return e.type==="transaction"}function Oi(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Li(e,t,n,r){const s={};return t?.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Le(r)),he(s,[Oi(e)])}k._sentryClientToLogBufferMap=new WeakMap;function It(e,t){const n=xi(e)??[];if(n.length===0)return;const r=e.getOptions(),s=Li(n,r._metadata,r.tunnel,e.getDsn());k._sentryClientToLogBufferMap?.set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function xi(e){return k._sentryClientToLogBufferMap?.get(e)}function Fi(e,t){t.debug===!0&&(h?m.enable():tn(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),A().update(t.initialScope);const r=new e(t);return Mi(r),r.init(),r}function Mi(e){A().setClient(e)}const Pr=Symbol.for("SentryBufferFullError");function Di(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function s(o){if(!n())return nt(Pr);const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new dr((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(l=>{oe(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:i}}const $i=60*1e3;function Hi(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?$i:r-t}function Ui(e,t){return e[t]||e.all||0}function Bi(e,t,n=Date.now()){return Ui(e,t)>n}function qi(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n?.["x-sentry-rate-limits"],o=n?.["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else o?s.all=r+Hi(o,r):t===429&&(s.all=r+60*1e3);return s}const ji=64;function Wi(e,t,n=Di(e.bufferSize||ji)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(wn(o,(l,f)=>{const p=kn(f);Bi(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(l)}),a.length===0)return oe({});const c=he(o[0],a),u=l=>{wn(c,(f,p)=>{e.recordDroppedEvent(l,kn(p))})},d=()=>t({body:Js(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&h&&m.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=qi(r,l),l),l=>{throw u("network_error"),h&&m.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Pr)return h&&m.error("Skipped sending event because buffer is full."),u("queue_overflow"),oe({});throw l})}return{send:i,flush:s}}function Gi(e){e.user?.ip_address===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function Vi(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Yi(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:_n})),version:_n}),e._metadata=s}function Or(e={}){const t=e.client||b();if(!Rs()||!t)return{};const n=ir(),r=or(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||A(),i=e.span||H(),o=i?ws(i):zi(s),a=i?ie(i):lr(t,s),c=ks(a);return As.test(o)?{"sentry-trace":o,baggage:c}:(m.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function zi(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Ns(t,r,n)}const Xi=100;function ue(e,t){const n=b(),r=pt();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=Xi}=n.getOptions();if(i<=0)return;const a={timestamp:ur(),...e},c=s?tn(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}let Hn;const Ji="FunctionToString",Un=new WeakMap,Ki=()=>({name:Ji,setupOnce(){Hn=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=nn(this),n=Un.has(b())&&t!==void 0?t:this;return Hn.apply(n,e)}}catch{}},setup(e){Un.set(e,!0)}}),Zi=Ki,Qi=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],eo="EventFilters",to=(e={})=>{let t;return{name:eo,setup(n){const r=n.getOptions();t=Bn(e,r)},processEvent(n,r,s){if(!t){const i=s.getOptions();t=Bn(e,i)}return ro(n,t)?null:n}}},no=(e={})=>({...to(e),name:"InboundFilters"});function Bn(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Qi],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function ro(e,t){if(e.type){if(e.type==="transaction"&&io(e,t.ignoreTransactions))return h&&m.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ne(e)}`),!0}else{if(so(e,t.ignoreErrors))return h&&m.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ne(e)}`),!0;if(uo(e))return h&&m.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ne(e)}`),!0;if(oo(e,t.denyUrls))return h&&m.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ne(e)}.
Url: ${st(e)}`),!0;if(!ao(e,t.allowUrls))return h&&m.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ne(e)}.
Url: ${st(e)}`),!0}return!1}function so(e,t){return t?.length?kr(e).some(n=>J(n,t)):!1}function io(e,t){if(!t?.length)return!1;const n=e.transaction;return n?J(n,t):!1}function oo(e,t){if(!t?.length)return!1;const n=st(e);return n?J(n,t):!1}function ao(e,t){if(!t?.length)return!0;const n=st(e);return n?J(n,t):!0}function co(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function st(e){try{const n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?co(n):null}catch{return h&&m.error(`Cannot extract url for event ${ne(e)}`),null}}function uo(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function lo(e,t,n,r,s,i){if(!s.exception?.values||!i||!rt(i.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=Ht(e,t,r,i.originalException,n,s.exception.values,o,0))}function Ht(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(rt(r[s],Error)){qn(o,a);const u=e(t,r[s]),d=c.length;jn(u,s,d,a),c=Ht(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(rt(u,Error)){qn(o,a);const l=e(t,u),f=c.length;jn(l,`errors[${d}]`,f,a),c=Ht(e,t,n,u,s,[l,...c],l,f)}}),c}function qn(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function jn(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function fo(e){const t="console";Z(t,e),Q(t,po)}function po(){"console"in k&&Cs.forEach(function(e){e in k.console&&D(k.console,e,function(t){return Sn[e]=t,function(...n){q("console",{args:n,level:e}),Sn[e]?.apply(k.console,n)}})})}function mo(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const ho="Dedupe",go=()=>{let e;return{name:ho,processEvent(t){if(t.type)return t;try{if(So(t,e))return h&&m.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},_o=go;function So(e,t){return t?!!(Eo(e,t)||yo(e,t)):!1}function Eo(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!xr(e,t)||!Lr(e,t))}function yo(e,t){const n=Wn(t),r=Wn(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!xr(e,t)||!Lr(e,t))}function Lr(e,t){let n=En(e),r=En(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function xr(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Wn(e){return e.exception?.values&&e.exception.values[0]}const To="thismessage:/";function Fr(e){return"isRelative"in e}function Mr(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?To:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function bo(e){if(Fr(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function re(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function vo(e){return e.split(/[?#]/,1)[0]}function Io(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const{method:i,url:o}=e.fetchData,a=se()&&t(o);if(e.endTimestamp&&a){const l=e.fetchData.__span;if(!l)return;const f=r[l];f&&(wo(f,e),delete r[l]);return}const c=!!H(),u=a&&c?Me(Ao(o,i,s)):new ce;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){const l=e.args[0],f=e.args[1]||{},p=Ro(l,f,se()&&c?u:void 0);p&&(e.args[1]=f,f.headers=p)}const d=b();if(d){const l={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,l)}return u}function Ro(e,t,n){const r=Or({span:n}),s=r["sentry-trace"],i=r.baggage;if(!s)return;const o=t.headers||(mr(e)?e.headers:void 0);if(o)if(ko(o)){const a=new Headers(o);if(a.get("sentry-trace")||a.set("sentry-trace",s),i){const c=a.get("baggage");c?Be(c)||a.set("baggage",`${c},${i}`):a.set("baggage",i)}return a}else if(Array.isArray(o)){const a=[...o];o.find(u=>u[0]==="sentry-trace")||a.push(["sentry-trace",s]);const c=o.find(u=>u[0]==="baggage"&&Be(u[1]));return i&&!c&&a.push(["baggage",i]),a}else{const a="sentry-trace"in o?o["sentry-trace"]:void 0,c="baggage"in o?o.baggage:void 0,u=c?Array.isArray(c)?[...c]:[c]:[],d=c&&(Array.isArray(c)?c.find(l=>Be(l)):Be(c));return i&&!d&&u.push(i),{...o,"sentry-trace":a??s,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function wo(e,t){if(t.response){pr(e,t.response.status);const n=t.response?.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:ke,message:"internal_error"});e.end()}function Be(e){return e.split(",").some(t=>t.trim().startsWith(Ps))}function ko(e){return typeof Headers<"u"&&rt(e,Headers)}function Ao(e,t,n){const r=Mr(e);return{name:r?`${t} ${bo(r)}`:t,attributes:No(e,r,t,n)}}function No(e,t,n,r){const s={url:e,type:"fetch","http.method":n,[P]:r,[fe]:"http.client"};return t&&(Fr(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function Dr(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Pe=k;function Co(){return"history"in Pe&&!!Pe.history}function Po(){if(!("fetch"in Pe))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Ut(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Oo(){if(typeof EdgeRuntime=="string")return!0;if(!Po())return!1;if(Ut(Pe.fetch))return!0;let e=!1;const t=Pe.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=Ut(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){h&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function $r(e,t){const n="fetch";Z(n,e),Q(n,()=>Hr(void 0,t))}function Lo(e){const t="fetch-body-resolved";Z(t,e),Q(t,()=>Hr(Fo))}function Hr(e,t=!1){t&&!Oo()||D(k,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=Mo(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:B()*1e3,virtualError:s,headers:Do(r)};return e||q("fetch",{...a}),n.apply(k,r).then(async c=>(e?e(c):q("fetch",{...a,endTimestamp:B()*1e3,response:c}),c),c=>{if(q("fetch",{...a,endTimestamp:B()*1e3,error:c}),hr(c)&&c.stack===void 0&&(c.stack=s.stack,Ne(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function xo(e,t){if(e?.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(o)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function Fo(e){let t;try{t=e.clone()}catch{return}xo(t,()=>{q("fetch-body-resolved",{endTimestamp:B()*1e3,response:e})})}function Bt(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Gn(e){return typeof e=="string"?e:e?Bt(e,"url")?e.url:e.toString?e.toString():"":""}function Mo(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Gn(n),method:Bt(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Gn(t),method:Bt(t,"method")?String(t.method).toUpperCase():"GET"}}function Do(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(mr(t))return new Headers(t.headers)}catch{}}function $o(){return"npm"}const E=k;let qt=0;function Ur(){return qt>0}function Ho(){qt++,setTimeout(()=>{qt--})}function me(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(nn(e))return e}catch{return e}const r=function(...s){try{const i=s.map(o=>me(o,t));return e.apply(this,i)}catch(i){throw Ho(),Qt(o=>{o.addEventProcessor(a=>(t.mechanism&&(Ft(a,void 0),Ce(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Ls(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Os(r,e),Ne(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function jt(){const e=Fe(),{referrer:t}=E.document||{},{userAgent:n}=E.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function on(e,t){const n=an(e,t),r={type:Wo(t),value:Go(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Uo(e,t,n,r){const i=b()?.getOptions().normalizeDepth,o=Jo(t),a={__serialized__:Fs(t,i)};if(o)return{exception:{values:[on(e,o)]},extra:a};const c={exception:{values:[{type:rn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:zo(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=an(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Rt(e,t){return{exception:{values:[on(e,t)]}}}function an(e,t){const n=t.stacktrace||t.stack||"",r=qo(t),s=jo(t);try{return e(n,r,s)}catch{}return[]}const Bo=/Minified React error #\d+;/i;function qo(e){return e&&Bo.test(e.message)?1:0}function jo(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Br(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Wo(e){const t=e?.name;return!t&&Br(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Go(e){const t=e?.message;return Br(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Vo(e,t,n,r){const s=n?.syntheticException||void 0,i=cn(e,t,s,r);return Ce(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),oe(i)}function Yo(e,t,n="info",r,s){const i=r?.syntheticException||void 0,o=Wt(e,t,i,s);return o.level=n,r?.event_id&&(o.event_id=r.event_id),oe(o)}function cn(e,t,n,r,s){let i;if(gr(t)&&t.error)return Rt(e,t.error);if(yn(t)||xs(t)){const o=t;if("stack"in t)i=Rt(e,t);else{const a=o.name||(yn(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=Wt(e,c,n,r),Ft(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return hr(t)?Rt(e,t):xt(t)||rn(t)?(i=Uo(e,t,n,s),Ce(i,{synthetic:!0}),i):(i=Wt(e,t,n,r),Ft(i,`${t}`),Ce(i,{synthetic:!0}),i)}function Wt(e,t,n,r){const s={};if(r&&n){const i=an(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),Ce(s,{synthetic:!0})}if(fr(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function zo(e,{isUnhandledRejection:t}){const n=Ms(e),r=t?"promise rejection":"exception";return gr(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:rn(e)?`Event \`${Xo(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Xo(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Jo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}const Ko=5e3;class Zo extends Ni{constructor(t){const n=Qo(t),r=E.SENTRY_SDK_SOURCE||$o();Yi(n,"browser",["browser"],r),super(n);const{sendDefaultPii:s,sendClientReports:i,_experiments:o}=this._options,a=o?.enableLogs;E.document&&(i||a)&&E.document.addEventListener("visibilitychange",()=>{E.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),a&&It(this))}),a&&(this.on("flush",()=>{It(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{It(this)},Ko)})),s&&(this.on("postprocessEvent",Gi),this.on("beforeSendSession",Vi))}eventFromException(t,n){return Vo(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Yo(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function Qo(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:E.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const un=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,g=k,ea=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",ge=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s??0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=ea(t.value,n),e(t)))}},ta=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,De=(e=!0)=>{const t=g.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},_e=()=>De()?.activationStart??0,Se=(e,t=-1)=>{const n=De();let r="navigate";return n&&(g.document?.prerendering||_e()>0?r="prerender":g.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:ta(),navigationType:r}},wt=new WeakMap;function dn(e,t){return wt.get(e)||wt.set(e,new t),wt.get(e)}class it{constructor(){it.prototype.__init.call(this),it.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const de=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},mt=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Re=-1;const na=()=>g.document?.visibilityState==="hidden"&&!g.document?.prerendering?0:1/0,ot=e=>{g.document.visibilityState==="hidden"&&Re>-1&&(Re=e.type==="visibilitychange"?e.timeStamp:0,sa())},ra=()=>{addEventListener("visibilitychange",ot,!0),addEventListener("prerenderingchange",ot,!0)},sa=()=>{removeEventListener("visibilitychange",ot,!0),removeEventListener("prerenderingchange",ot,!0)},ht=()=>{if(g.document&&Re<0){const e=_e();Re=(g.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??na(),ra()}return{get firstHiddenTime(){return Re}}},$e=e=>{g.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},ia=[1800,3e3],oa=(e,t={})=>{$e(()=>{const n=ht(),r=Se("FCP");let s;const o=de("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-_e(),0),r.entries.push(c),s(!0)))});o&&(s=ge(e,r,ia,t.reportAllChanges))})},aa=[.1,.25],ca=(e,t={})=>{oa(mt(()=>{const n=Se("CLS",0);let r;const s=dn(t,it),i=a=>{for(const c of a)s._processEntry(c);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,r())},o=de("layout-shift",i);o&&(r=ge(e,n,aa,t.reportAllChanges),g.document?.addEventListener("visibilitychange",()=>{g.document?.visibilityState==="hidden"&&(i(o.takeRecords()),r(!0))}),g?.setTimeout?.(r))}))},gt=e=>{const t=n=>{(n.type==="pagehide"||g.document?.visibilityState==="hidden")&&e(n)};g.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},ua=[100,300],da=(e,t={})=>{$e(()=>{const n=ht(),r=Se("FID");let s;const i=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),s(!0))},o=c=>{c.forEach(i)},a=de("first-input",o);s=ge(e,r,ua,t.reportAllChanges),a&&gt(mt(()=>{o(a.takeRecords()),a.disconnect()}))})};let qr=0,kt=1/0,qe=0;const la=e=>{e.forEach(t=>{t.interactionId&&(kt=Math.min(kt,t.interactionId),qe=Math.max(qe,t.interactionId),qr=qe?(qe-kt)/7+1:0)})};let Gt;const jr=()=>Gt?qr:performance.interactionCount||0,fa=()=>{"interactionCount"in performance||Gt||(Gt=de("event",la,{type:"event",buffered:!0,durationThreshold:0}))},At=10;let Wr=0;const pa=()=>jr()-Wr;class at{constructor(){at.prototype.__init.call(this),at.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Wr=jr(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(pa()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<At||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((s,i)=>i._latency-s._latency),this._longestInteractionList.length>At){const s=this._longestInteractionList.splice(At);for(const i of s)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}}const Gr=e=>{const t=g.requestIdleCallback||g.setTimeout;g.document?.visibilityState==="hidden"?e():(e=mt(e),t(e),gt(e))},ma=[200,500],ha=40,ga=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&$e(()=>{fa();const n=Se("INP");let r;const s=dn(t,at),i=a=>{Gr(()=>{for(const u of a)s._processEntry(u);const c=s._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},o=de("event",i,{durationThreshold:t.durationThreshold??ha});r=ge(e,n,ma,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),gt(()=>{i(o.takeRecords()),r(!0)}))})};class _a{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const Sa=[2500,4e3],Ea=(e,t={})=>{$e(()=>{const n=ht(),r=Se("LCP");let s;const i=dn(t,_a),o=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-_e(),0),r.entries=[u],s())},a=de("largest-contentful-paint",o);if(a){s=ge(e,r,Sa,t.reportAllChanges);const c=mt(()=>{o(a.takeRecords()),a.disconnect(),s(!0)});for(const u of["keydown","click","visibilitychange"])g.document&&addEventListener(u,()=>Gr(c),{capture:!0,once:!0})}})},ya=[800,1800],Vt=e=>{g.document?.prerendering?$e(()=>Vt(e)):g.document?.readyState!=="complete"?addEventListener("load",()=>Vt(e),!0):setTimeout(e)},Ta=(e,t={})=>{const n=Se("TTFB"),r=ge(e,n,ya,t.reportAllChanges);Vt(()=>{const s=De();s&&(n.value=Math.max(s.responseStart-_e(),0),n.entries=[s],r(!0))})},we={},ct={};let Vr,Yr,zr,Xr,Jr;function Kr(e,t=!1){return He("cls",e,wa,Vr,t)}function ba(e,t=!1){return He("lcp",e,Aa,zr,t)}function va(e){return He("fid",e,ka,Yr)}function Ia(e){return He("ttfb",e,Na,Xr)}function Ra(e){return He("inp",e,Ca,Jr)}function Oe(e,t){return Zr(e,t),ct[e]||(Pa(e),ct[e]=!0),Qr(e,t)}function Ee(e,t){const n=we[e];if(n?.length)for(const r of n)try{r(t)}catch(s){un&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${K(r)}
Error:`,s)}}function wa(){return ca(e=>{Ee("cls",{metric:e}),Vr=e},{reportAllChanges:!0})}function ka(){return da(e=>{Ee("fid",{metric:e}),Yr=e})}function Aa(){return Ea(e=>{Ee("lcp",{metric:e}),zr=e},{reportAllChanges:!0})}function Na(){return Ta(e=>{Ee("ttfb",{metric:e}),Xr=e})}function Ca(){return ga(e=>{Ee("inp",{metric:e}),Jr=e})}function He(e,t,n,r,s=!1){Zr(e,t);let i;return ct[e]||(i=n(),ct[e]=!0),r&&t({metric:r}),Qr(e,t,s?i:void 0)}function Pa(e){const t={};e==="event"&&(t.durationThreshold=0),de(e,n=>{Ee(e,{entries:n})},t)}function Zr(e,t){we[e]=we[e]||[],we[e].push(t)}function Qr(e,t,n){return()=>{n&&n();const r=we[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function Oa(e){return"duration"in e}function Nt(e){return typeof e=="number"&&isFinite(e)}function z(e,t,n,{...r}){const s=R(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),vr(e,()=>{const i=Me({startTime:t,...r});return i&&i.end(n),i})}function es(e){const t=b();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=A(),f=l.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0;let S;try{S=l.getScopeData().contexts.profile.profile_id}catch{}const _={release:o,environment:a,user:p||void 0,profile_id:S||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":g.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...s};return Me({name:n,attributes:_,startTime:i,experimental:{standalone:!0}})}function ln(){return g.addEventListener&&g.performance}function w(e){return e/1e3}function ts(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function La(){let e=0,t,n;if(!Fa())return;let r=!1;function s(){r||(r=!0,n&&xa(e,t,n),i())}const i=Kr(({metric:o})=>{const a=o.entries[o.entries.length-1];a&&(e=o.value,t=a)},!0);gt(()=>{s()}),setTimeout(()=>{const o=b();if(!o)return;const a=o.on("startNavigationSpan",()=>{s(),a?.()}),c=H();if(c){const u=$(c);R(u).op==="pageload"&&(n=u.spanContext().spanId)}},0)}function xa(e,t,n){un&&m.log(`Sending CLS span (${e})`);const r=w((j()||0)+(t?.startTime||0)),s=A().getScopeData().transactionName,i=t?ae(t.sources[0]?.node):"Layout shift",o={[P]:"auto.http.browser.cls",[fe]:"ui.webvital.cls",[xe]:t?.duration||0,"sentry.pageload.span_id":n};t?.sources&&t.sources.forEach((c,u)=>{o[`cls.source.${u+1}`]=ae(c.node)});const a=es({name:i,transaction:s,attributes:o,startTime:r});a&&(a.addEvent("cls",{[lt]:"",[ft]:e}),a.end(r))}function Fa(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const Ma=2147483647;let Vn=0,C={},x,ut;function Da({recordClsStandaloneSpans:e}){const t=ln();if(t&&j()){t.mark&&g.performance.mark("sentry-tracing-init");const n=ja(),r=qa(),s=Wa(),i=e?La():Ba();return()=>{n(),r(),s(),i?.()}}return()=>{}}function $a(){Oe("longtask",({entries:e})=>{const t=H();if(!t)return;const{op:n,start_timestamp:r}=R(t);for(const s of e){const i=w(j()+s.startTime),o=w(s.duration);n==="navigation"&&r&&i<r||z(t,i,i+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[P]:"auto.ui.browser.metrics"}})}})}function Ha(){new PerformanceObserver(t=>{const n=H();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=w(j()+r.startTime),{start_timestamp:i,op:o}=R(n);if(o==="navigation"&&i&&s<i)continue;const a=w(r.duration),c={[P]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:S}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),S!==-1&&(c["browser.script.source_char_position"]=S),z(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Ua(){Oe("event",({entries:e})=>{const t=H();if(t){for(const n of e)if(n.name==="click"){const r=w(j()+n.startTime),s=w(n.duration),i={name:ae(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[P]:"auto.ui.browser.metrics"}},o=_r(n.target);o&&(i.attributes["ui.component_name"]=o),z(t,r,r+s,i)}}})}function Ba(){return Kr(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(C.cls={value:e.value,unit:""},ut=t)},!0)}function qa(){return ba(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(C.lcp={value:e.value,unit:"millisecond"},x=t)},!0)}function ja(){return va(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=w(j()),r=w(t.startTime);C.fid={value:e.value,unit:"millisecond"},C["mark.fid"]={value:n+r,unit:"second"}})}function Wa(){return Ia(({metric:e})=>{e.entries[e.entries.length-1]&&(C.ttfb={value:e.value,unit:"millisecond"})})}function Ga(e,t){const n=ln(),r=j();if(!n?.getEntries||!r)return;const s=w(r),i=n.getEntries(),{op:o,start_timestamp:a}=R(e);if(i.slice(Vn).forEach(c=>{const u=w(c.startTime),d=w(Math.max(0,c.duration));if(!(o==="navigation"&&a&&s+u<a))switch(c.entryType){case"navigation":{za(e,c,s);break}case"mark":case"paint":case"measure":{Va(e,c,u,d,s,t.ignorePerformanceApiSpans);const l=ht(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(C.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(C.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Ka(e,c,c.name,u,d,s,t.ignoreResourceSpans);break}}}),Vn=Math.max(i.length-1,0),Za(e),o==="pageload"){ec(C);const c=C["mark.fid"];c&&C.fid&&(z(e,c.value,c.value+w(C.fid.value),{name:"first input delay",op:"ui.action",attributes:{[P]:"auto.ui.browser.metrics"}}),delete C["mark.fid"]),(!("fcp"in C)||!t.recordClsOnPageloadSpan)&&delete C.cls,Object.entries(C).forEach(([u,d])=>{oi(u,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",_e()),Qa(e)}x=void 0,ut=void 0,C={}}function Va(e,t,n,r,s,i){if(["mark","measure"].includes(t.entryType)&&J(t.name,i))return;const o=De(!1),a=w(o?o.requestStart:0),c=s+Math.max(n,a),u=s+n,d=u+r,l={[P]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),Ya(l,t),c<=d&&z(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function Ya(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&Ae(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(Ae(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function za(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{je(e,t,r,n)}),je(e,t,"secureConnection",n,"TLS/SSL"),je(e,t,"fetch",n,"cache"),je(e,t,"domainLookup",n,"DNS"),Ja(e,t,n)}function je(e,t,n,r,s=n){const i=Xa(n),o=t[i],a=t[`${n}Start`];!a||!o||z(e,r+w(a),r+w(o),{op:`browser.${s}`,name:t.name,attributes:{[P]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function Xa(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Ja(e,t,n){const r=n+w(t.requestStart),s=n+w(t.responseEnd),i=n+w(t.responseStart);t.responseEnd&&(z(e,r,s,{op:"browser.request",name:t.name,attributes:{[P]:"auto.ui.browser.metrics"}}),z(e,i,s,{op:"browser.response",name:t.name,attributes:{[P]:"auto.ui.browser.metrics"}}))}function Ka(e,t,n,r,s,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o?.includes(a))return;const c=re(n),u={[P]:"auto.resource.browser.metrics"};Ct(u,t,"transferSize","http.response_transfer_size"),Ct(u,t,"encodedBodySize","http.response_content_length"),Ct(u,t,"decodedBodySize","http.decoded_response_content_length");const d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);const l=t.renderBlockingStatus;l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(g.location.origin);const{name:f,version:p}=ts(t.nextHopProtocol);u["network.protocol.name"]=f,u["network.protocol.version"]=p;const S=i+r,_=S+s;z(e,S,_,{name:n.replace(g.location.origin,""),op:a,attributes:u})}function Za(e){const t=g.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Nt(n.rtt)&&(C["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Nt(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Nt(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Qa(e){x&&(x.element&&e.setAttribute("lcp.element",ae(x.element)),x.id&&e.setAttribute("lcp.id",x.id),x.url&&e.setAttribute("lcp.url",x.url.trim().slice(0,200)),x.loadTime!=null&&e.setAttribute("lcp.loadTime",x.loadTime),x.renderTime!=null&&e.setAttribute("lcp.renderTime",x.renderTime),e.setAttribute("lcp.size",x.size)),ut?.sources&&ut.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,ae(t.node)))}function Ct(e,t,n,r){const s=t[n];s!=null&&s<Ma&&(e[r]=s)}function ec(e){const t=De(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const tc=1e3;let Yn,Yt,zt;function nc(e){const t="dom";Z(t,e),Q(t,rc)}function rc(){if(!g.document)return;const e=q.bind(null,"dom"),t=zn(e,!0);g.document.addEventListener("click",t,!1),g.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=g[n]?.prototype;s?.hasOwnProperty?.("addEventListener")&&(D(s,"addEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const l=zn(e);d.handler=l,i.call(this,o,l,c)}d.refCount++}catch{}return i.call(this,o,a,c)}}),D(s,"removeEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,c)}}))})}function sc(e){if(e.type!==Yt)return!1;try{if(!e.target||e.target._sentryId!==zt)return!1}catch{}return!0}function ic(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function zn(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=oc(n);if(ic(n.type,r))return;Ne(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ne(r,"_sentryId",ze());const s=n.type==="keypress"?"input":n.type;sc(n)||(e({event:n,name:s,global:t}),Yt=n.type,zt=r?r._sentryId:void 0),clearTimeout(Yn),Yn=g.setTimeout(()=>{zt=void 0,Yt=void 0},tc)}}function oc(e){try{return e.target}catch{return null}}let We;function fn(e){const t="history";Z(t,e),Q(t,ac)}function ac(){if(g.addEventListener("popstate",()=>{const t=g.location.href,n=We;if(We=t,n===t)return;q("history",{from:n,to:t})}),!Co())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=We,i=cc(String(r));if(We=i,s===i)return t.apply(this,n);q("history",{from:s,to:i})}return t.apply(this,n)}}D(g.history,"pushState",e),D(g.history,"replaceState",e)}function cc(e){try{return new URL(e,g.location.origin).toString()}catch{return e}}const Ze={};function uc(e){const t=Ze[e];if(t)return t;let n=g[e];if(Ut(n))return Ze[e]=n.bind(g);const r=g.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(s)}catch(s){un&&m.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Ze[e]=n.bind(g))}function Xn(e){Ze[e]=void 0}const le="__sentry_xhr_v3__";function ns(e){const t="xhr";Z(t,e),Q(t,dc)}function dc(){if(!g.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=B()*1e3,o=Ie(r[0])?r[0].toUpperCase():void 0,a=lc(r[1]);if(!o||!a)return t.apply(n,r);n[le]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[le];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:B()*1e3,startTimestamp:i,xhr:n,virtualError:s};q("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,p]=l,S=d[le];return S&&Ie(f)&&Ie(p)&&(S.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[le];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:B()*1e3,xhr:n};return q("xhr",i),t.apply(n,r)}})}function lc(e){if(Ie(e))return e;try{return e.toString()}catch{}}const Pt=[],Qe=new Map,fc=60;function pc(){if(ln()&&j()){const t=mc();return()=>{t()}}return()=>{}}const Jn={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function mc(){return Ra(hc)}const hc=({metric:e})=>{if(e.value==null)return;const t=w(e.value);if(t>fc)return;const n=e.entries.find(S=>S.duration===e.value&&Jn[S.name]);if(!n)return;const{interactionId:r}=n,s=Jn[n.name],i=w(j()+n.startTime),o=H(),a=o?$(o):void 0,u=(r!=null?Qe.get(r):void 0)||a,d=u?R(u).description:A().getScopeData().transactionName,l=ae(n.target),f={[P]:"auto.http.browser.inp",[fe]:`ui.interaction.${s}`,[xe]:n.duration},p=es({name:l,transaction:d,attributes:f,startTime:i});p&&(p.addEvent("inp",{[lt]:"millisecond",[ft]:e.value}),p.end(i+t))};function gc(){const e=({entries:t})=>{const n=H(),r=n&&$(n);t.forEach(s=>{if(!Oa(s)||!r)return;const i=s.interactionId;if(i!=null&&!Qe.has(i)){if(Pt.length>10){const o=Pt.shift();Qe.delete(o)}Pt.push(i),Qe.set(i,r)}})};Oe("event",e),Oe("first-input",e)}function _c(e,t=uc("fetch")){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Xn("fetch"),nt("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Xn("fetch"),n-=o,r--,nt(c)}}return Wi(e,s)}const Sc=30,Ec=50;function Xt(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?pe:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const yc=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Tc=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,bc=/\((\S*)(?::(\d+))(?::(\d+))\)/,vc=e=>{const t=yc.exec(e);if(t){const[,r,s,i]=t;return Xt(r,pe,+s,+i)}const n=Tc.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=bc.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[s,i]=rs(n[1]||pe,n[2]);return Xt(i,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Ic=[Sc,vc],Rc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,wc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,kc=e=>{const t=Rc.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=wc.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||pe;return[s,r]=rs(s,r),Xt(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Ac=[Ec,kc],Nc=[Ic,Ac],Cc=Ds(...Nc),rs=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:pe,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},W=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ge=1024,Pc="Breadcrumbs",Oc=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Pc,setup(n){t.console&&fo(Mc(n)),t.dom&&nc(Fc(n,t.dom)),t.xhr&&ns(Dc(n)),t.fetch&&$r($c(n)),t.history&&fn(Hc(n)),t.sentry&&n.on("beforeSendEvent",xc(n))}}},Lc=Oc;function xc(e){return function(n){b()===e&&ue({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:ne(n)},{event:n})}}function Fc(e,t){return function(r){if(b()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Ge&&(W&&m.warn(`\`dom.maxStringLength\` cannot exceed ${Ge}, but a value of ${a} was configured. Sentry will use ${Ge} instead.`),a=Ge),typeof o=="string"&&(o=[o]);try{const u=r.event,d=Uc(u)?u.target:u;s=ae(d,{keyAttrs:o,maxStringLength:a}),i=_r(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),ue(c,{event:r.event,name:r.name,global:r.global})}}function Mc(e){return function(n){if(b()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:mo(n.level),message:Tn(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Tn(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;ue(r,{input:n.args,level:n.level})}}function Dc(e){return function(n){if(b()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[le];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,d={method:o,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f={category:"xhr",data:d,type:"http",level:Dr(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),ue(f,l)}}function $c(e){return function(n){if(b()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),ue(a,o)}else{const i=n.response,o={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;const a={input:n.args,response:i,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:o,type:"http",level:Dr(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),ue(c,a)}}}function Hc(e){return function(n){if(b()!==e)return;let r=n.from,s=n.to;const i=re(E.location.href);let o=r?re(r):void 0;const a=re(s);o?.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),ue({category:"navigation",data:{from:r,to:s}})}}function Uc(e){return!!e&&!!e.target}const Bc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],qc="BrowserApiErrors",jc=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:qc,setupOnce(){t.setTimeout&&D(E,"setTimeout",Kn),t.setInterval&&D(E,"setInterval",Kn),t.requestAnimationFrame&&D(E,"requestAnimationFrame",Gc),t.XMLHttpRequest&&"XMLHttpRequest"in E&&D(XMLHttpRequest.prototype,"send",Vc);const n=t.eventTarget;n&&(Array.isArray(n)?n:Bc).forEach(s=>Yc(s,t))}}},Wc=jc;function Kn(e){return function(...t){const n=t[0];return t[0]=me(n,{mechanism:{data:{function:K(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Gc(e){return function(t){return e.apply(this,[me(t,{mechanism:{data:{function:"requestAnimationFrame",handler:K(e)},handled:!1,type:"instrument"}})])}}function Vc(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&D(n,s,function(i){const o={mechanism:{data:{function:s,handler:K(i)},handled:!1,type:"instrument"}},a=nn(i);return a&&(o.mechanism.data.handler=K(a)),me(i,o)})}),e.apply(this,t)}}function Yc(e,t){const r=E[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(D(r,"addEventListener",function(s){return function(i,o,a){try{zc(o)&&(o.handleEvent=me(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:K(o),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&Xc(this,i,o),s.apply(this,[i,me(o,{mechanism:{data:{function:"addEventListener",handler:K(o),target:e},handled:!1,type:"instrument"}}),a])}}),D(r,"removeEventListener",function(s){return function(i,o,a){try{const c=o.__sentry_wrapped__;c&&s.call(this,i,c,a)}catch{}return s.call(this,i,o,a)}}))}function zc(e){return typeof e.handleEvent=="function"}function Xc(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const Jc=()=>({name:"BrowserSession",setupOnce(){if(typeof E.document>"u"){W&&m.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}bn({ignoreDuration:!0}),vn(),fn(({from:e,to:t})=>{e!==void 0&&e!==t&&(bn({ignoreDuration:!0}),vn())})}}),Kc="GlobalHandlers",Zc=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Kc,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(eu(n),Zn("onerror")),t.onunhandledrejection&&(tu(n),Zn("onunhandledrejection"))}}},Qc=Zc;function eu(e){Er(t=>{const{stackParser:n,attachStacktrace:r}=ss();if(b()!==e||Ur())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=su(cn(n,c||s,void 0,r,!1),i,o,a);u.level="error",Sr(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function tu(e){yr(t=>{const{stackParser:n,attachStacktrace:r}=ss();if(b()!==e||Ur())return;const s=nu(t),i=Ae(s)?ru(s):cn(n,s,void 0,r,!0);i.level="error",Sr(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function nu(e){if(Ae(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function ru(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function su(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=Ie(t)&&t.length>0?t:Fe();return c.length===0&&c.push({colno:u,filename:l,function:pe,in_app:!0,lineno:d}),e}function Zn(e){W&&m.log(`Global Handler attached: ${e}`)}function ss(){return b()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const iu=()=>({name:"HttpContext",preprocessEvent(e){if(!E.navigator&&!E.location&&!E.document)return;const t=jt(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),ou="cause",au=5,cu="LinkedErrors",uu=(e={})=>{const t=e.limit||au,n=e.key||ou;return{name:cu,preprocessEvent(r,s,i){const o=i.getOptions();lo(on,o.stackParser,n,t,r,s)}}},du=uu;function lu(){return fu()?(W&&tn(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function fu(){if(typeof E.window>"u")return!1;const e=E;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=Fe(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(E===E.top&&r.some(i=>n.startsWith(`${i}://`)))}function pu(e){return[no(),Zi(),Wc(),Lc(),Qc(),du(),_o(),iu(),Jc()]}function mu(e={}){const t=!e.skipBrowserExtensionCheck&&lu(),n={...e,enabled:t?!1:e.enabled,stackParser:$s(e.stackParser||Cc),integrations:Ii({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?pu():e.defaultIntegrations}),transport:e.transport||_c};return Fi(Zo,n)}const Qn=new WeakMap,Ot=new Map,is={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function hu(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:c}={...is,...t},u=typeof i=="function"?i:f=>!0,d=f=>Su(f,a),l={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(p=>{if(p.op==="http.client"){const S=Ot.get(p.span_id);S&&(p.timestamp=S/1e3,Ot.delete(p.span_id))}}),f)),s&&Lo(f=>{if(f.response){const p=Qn.get(f.response);p&&f.endTimestamp&&Ot.set(p,f.endTimestamp)}}),$r(f=>{const p=Io(f,u,d,l);if(f.response&&f.fetchData.__span&&Qn.set(f.response,f.fetchData.__span),p){const S=os(f.fetchData.url),_=S?re(S).host:void 0;p.setAttributes({"http.url":S,"server.address":_}),o&&er(p),c?.(p,{headers:f.headers})}})),r&&ns(f=>{const p=Eu(f,u,d,l);if(p){o&&er(p);let S;try{S=new Headers(f.xhr.__sentry_xhr_v3__?.request_headers)}catch{}c?.(p,{headers:S})}})}function gu(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function er(e){const{url:t}=R(e).data;if(!t||typeof t!="string")return;const n=Oe("resource",({entries:r})=>{r.forEach(s=>{gu(s)&&s.name.endsWith(t)&&(_u(s).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function G(e=0){return((j()||performance.timeOrigin)+e)/1e3}function _u(e){const{name:t,version:n}=ts(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),j()?[...r,["http.request.redirect_start",G(e.redirectStart)],["http.request.fetch_start",G(e.fetchStart)],["http.request.domain_lookup_start",G(e.domainLookupStart)],["http.request.domain_lookup_end",G(e.domainLookupEnd)],["http.request.connect_start",G(e.connectStart)],["http.request.secure_connection_start",G(e.secureConnectionStart)],["http.request.connection_end",G(e.connectEnd)],["http.request.request_start",G(e.requestStart)],["http.request.response_start",G(e.responseStart)],["http.request.response_end",G(e.responseEnd)]]:r}function Su(e,t){const n=Fe();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return t?J(r.toString(),t)||i&&J(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?J(e,t):r}}function Eu(e,t,n,r){const s=e.xhr,i=s?.[le];if(!s||s.__sentry_own_request__||!i)return;const{url:o,method:a}=i,c=se()&&t(o);if(e.endTimestamp&&c){const _=s.__sentry_xhr_span_id__;if(!_)return;const F=r[_];F&&i.status_code!==void 0&&(pr(F,i.status_code),F.end(),delete r[_]);return}const u=os(o),d=re(u||o),l=vo(o),f=!!H(),p=c&&f?Me({name:`${a} ${l}`,attributes:{url:o,type:"xhr","http.method":a,"http.url":u,"server.address":d?.host,[P]:"auto.http.browser",[fe]:"http.client",...d?.search&&{"http.query":d?.search},...d?.hash&&{"http.fragment":d?.hash}}}):new ce;s.__sentry_xhr_span_id__=p.spanContext().spanId,r[s.__sentry_xhr_span_id__]=p,n(o)&&yu(s,se()&&f?p:void 0);const S=b();return S&&S.emit("beforeOutgoingRequestSpan",p,e),p}function yu(e,t){const{"sentry-trace":n,baggage:r}=Or({span:t});n&&Tu(e,n,r)}function Tu(e,t,n){const r=e.__sentry_xhr_v3__?.request_headers;if(!r?.["sentry-trace"])try{if(e.setRequestHeader("sentry-trace",t),n){const s=r?.baggage;(!s||!bu(s))&&e.setRequestHeader("baggage",n)}}catch{}}function bu(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function os(e){try{return new URL(e,E.location.origin).href}catch{return}}function vu(){E.document?E.document.addEventListener("visibilitychange",()=>{const e=H();if(!e)return;const t=$(e);if(E.document.hidden&&t){const n="cancelled",{op:r,status:s}=R(t);W&&m.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:ke,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):W&&m.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Iu=3600,as="sentry_previous_trace",Ru="sentry.previous_trace";function wu(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?Nu():void 0;e.on("spanStart",o=>{if($(o)!==o)return;const a=A().getPropagationContext();s=ku(s,o,a),r&&Au(s)});let i=!0;n&&e.on("beforeSampling",o=>{if(!s)return;const a=A(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(Jt(s.spanContext))},sampleRand:s.sampleRand}),o.parentSampled=Jt(s.spanContext),o.parentSampleRate=s.sampleRate,o.spanAttributes={...o.spanAttributes,[Hs]:s.sampleRate}})}function ku(e,t,n){const r=R(t);function s(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[cr])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return i;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=Iu&&(W&&m.info(`Adding previous_trace ${o} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:o,attributes:{[Us]:"previous_trace"}}),t.setAttribute(Ru,`${o.traceId}-${o.spanId}-${Jt(o)?1:0}`)),i)}function Au(e){try{E.sessionStorage.setItem(as,JSON.stringify(e))}catch(t){W&&m.warn("Could not store previous trace in sessionStorage",t)}}function Nu(){try{const e=E.sessionStorage?.getItem(as);return JSON.parse(e)}catch{return}}function Jt(e){return e.traceFlags===1}const Cu="BrowserTracing",Pu={...Je,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...is},Ou=(e={})=>{const t={name:void 0,source:void 0},n=E.document,{enableInp:r,enableLongTask:s,enableLongAnimationFrame:i,_experiments:{enableInteractions:o,enableStandaloneClsSpans:a},beforeStartSpan:c,idleTimeout:u,finalTimeout:d,childSpanTimeout:l,markBackgroundSpan:f,traceFetch:p,traceXHR:S,trackFetchStreamPerformance:_,shouldCreateSpanForRequest:F,enableHTTPTimings:V,ignoreResourceSpans:ee,ignorePerformanceApiSpans:St,instrumentPageLoad:Et,instrumentNavigation:Ue,linkPreviousTrace:y,consistentTraceSampling:O,onRequestSpanStart:ye}={...Pu,...e};let Te;function te(v,T){const I=T.op==="pageload",N=c?c(T):T,U=N.attributes||{};T.name!==N.name&&(U[X]="custom",N.attributes=U),t.name=N.name,t.source=U[X];const M=Rr(N,{idleTimeout:u,finalTimeout:d,childSpanTimeout:l,disableAutoFinish:I,beforeSpanEnd:L=>{Te?.(),Ga(L,{recordClsOnPageloadSpan:!a,ignoreResourceSpans:ee,ignorePerformanceApiSpans:St}),nr(v,void 0);const be=A(),us=be.getPropagationContext();be.setPropagationContext({...us,traceId:M.spanContext().traceId,sampled:dt(M),dsc:ie(L)})}});nr(v,M);function Y(){n&&["interactive","complete"].includes(n.readyState)&&v.emit("idleSpanEnableAutoFinish",M)}I&&n&&(n.addEventListener("readystatechange",()=>{Y()}),Y())}return{name:Cu,setup(v){Gs(),Te=Da({recordClsStandaloneSpans:a||!1}),r&&pc(),i&&k.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Ha():s&&$a(),o&&Ua();function T(){const I=_t(v);I&&!R(I).timestamp&&(W&&m.log(`[Tracing] Finishing current active span with op: ${R(I).op}`),I.setAttribute(tt,"cancelled"),I.end())}v.on("startNavigationSpan",I=>{if(b()!==v)return;T(),pt().setPropagationContext({traceId:et(),sampleRand:Math.random()});const N=A();N.setPropagationContext({traceId:et(),sampleRand:Math.random()}),N.setSDKProcessingMetadata({normalizedRequest:void 0}),te(v,{op:"navigation",...I})}),v.on("startPageLoadSpan",(I,N={})=>{if(b()!==v)return;T();const U=N.sentryTrace||tr("sentry-trace"),M=N.baggage||tr("baggage"),Y=Bs(U,M),L=A();L.setPropagationContext(Y),L.setSDKProcessingMetadata({normalizedRequest:jt()}),te(v,{op:"pageload",...I})})},afterAllSetup(v){let T=Fe();if(y!=="off"&&wu(v,{linkPreviousTrace:y,consistentTraceSampling:O}),E.location){if(Et){const I=j();Lu(v,{name:E.location.pathname,startTime:I?I/1e3:void 0,attributes:{[X]:"url",[P]:"auto.pageload.browser"}})}Ue&&fn(({to:I,from:N})=>{if(N===void 0&&T?.indexOf(I)!==-1){T=void 0;return}T=void 0;const U=Mr(I);xu(v,{name:U?.pathname||E.location.pathname,attributes:{[X]:"url",[P]:"auto.navigation.browser"}}),A().setSDKProcessingMetadata({normalizedRequest:{...jt(),url:I}})})}f&&vu(),o&&Fu(v,u,d,l,t),r&&gc(),hu(v,{traceFetch:p,traceXHR:S,trackFetchStreamPerformance:_,tracePropagationTargets:v.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:F,enableHTTPTimings:V,onRequestSpanStart:ye})}}};function Lu(e,t,n){return e.emit("startPageLoadSpan",t,n),A().setTransactionName(t.name),_t(e)}function xu(e,t){return e.emit("startNavigationSpan",t),A().setTransactionName(t.name),_t(e)}function tr(e){return E.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function Fu(e,t,n,r,s){const i=E.document;let o;const a=()=>{const c="ui.action.click",u=_t(e);if(u){const d=R(u).op;if(["navigation","pageload"].includes(d)){W&&m.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(tt,"interactionInterrupted"),o.end(),o=void 0),!s.name){W&&m.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}o=Rr({name:s.name,op:c,attributes:{[X]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{once:!1,capture:!0})}const cs="_sentry_idleSpan";function _t(e){return e[cs]}function nr(e,t){Ne(e,cs,t)}const Hu=()=>{const e=yt("sentrySampleRate"),t=yt("sentryTraceSampleRate");mu({dsn:"https://c69aedd313e64dd3940f788e5e03096e:9fb602a25e05414fb56ec073f7b56c85@sentry.io/248029",integrations:[Ou()],sampleRate:e??1,tracesSampleRate:t??.01,allowUrls:[/https?:\/\/(.*\.)?rinse\.com/,/https?:\/\/(.*\.)?stripe\.com/,/https?:\/\/(.*\.)?stripe\.network/],denyUrls:[/clarity\.ms/i],ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","Script error.","_avast_submit","AxiosError","AbortError","<unknown>"]});const n=yt("sentryUserInfo");n&&qs(n)};export{Hu as i};
//# sourceMappingURL=sentry.1.sha256-ff191a5d65.js.map
