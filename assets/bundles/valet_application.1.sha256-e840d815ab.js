import{$ as e}from"./jquery.1.sha256-cde7267a90.js";import"./jquery.validate.1.sha256-d40ff4a90f.js";import"./additional-methods.1.sha256-f72e8bac18.js";import{a as h}from"./js.cookie.1.sha256-b274c81169.js";import{U as g}from"./uikit.1.sha256-db4f9c9a42.js";import{s as b,e as w}from"./tracking.1.sha256-c760b2e67b.js";import{r as y,l as c,b as p}from"./utils.1.sha256-9ee1c54c60.js";/* empty css                                     */import"./internal_customer_edit_inner.1.sha256-34481b9084.js";import"./_commonjsHelpers.1.sha256-d18bdf7c2f.js";import"./index.1.sha256-7c8094d5f3.js";import"./exports.1.sha256-e7ea12f564.js";import"./moment.1.sha256-e1e16e85b3.js";try{let i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},l=new i.Error().stack;l&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[l]="22eae5ea-3c59-4b62-a2b1-0c28f375a7a0",i._sentryDebugIdIdentifier="sentry-dbid-22eae5ea-3c59-4b62-a2b1-0c28f375a7a0")}catch{}y(()=>{b("Valet Application"),e("#valet-application__messages-modal").length&&g.modal("#valet-application__messages-modal").show(),e("#referrerURL").val(h.get("rinse_initial_referrer")),e("#input--utm_source").val(c("utm_source")),e("#input--utm_content").val(c("utm_content"));const l=r=>{const a=e(r.currentTarget).closest(".valet-application__field-group");a.hasClass("invalid")&&(a.find(".valet-application__field-group-error").remove(),a.removeClass("invalid"))};e(".valet-application__radio-input").change(l),e(".valet-application__checkbox-input").change(r=>{r.currentTarget.checked&&l(r)}),e("textarea").keyup(l),e("select").change(r=>{const a=r.currentTarget;e(a).valid()}),e('input[name="referred"]').change(r=>{r.currentTarget.value==="Yes"?e("#valet_application__field-wrap--referral-name").show():(e("#referred_by").val(""),e("#referred_by").valid(),e("#valet_application__field-wrap--referral-name").removeClass("invalid"),e("#valet_application__field-wrap--referral-name").hide())}),e('input[name="does_your_car_have_4_or_more_doors"]').change(r=>{r.currentTarget.value==="Yes"?e("#valet_application__field-wrap--vehicle_type").show():(e("#vehicle_type").val(""),e("#vehicle_type").valid(),e("#valet_application__field-wrap--vehicle_type").removeClass("invalid"),e("#valet_application__field-wrap--vehicle_type").hide())});const _=p("funnels_json");e('select[name="funnel"]').change(r=>{e("#valet_application__field-wrap--able_to_report_to_locations").show(),e('input[name="able_to_report_to_location_for_training_and_work"]').prop("checked",!1),e('input[name="able_to_report_to_location_for_training_and_work"]').valid(),e("#valet_application__field-wrap--able_to_report_to_locations").removeClass("invalid");const a=r.currentTarget.value;if(a){const t=_[a];if(t){const s=e(".able-to-report-to-locations-for-training-and-work-label__link--work-address");if(s.attr("href",`https://maps.google.com/?q=${t.access_address}`),s.text(t.access_address),e(".able-to-report-to-locations-for-training-and-work-label").hide(),t.training_address){const o=e(".able-to-report-to-locations-for-training-and-work-label__link--training-address");o.attr("href",`https://maps.google.com/?q=${t.training_address}`),o.text(t.training_address),e("#able-to-report-to-locations-for-training-and-work-label--with-training-address").show()}else e("#able-to-report-to-locations-for-training-and-work-label--without-training-address").show()}}});const u=()=>{let a=2500-e("#customer_service_essay").val().length;a<0&&(a=0),e("#customer-service-essay-char-count").html(`${a} characters remaining`)};e("#customer_service_essay").keyup(u),e.validator.addMethod("alphanumericonly",(r,a)=>/^[A-Z0-9]+$/i.test(r),"Letters and numbers only");const d=p("is_authenticated_json");e("#valet-application__form").validate({onfocusout:r=>{if(!d){const a=e("#first_name"),t=e("#last_name");a.val(a.val().trim()),t.val(t.val().trim())}e(r).valid()||e(r).closest(".field-wrap").addClass("invalid")},invalidHandler:(r,a)=>{a.errorList.forEach(t=>{e(t.element).closest(".field-wrap").addClass("invalid")}),a.errorList.length&&e(a.errorList[0].element).focus()},success:r=>{r.closest(".field-wrap").removeClass("invalid")},errorPlacement:(r,a)=>{e(r).addClass("field-label__span"),e(a).closest("form").find(`label[for="${a.attr("id")}"]`).append(r)},errorElement:"span",rules:{...d?{}:{first_name:{required:!0},last_name:{required:!0},phone_number:{required:!0,phoneUS:!0},email:{required:!0,email:!0},password:{required:!0,minlength:6}},location:{required:!0},vehicle_type:{required:"#does_your_car_have_4_or_more_doors-Yes:checked"},referred_by:{required:"#referred-Yes:checked"}},messages:{first_name:"First name is required",last_name:"Last name is required",phone_number:{required:"Phone number is required",phoneUs:"Please enter a valid US phone number"},email:{required:"Email is required",email:"Please enter a valid email address"},password:{required:"Password is required",minlength:"This password is too short. It must contain at least 6 characters."},location:{required:"Please select the location you are interested in working in"},vehicle_type:{required:"Vehicle type is required"},referred_by:{required:"Please let us know who referred you"}}}),e("#valet-application__button--submit").click(r=>{r.preventDefault();const a=[];e(".valet-application__field-group").each((o,m)=>{const n=e(m);if(n.find("input").length>0&&n.find("input:checked").length===0||n.find("textarea").length>0&&n.find("textarea").val()===""){if(!n.hasClass("invalid")){const v=e('<div class="valet-application__field-group-error">Please answer this question</div>');n.addClass("invalid").append(v)}const f=n.find("input, textarea")[0].name;a.push(f)}});const t=e("#valet-application__form").valid(),s=!a.length;if(t){if(!s){const o=`input[name="${a[0]}"]`;e(o).focus();return}d||window.analytics.identify({email:e("#email").val(),first_name:e("#first_name").val(),last_name:e("#last_name").val(),phone:e("#phone_number").val(),locale:e("#location").val()}),w("Submitted Valet Application"),e("#valet-application__form").submit()}})});
//# sourceMappingURL=valet_application.1.sha256-e840d815ab.js.map
