import{R as w,j as e,r as R}from"./index.1.sha256-491025a480.js";import{s as q,f as y}from"./stringUtils.1.sha256-2be81a19c5.js";import{c as a}from"./index.1.sha256-2204be5363.js";import{T as F}from"./colors.1.sha256-e1fd46124e.js";import{u}from"./dataHooks.1.sha256-3888564008.js";import{R as v,g as B,a as C,w as S}from"./index.1.sha256-8fa22c16c2.js";import{B as L}from"./index.1.sha256-c46dc9797b.js";import{R as A,a as W}from"./index.1.sha256-a9aab18f33.js";import"./internal_customer_edit_inner.1.sha256-34481b9084.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new s.Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="4d3eaa75-d984-4914-9700-ef594e2aaa28",s._sentryDebugIdIdentifier="sentry-dbid-4d3eaa75-d984-4914-9700-ef594e2aaa28")}catch{}const k="_animatedPriceMask_1q18y_6",D="_animatedPriceWrapper_1q18y_16",M="_animatedPriceWrapperShowAnnual_1q18y_22",Q="_bagIcon_1q18y_31",E="_card_1q18y_35",O="_cardSelected_1q18y_44",U="_column_1q18y_50",$="_columnRight_1q18y_55",V="_contentWrapper_1q18y_59",z="_description_1q18y_74",G="_heading_1q18y_84",J="_iconAndBadge_1q18y_95",K="_subPriceLine_1q18y_102",H="_multiBagIcons_1q18y_112",X="_pillPopular_1q18y_118",Y="_price_1q18y_127",Z="_priceLine_1q18y_134",n={animatedPriceMask:k,animatedPriceWrapper:D,animatedPriceWrapperShowAnnual:M,bagIcon:Q,card:E,cardSelected:O,column:U,columnRight:$,contentWrapper:V,description:z,heading:G,iconAndBadge:J,subPriceLine:K,multiBagIcons:H,pillPopular:X,price:Y,priceLine:Z},ee=[1,2,4],ne=({billingFrequencySelected:s,isSelected:t,onClick:x,planAnnual:g,planMonthly:_,quantity:i,setQuantity:l})=>{const m=u("rinse_repeat_signup_url"),d=w.useMemo(()=>{switch(i){case 1:return{iconComponent:e.jsx("span",{className:a("rinse-icon--bag",n.bagIcon),"aria-hidden":"true"}),text:"Ideal for one person’s needs"};case 2:return{iconComponent:e.jsx("span",{className:a("rinse-icon--bags",n.bagIcon),"aria-hidden":"true"}),text:"Perfect for couples"};default:return{iconComponent:e.jsxs("div",{className:n.multiBagIcons,children:[e.jsx("span",{className:a("rinse-icon--bags",n.bagIcon),"aria-hidden":"true"}),e.jsx("span",{className:a("rinse-icon--bags",n.bagIcon),"aria-hidden":"true"})]}),text:"Great for families"}}},[i]),p=s===v.Annual,o=p?g:_,j=()=>{x(i),l(i)},h=()=>{window.location.href=m};return e.jsxs("div",{className:a(n.card,t&&n.cardSelected),children:[e.jsxs("div",{className:n.contentWrapper,onClick:j,onKeyDown:b=>{b.key==="Enter"&&l(i)},role:"radio","aria-checked":t,tabIndex:0,children:[e.jsxs("div",{className:n.column,children:[e.jsxs("div",{className:n.iconAndBadge,children:[d.iconComponent,i===2&&e.jsx("span",{className:a("pill-badge pill-badge--yellow",n.pillPopular),children:"Most popular"})]}),e.jsxs("strong",{className:a("nowrap",n.heading),children:[i," ",q("Bag",i)," / month"]}),e.jsx("span",{className:n.description,children:d.text})]}),e.jsxs("div",{className:a(n.column,n.columnRight),children:[e.jsx("div",{className:n.animatedPriceMask,children:e.jsxs("div",{className:a(n.animatedPriceWrapper,p&&n.animatedPriceWrapperShowAnnual),children:[e.jsxs("strong",{className:a("nowrap",n.priceLine),"aria-hidden":p?"true":void 0,children:[e.jsx("span",{className:n.price,children:y({amount:_.price_per_bag,currency:_.price_per_bag_currency},0)})," ","/ bag"]}),e.jsxs("strong",{className:a("nowrap",n.priceLine),"aria-hidden":p?void 0:"true",children:[e.jsx("span",{className:n.price,children:y({amount:g.price_per_bag,currency:g.price_per_bag_currency},0)})," ","/ bag"]})]})}),e.jsxs("span",{className:n.subPriceLine,children:[e.jsx("span",{"data-testid":`plan-price-${o.credits_per_month}`,children:y({amount:o.per_month_equivalent_price,currency:o.price_currency},0)})," ","/month"]})]})]}),t&&e.jsx("button",{className:"rinse-button--primary-new rinse-button--new--narrow",onClick:h,type:"button",children:"Choose this plan"})]})},ae="_container_p35aj_6",se="_columnCards_p35aj_33",ie="_columnText_p35aj_44",re="_heading_p35aj_51",ce="_modifyText_p35aj_55",te="_subheading_p35aj_61",oe="_subheadingLight_p35aj_73",le="_billingFrequencyToggle_p35aj_77",de="_billingFrequencyToggleLabelActive_p35aj_82",pe="_cardContainer_p35aj_86",r={container:ae,columnCards:se,columnText:ie,heading:re,modifyText:ce,subheading:te,subheadingLight:oe,billingFrequencyToggle:le,billingFrequencyToggleLabelActive:de,cardContainer:pe},P=s=>s===4?2:s-1,fe=({classes:s})=>{const t=u("rush_delivery_fee"),x=u("standard_delivery_fee"),g=u("service_fee"),_=u("rr_plus_monthly_other_services_amount"),i=u("rinse_repeat_plans"),l=i.plus,m=B(),[d,p]=R.useState(m.credits_per_month),[o,j]=R.useState(m.billing_frequency.toString()),h=o===v.Annual?"annual":"monthly",b=P(d),I=c=>{const f=C(i,!0,parseInt(o),c);S(f.uid)},T=c=>{j(c);const f=C(i,!0,parseInt(c),d);S(f.uid)},N=o===v.Annual;return e.jsxs("div",{className:a(r.container,s?.container),children:[e.jsxs("div",{className:r.columnText,children:[e.jsx("h2",{className:a("heading",r.heading,s?.heading),children:"Choose your perfect plan"}),e.jsxs("strong",{className:a(r.subheading,s?.subheading),children:[e.jsx("span",{className:r.subheadingLight,children:"If it fits in the bag, we take care of it."}),e.jsx("br",{"aria-hidden":"true"}),"All Rinse Repeat plans include:"]}),e.jsx(A,{deliveryFee:x,rinseRepeatPlusOtherServicesCredit:_,rushFee:t,serviceFee:g,variation:W.RinseRepeatPlusOnly}),e.jsx("div",{children:e.jsx(L,{activeColor:F,classes:{container:r.billingFrequencyToggle,label:N?r.billingFrequencyToggleLabelActive:void 0},isAnnualSelected:N,onChange:T})}),e.jsx("p",{className:a("show@m",r.modifyText),children:"Change, pause, or cancel your Rinse Repeat plan anytime."})]}),e.jsxs("div",{className:r.columnCards,children:[e.jsx("div",{className:"sr-only",children:e.jsxs("span",{role:"status",children:["Selected plan’s price per bag is"," ",y({amount:l[h][b].price_per_bag,currency:l[h][b].price_per_bag_currency},0)]})}),e.jsx("div",{className:r.cardContainer,role:"radiogroup","aria-label":"Select number of bags per month",children:ee.map(c=>e.jsx(ne,{billingFrequencySelected:o,isSelected:c===d,quantity:c,onClick:I,planAnnual:l.annual[P(c)],planMonthly:l.monthly[P(c)],setQuantity:p},c))}),e.jsx("p",{className:a("hide@m",r.modifyText),children:"Change, pause, or cancel your Rinse Repeat plan anytime."})]})]})};export{fe as I};
//# sourceMappingURL=index.1.sha256-e7606fd7b3.js.map
