import{R as m}from"./index.1.sha256-491025a480.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},i=new e.Error().stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="a93a19d0-e371-4d16-9fda-c14c606ce92b",e._sentryDebugIdIdentifier="sentry-dbid-a93a19d0-e371-4d16-9fda-c14c606ce92b")}catch{}var ge=e=>e.type==="checkbox",ue=e=>e instanceof Date,B=e=>e==null;const ut=e=>typeof e=="object";var L=e=>!B(e)&&!Array.isArray(e)&&ut(e)&&!ue(e),nt=e=>L(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,Et=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,lt=(e,i)=>e.has(Et(i)),Ct=e=>{const i=e.constructor&&e.constructor.prototype;return L(i)&&i.hasOwnProperty("isPrototypeOf")},We=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function P(e){let i;const t=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(We&&(e instanceof Blob||e instanceof FileList))&&(t||L(e)))if(i=t?[]:{},!Array.isArray(e)&&!Ct(e))i=e;else for(const r in e)i[r]=P(e[r]);else return e;return i}var le=e=>Array.isArray(e)?e.filter(Boolean):[],k=e=>e===void 0,c=(e,i,t)=>{if(!i||!L(e))return t;const r=le(i.split(/[,[\].]+?/)).reduce((a,l)=>B(a)?a:a[l],e);return k(r)||r===e?k(e[i])?t:e[i]:r};const he={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Y={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ot=m.createContext(null),Fe=()=>m.useContext(Ot);var ot=(e,i,t,r=!0)=>{const a={defaultValues:i._defaultValues};for(const l in e)Object.defineProperty(a,l,{get:()=>{const f=l;return i._proxyFormState[f]!==K.all&&(i._proxyFormState[f]=!r||K.all),t&&(t[f]=!0),e[f]}});return a},W=e=>L(e)&&!Object.keys(e).length,ct=(e,i,t,r)=>{t(e);const{name:a,...l}=e;return W(l)||Object.keys(l).length>=Object.keys(i).length||Object.keys(l).find(f=>i[f]===(!r||K.all))},$=e=>Array.isArray(e)?e:[e],ft=(e,i,t)=>t&&i?e===i:!e||!i||e===i||$(e).some(r=>r&&(r.startsWith(i)||i.startsWith(r)));function pe(e){const i=m.useRef(e);i.current=e,m.useEffect(()=>{const t=!e.disabled&&i.current.subject&&i.current.subject.subscribe({next:i.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Rt(e){const i=Fe(),{control:t=i.control,disabled:r,name:a,exact:l}=e||{},[f,A]=m.useState(t._formState),_=m.useRef(!0),w=m.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),E=m.useRef(a);return E.current=a,pe({disabled:r,next:x=>_.current&&ft(E.current,x.name,l)&&ct(x,w.current,t._updateFormState)&&A({...t._formState,...x}),subject:t._subjects.state}),m.useEffect(()=>(_.current=!0,w.current.isValid&&t._updateValid(!0),()=>{_.current=!1}),[t]),ot(f,t,w.current,!1)}var Q=e=>typeof e=="string",dt=(e,i,t,r,a)=>Q(e)?(r&&i.watch.add(e),c(t,e,a)):Array.isArray(e)?e.map(l=>(r&&i.watch.add(l),c(t,l))):(r&&(i.watchAll=!0),t);function Tt(e){const i=Fe(),{control:t=i.control,name:r,defaultValue:a,disabled:l,exact:f}=e||{},A=m.useRef(r);A.current=r,pe({disabled:l,subject:t._subjects.values,next:E=>{ft(A.current,E.name,f)&&w(P(dt(A.current,t._names,E.values||t._formValues,!1,a)))}});const[_,w]=m.useState(t._getWatch(r,a));return m.useEffect(()=>t._removeUnmounted()),_}var $e=e=>/^\w*$/.test(e),yt=e=>le(e.replace(/["|']|\]/g,"").split(/\.|\[/));function D(e,i,t){let r=-1;const a=$e(i)?[i]:yt(i),l=a.length,f=l-1;for(;++r<l;){const A=a[r];let _=t;if(r!==f){const w=e[A];_=L(w)||Array.isArray(w)?w:isNaN(+a[r+1])?{}:[]}e[A]=_,e=e[A]}return e}function Lt(e){const i=Fe(),{name:t,control:r=i.control,shouldUnregister:a}=e,l=lt(r._names.array,t),f=Tt({control:r,name:t,defaultValue:c(r._formValues,t,c(r._defaultValues,t,e.defaultValue)),exact:!0}),A=Rt({control:r,name:t}),_=m.useRef(r.register(t,{...e.rules,value:f}));return m.useEffect(()=>{const w=r._options.shouldUnregister||a,E=(x,v)=>{const j=c(r._fields,x);j&&(j._f.mount=v)};if(E(t,!0),w){const x=P(c(r._options.defaultValues,t));D(r._defaultValues,t,x),k(c(r._formValues,t))&&D(r._formValues,t,x)}return()=>{(l?w&&!r._state.action:w)?r.unregister(t):E(t,!1)}},[t,r,l,a]),{field:{name:t,value:f,onChange:m.useCallback(w=>_.current.onChange({target:{value:nt(w),name:t},type:he.CHANGE}),[t]),onBlur:m.useCallback(()=>_.current.onBlur({target:{value:c(r._formValues,t),name:t},type:he.BLUR}),[t,r]),ref:w=>{const E=c(r._fields,t);E&&w&&(E._f.ref={focus:()=>w.focus(),select:()=>w.select(),setCustomValidity:x=>w.setCustomValidity(x),reportValidity:()=>w.reportValidity()})}},formState:A,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(A.errors,t)},isDirty:{enumerable:!0,get:()=>!!c(A.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!c(A.touchedFields,t)},error:{enumerable:!0,get:()=>c(A.errors,t)}})}}const Qt=e=>e.render(Lt(e));var Ut=(e,i,t,r,a)=>i?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:a||!0}}:{};const ve=(e,i,t)=>{for(const r of t||Object.keys(e)){const a=c(e,r);if(a){const{_f:l,...f}=a;if(l&&i(l.name)){if(l.ref.focus){l.ref.focus();break}else if(l.refs&&l.refs[0].focus){l.refs[0].focus();break}}else L(f)&&ve(f,i)}}};var Z=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const t=(Math.random()*16+e)%16|0;return(i=="x"?t:t&3|8).toString(16)})},ke=(e,i,t={})=>t.shouldFocus||k(t.shouldFocus)?t.focusName||`${e}.${k(t.focusIndex)?i:t.focusIndex}.`:"",Pe=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched}),je=(e,i,t)=>!t&&(i.watchAll||i.watch.has(e)||[...i.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),gt=(e,i,t)=>{const r=le(c(e,t));return D(r,"root",i[t]),D(e,t,r),e},ne=e=>typeof e=="boolean",He=e=>e.type==="file",ee=e=>typeof e=="function",Ae=e=>{if(!We)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},_e=e=>Q(e),Ke=e=>e.type==="radio",Ve=e=>e instanceof RegExp;const et={value:!1,isValid:!1},tt={value:!0,isValid:!0};var _t=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!k(e[0].attributes.value)?k(e[0].value)||e[0].value===""?tt:{value:e[0].value,isValid:!0}:tt:et}return et};const rt={isValid:!1,value:null};var ht=e=>Array.isArray(e)?e.reduce((i,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:i,rt):rt;function st(e,i,t="validate"){if(_e(e)||Array.isArray(e)&&e.every(_e)||ne(e)&&!e)return{type:t,message:_e(e)?e:"",ref:i}}var ae=e=>L(e)&&!Ve(e)?e:{value:e,message:""},qe=async(e,i,t,r,a)=>{const{ref:l,refs:f,required:A,maxLength:_,minLength:w,min:E,max:x,pattern:v,validate:j,name:I,valueAsNumber:oe,mount:se,disabled:ce}=e._f,b=c(i,I);if(!se||ce)return{};const q=f?f[0]:l,G=S=>{r&&q.reportValidity&&(q.setCustomValidity(ne(S)?"":S||""),q.reportValidity())},y={},V=Ke(l),F=ge(l),T=V||F,M=(oe||He(l))&&k(l.value)&&k(b)||Ae(l)&&l.value===""||b===""||Array.isArray(b)&&!b.length,z=Ut.bind(null,I,t,y),X=(S,p,O,N=Y.maxLength,H=Y.minLength)=>{const J=S?p:O;y[I]={type:S?N:H,message:J,ref:l,...z(S?N:H,J)}};if(a?!Array.isArray(b)||!b.length:A&&(!T&&(M||B(b))||ne(b)&&!b||F&&!_t(f).isValid||V&&!ht(f).isValid)){const{value:S,message:p}=_e(A)?{value:!!A,message:A}:ae(A);if(S&&(y[I]={type:Y.required,message:p,ref:q,...z(Y.required,p)},!t))return G(p),y}if(!M&&(!B(E)||!B(x))){let S,p;const O=ae(x),N=ae(E);if(!B(b)&&!isNaN(b)){const H=l.valueAsNumber||b&&+b;B(O.value)||(S=H>O.value),B(N.value)||(p=H<N.value)}else{const H=l.valueAsDate||new Date(b),J=de=>new Date(new Date().toDateString()+" "+de),te=l.type=="time",fe=l.type=="week";Q(O.value)&&b&&(S=te?J(b)>J(O.value):fe?b>O.value:H>new Date(O.value)),Q(N.value)&&b&&(p=te?J(b)<J(N.value):fe?b<N.value:H<new Date(N.value))}if((S||p)&&(X(!!S,O.message,N.message,Y.max,Y.min),!t))return G(y[I].message),y}if((_||w)&&!M&&(Q(b)||a&&Array.isArray(b))){const S=ae(_),p=ae(w),O=!B(S.value)&&b.length>+S.value,N=!B(p.value)&&b.length<+p.value;if((O||N)&&(X(O,S.message,p.message),!t))return G(y[I].message),y}if(v&&!M&&Q(b)){const{value:S,message:p}=ae(v);if(Ve(S)&&!b.match(S)&&(y[I]={type:Y.pattern,message:p,ref:l,...z(Y.pattern,p)},!t))return G(p),y}if(j){if(ee(j)){const S=await j(b,i),p=st(S,q);if(p&&(y[I]={...p,...z(Y.validate,p.message)},!t))return G(p.message),y}else if(L(j)){let S={};for(const p in j){if(!W(S)&&!t)break;const O=st(await j[p](b,i),q,p);O&&(S={...O,...z(p,O.message)},G(O.message),t&&(y[I]=S))}if(!W(S)&&(y[I]={ref:q,...S},!t))return y}}return G(!0),y};function Ee(e,i){return[...e,...$(i)]}var Ce=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Oe(e,i,t){return[...e.slice(0,i),...$(t),...e.slice(i)]}var Re=(e,i,t)=>Array.isArray(e)?(k(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(i,1)[0]),e):[];function Te(e,i){return[...$(i),...$(e)]}function Mt(e,i){let t=0;const r=[...e];for(const a of i)r.splice(a-t,1),t++;return le(r).length?r:[]}var Le=(e,i)=>k(i)?[]:Mt(e,$(i).sort((t,r)=>t-r)),Ue=(e,i,t)=>{e[i]=[e[t],e[t]=e[i]][0]};function Bt(e,i){const t=i.slice(0,-1).length;let r=0;for(;r<t;)e=k(e)?r++:e[i[r++]];return e}function It(e){for(const i in e)if(!k(e[i]))return!1;return!0}function U(e,i){const t=Array.isArray(i)?i:$e(i)?[i]:yt(i),r=t.length===1?e:Bt(e,t),a=t.length-1,l=t[a];return r&&delete r[l],a!==0&&(L(r)&&W(r)||Array.isArray(r)&&It(r))&&U(e,t.slice(0,-1)),e}var it=(e,i,t)=>(e[i]=t,e);function Xt(e){const i=Fe(),{control:t=i.control,name:r,keyName:a="id",shouldUnregister:l}=e,[f,A]=m.useState(t._getFieldArray(r)),_=m.useRef(t._getFieldArray(r).map(Z)),w=m.useRef(f),E=m.useRef(r),x=m.useRef(!1);E.current=r,w.current=f,t._names.array.add(r),e.rules&&t.register(r,e.rules),pe({next:({values:y,name:V})=>{if(V===E.current||!V){const F=c(y,E.current);Array.isArray(F)&&(A(F),_.current=F.map(Z))}},subject:t._subjects.array});const v=m.useCallback(y=>{x.current=!0,t._updateFieldArray(r,y)},[t,r]),j=(y,V)=>{const F=$(P(y)),T=Ee(t._getFieldArray(r),F);t._names.focus=ke(r,T.length-1,V),_.current=Ee(_.current,F.map(Z)),v(T),A(T),t._updateFieldArray(r,T,Ee,{argA:Ce(y)})},I=(y,V)=>{const F=$(P(y)),T=Te(t._getFieldArray(r),F);t._names.focus=ke(r,0,V),_.current=Te(_.current,F.map(Z)),v(T),A(T),t._updateFieldArray(r,T,Te,{argA:Ce(y)})},oe=y=>{const V=Le(t._getFieldArray(r),y);_.current=Le(_.current,y),v(V),A(V),t._updateFieldArray(r,V,Le,{argA:y})},se=(y,V,F)=>{const T=$(P(V)),M=Oe(t._getFieldArray(r),y,T);t._names.focus=ke(r,y,F),_.current=Oe(_.current,y,T.map(Z)),v(M),A(M),t._updateFieldArray(r,M,Oe,{argA:y,argB:Ce(V)})},ce=(y,V)=>{const F=t._getFieldArray(r);Ue(F,y,V),Ue(_.current,y,V),v(F),A(F),t._updateFieldArray(r,F,Ue,{argA:y,argB:V},!1)},b=(y,V)=>{const F=t._getFieldArray(r);Re(F,y,V),Re(_.current,y,V),v(F),A(F),t._updateFieldArray(r,F,Re,{argA:y,argB:V},!1)},q=(y,V)=>{const F=P(V),T=it(t._getFieldArray(r),y,F);_.current=[...T].map((M,z)=>!M||z===y?Z():_.current[z]),v(T),A([...T]),t._updateFieldArray(r,T,it,{argA:y,argB:F},!0,!1)},G=y=>{const V=$(P(y));_.current=V.map(Z),v([...V]),A([...V]),t._updateFieldArray(r,[...V],F=>F,{},!0,!1)};return m.useEffect(()=>{if(t._state.action=!1,je(r,t._names)&&t._subjects.state.next({...t._formState}),x.current&&(!Pe(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([r]).then(y=>{const V=c(y.errors,r),F=c(t._formState.errors,r);(F?!V&&F.type:V&&V.type)&&(V?D(t._formState.errors,r,V):U(t._formState.errors,r),t._subjects.state.next({errors:t._formState.errors}))});else{const y=c(t._fields,r);y&&y._f&&qe(y,t._formValues,t._options.criteriaMode===K.all,t._options.shouldUseNativeValidation,!0).then(V=>!W(V)&&t._subjects.state.next({errors:gt(t._formState.errors,V,r)}))}t._subjects.values.next({name:r,values:{...t._formValues}}),t._names.focus&&ve(t._fields,y=>!!y&&y.startsWith(t._names.focus||"")),t._names.focus="",t._updateValid()},[f,r,t]),m.useEffect(()=>(!c(t._formValues,r)&&t._updateFieldArray(r),()=>{(t._options.shouldUnregister||l)&&t.unregister(r)}),[r,t,a,l]),{swap:m.useCallback(ce,[v,r,t]),move:m.useCallback(b,[v,r,t]),prepend:m.useCallback(I,[v,r,t]),append:m.useCallback(j,[v,r,t]),remove:m.useCallback(oe,[v,r,t]),insert:m.useCallback(se,[v,r,t]),update:m.useCallback(q,[v,r,t]),replace:m.useCallback(G,[v,r,t]),fields:m.useMemo(()=>f.map((y,V)=>({...y,[a]:_.current[V]||Z()})),[f,a])}}function Me(){let e=[];return{get observers(){return e},next:a=>{for(const l of e)l.next&&l.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(l=>l!==a)}}),unsubscribe:()=>{e=[]}}}var be=e=>B(e)||!ut(e);function re(e,i){if(be(e)||be(i))return e===i;if(ue(e)&&ue(i))return e.getTime()===i.getTime();const t=Object.keys(e),r=Object.keys(i);if(t.length!==r.length)return!1;for(const a of t){const l=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const f=i[a];if(ue(l)&&ue(f)||L(l)&&L(f)||Array.isArray(l)&&Array.isArray(f)?!re(l,f):l!==f)return!1}}return!0}var vt=e=>e.type==="select-multiple",Nt=e=>Ke(e)||ge(e),Be=e=>Ae(e)&&e.isConnected,At=e=>{for(const i in e)if(ee(e[i]))return!0;return!1};function me(e,i={}){const t=Array.isArray(e);if(L(e)||t)for(const r in e)Array.isArray(e[r])||L(e[r])&&!At(e[r])?(i[r]=Array.isArray(e[r])?[]:{},me(e[r],i[r])):B(e[r])||(i[r]=!0);return i}function Vt(e,i,t){const r=Array.isArray(e);if(L(e)||r)for(const a in e)Array.isArray(e[a])||L(e[a])&&!At(e[a])?k(i)||be(t[a])?t[a]=Array.isArray(e[a])?me(e[a],[]):{...me(e[a])}:Vt(e[a],B(i)?{}:i[a],t[a]):t[a]=!re(e[a],i[a]);return t}var Ie=(e,i)=>Vt(e,i,me(i)),bt=(e,{valueAsNumber:i,valueAsDate:t,setValueAs:r})=>k(e)?e:i?e===""?NaN:e&&+e:t&&Q(e)?new Date(e):r?r(e):e;function Ne(e){const i=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):i.disabled))return He(i)?i.files:Ke(i)?ht(e.refs).value:vt(i)?[...i.selectedOptions].map(({value:t})=>t):ge(i)?_t(e.refs).value:bt(k(i.value)?e.ref.value:i.value,e)}var Pt=(e,i,t,r)=>{const a={};for(const l of e){const f=c(i,l);f&&D(a,l,f._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:r}},ye=e=>k(e)?e:Ve(e)?e.source:L(e)?Ve(e.value)?e.value.source:e.value:e,jt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function at(e,i,t){const r=c(e,t);if(r||$e(t))return{error:r,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),f=c(i,l),A=c(e,l);if(f&&!Array.isArray(f)&&t!==l)return{name:t};if(A&&A.type)return{name:l,error:A};a.pop()}return{name:t}}var qt=(e,i,t,r,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(i||e):(t?r.isOnBlur:a.isOnBlur)?!e:(t?r.isOnChange:a.isOnChange)?e:!0,Wt=(e,i)=>!le(c(e,i)).length&&U(e,i);const $t={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function Ht(e={},i){let t={...$t,...e},r={submitCount:0,isDirty:!1,isLoading:ee(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},l=L(t.defaultValues)||L(t.values)?P(t.defaultValues||t.values)||{}:{},f=t.shouldUnregister?{}:P(l),A={action:!1,mount:!1,watch:!1},_={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w,E=0;const x={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Me(),array:Me(),state:Me()},j=e.resetOptions&&e.resetOptions.keepDirtyValues,I=Pe(t.mode),oe=Pe(t.reValidateMode),se=t.criteriaMode===K.all,ce=s=>u=>{clearTimeout(E),E=setTimeout(s,u)},b=async s=>{if(x.isValid||s){const u=t.resolver?W((await M()).errors):await X(a,!0);u!==r.isValid&&v.state.next({isValid:u})}},q=s=>x.isValidating&&v.state.next({isValidating:s}),G=(s,u=[],n,g,d=!0,o=!0)=>{if(g&&n){if(A.action=!0,o&&Array.isArray(c(a,s))){const h=n(c(a,s),g.argA,g.argB);d&&D(a,s,h)}if(o&&Array.isArray(c(r.errors,s))){const h=n(c(r.errors,s),g.argA,g.argB);d&&D(r.errors,s,h),Wt(r.errors,s)}if(x.touchedFields&&o&&Array.isArray(c(r.touchedFields,s))){const h=n(c(r.touchedFields,s),g.argA,g.argB);d&&D(r.touchedFields,s,h)}x.dirtyFields&&(r.dirtyFields=Ie(l,f)),v.state.next({name:s,isDirty:p(s,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else D(f,s,u)},y=(s,u)=>{D(r.errors,s,u),v.state.next({errors:r.errors})},V=(s,u,n,g)=>{const d=c(a,s);if(d){const o=c(f,s,k(n)?c(l,s):n);k(o)||g&&g.defaultChecked||u?D(f,s,u?o:Ne(d._f)):H(s,o),A.mount&&b()}},F=(s,u,n,g,d)=>{let o=!1,h=!1;const C={name:s};if(!n||g){x.isDirty&&(h=r.isDirty,r.isDirty=C.isDirty=p(),o=h!==C.isDirty);const R=re(c(l,s),u);h=c(r.dirtyFields,s),R?U(r.dirtyFields,s):D(r.dirtyFields,s,!0),C.dirtyFields=r.dirtyFields,o=o||x.dirtyFields&&h!==!R}if(n){const R=c(r.touchedFields,s);R||(D(r.touchedFields,s,n),C.touchedFields=r.touchedFields,o=o||x.touchedFields&&R!==n)}return o&&d&&v.state.next(C),o?C:{}},T=(s,u,n,g)=>{const d=c(r.errors,s),o=x.isValid&&ne(u)&&r.isValid!==u;if(e.delayError&&n?(w=ce(()=>y(s,n)),w(e.delayError)):(clearTimeout(E),w=null,n?D(r.errors,s,n):U(r.errors,s)),(n?!re(d,n):d)||!W(g)||o){const h={...g,...o&&ne(u)?{isValid:u}:{},errors:r.errors,name:s};r={...r,...h},v.state.next(h)}q(!1)},M=async s=>t.resolver(f,t.context,Pt(s||_.mount,a,t.criteriaMode,t.shouldUseNativeValidation)),z=async s=>{const{errors:u}=await M();if(s)for(const n of s){const g=c(u,n);g?D(r.errors,n,g):U(r.errors,n)}else r.errors=u;return u},X=async(s,u,n={valid:!0})=>{for(const g in s){const d=s[g];if(d){const{_f:o,...h}=d;if(o){const C=_.array.has(o.name),R=await qe(d,f,se,t.shouldUseNativeValidation&&!u,C);if(R[o.name]&&(n.valid=!1,u))break;!u&&(c(R,o.name)?C?gt(r.errors,R,o.name):D(r.errors,o.name,R[o.name]):U(r.errors,o.name))}h&&await X(h,u,n)}}return n.valid},S=()=>{for(const s of _.unMount){const u=c(a,s);u&&(u._f.refs?u._f.refs.every(n=>!Be(n)):!Be(u._f.ref))&&xe(s)}_.unMount=new Set},p=(s,u)=>(s&&u&&D(f,s,u),!re(Ge(),l)),O=(s,u,n)=>dt(s,_,{...A.mount?f:k(u)?l:Q(s)?{[s]:u}:u},n,u),N=s=>le(c(A.mount?f:l,s,e.shouldUnregister?c(l,s,[]):[])),H=(s,u,n={})=>{const g=c(a,s);let d=u;if(g){const o=g._f;o&&(!o.disabled&&D(f,s,bt(u,o)),d=Ae(o.ref)&&B(u)?"":u,vt(o.ref)?[...o.ref.options].forEach(h=>h.selected=d.includes(h.value)):o.refs?ge(o.ref)?o.refs.length>1?o.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(d)?!!d.find(C=>C===h.value):d===h.value)):o.refs[0]&&(o.refs[0].checked=!!d):o.refs.forEach(h=>h.checked=h.value===d):He(o.ref)?o.ref.value="":(o.ref.value=d,o.ref.type||v.values.next({name:s,values:{...f}})))}(n.shouldDirty||n.shouldTouch)&&F(s,d,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&de(s)},J=(s,u,n)=>{for(const g in u){const d=u[g],o=`${s}.${g}`,h=c(a,o);(_.array.has(s)||!be(d)||h&&!h._f)&&!ue(d)?J(o,d,n):H(o,d,n)}},te=(s,u,n={})=>{const g=c(a,s),d=_.array.has(s),o=P(u);D(f,s,o),d?(v.array.next({name:s,values:{...f}}),(x.isDirty||x.dirtyFields)&&n.shouldDirty&&v.state.next({name:s,dirtyFields:Ie(l,f),isDirty:p(s,o)})):g&&!g._f&&!B(o)?J(s,o,n):H(s,o,n),je(s,_)&&v.state.next({...r}),v.values.next({name:s,values:{...f}}),!A.mount&&i()},fe=async s=>{const u=s.target;let n=u.name,g=!0;const d=c(a,n),o=()=>u.type?Ne(d._f):nt(s);if(d){let h,C;const R=o(),ie=s.type===he.BLUR||s.type===he.FOCUS_OUT,St=!jt(d._f)&&!t.resolver&&!c(r.errors,n)&&!d._f.deps||qt(ie,c(r.touchedFields,n),r.isSubmitted,oe,I),Se=je(n,_,ie);D(f,n,R),ie?(d._f.onBlur&&d._f.onBlur(s),w&&w(0)):d._f.onChange&&d._f.onChange(s);const De=F(n,R,ie,!1),Dt=!W(De)||Se;if(!ie&&v.values.next({name:n,type:s.type,values:{...f}}),St)return x.isValid&&b(),Dt&&v.state.next({name:n,...Se?{}:De});if(!ie&&Se&&v.state.next({...r}),q(!0),t.resolver){const{errors:Ye}=await M([n]),kt=at(r.errors,a,n),Ze=at(Ye,a,kt.name||n);h=Ze.error,n=Ze.name,C=W(Ye)}else h=(await qe(d,f,se,t.shouldUseNativeValidation))[n],g=isNaN(R)||R===c(f,n,R),g&&(h?C=!1:x.isValid&&(C=await X(a,!0)));g&&(d._f.deps&&de(d._f.deps),T(n,C,h,De))}},de=async(s,u={})=>{let n,g;const d=$(s);if(q(!0),t.resolver){const o=await z(k(s)?s:d);n=W(o),g=s?!d.some(h=>c(o,h)):n}else s?(g=(await Promise.all(d.map(async o=>{const h=c(a,o);return await X(h&&h._f?{[o]:h}:h)}))).every(Boolean),!(!g&&!r.isValid)&&b()):g=n=await X(a);return v.state.next({...!Q(s)||x.isValid&&n!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:n}:{},errors:r.errors,isValidating:!1}),u.shouldFocus&&!g&&ve(a,o=>o&&c(r.errors,o),s?d:_.mount),g},Ge=s=>{const u={...l,...A.mount?f:{}};return k(s)?u:Q(s)?c(u,s):s.map(n=>c(u,n))},ze=(s,u)=>({invalid:!!c((u||r).errors,s),isDirty:!!c((u||r).dirtyFields,s),isTouched:!!c((u||r).touchedFields,s),error:c((u||r).errors,s)}),mt=s=>{s&&$(s).forEach(u=>U(r.errors,u)),v.state.next({errors:s?r.errors:{}})},Ft=(s,u,n)=>{const g=(c(a,s,{_f:{}})._f||{}).ref;D(r.errors,s,{...u,ref:g}),v.state.next({name:s,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&g&&g.focus&&g.focus()},pt=(s,u)=>ee(s)?v.values.subscribe({next:n=>s(O(void 0,u),n)}):O(s,u,!0),xe=(s,u={})=>{for(const n of s?$(s):_.mount)_.mount.delete(n),_.array.delete(n),u.keepValue||(U(a,n),U(f,n)),!u.keepError&&U(r.errors,n),!u.keepDirty&&U(r.dirtyFields,n),!u.keepTouched&&U(r.touchedFields,n),!t.shouldUnregister&&!u.keepDefaultValue&&U(l,n);v.values.next({values:{...f}}),v.state.next({...r,...u.keepDirty?{isDirty:p()}:{}}),!u.keepIsValid&&b()},we=(s,u={})=>{let n=c(a,s);const g=ne(u.disabled);return D(a,s,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:s}},name:s,mount:!0,...u}}),_.mount.add(s),n?g&&D(f,s,u.disabled?void 0:c(f,s,Ne(n._f))):V(s,!0,u.value),{...g?{disabled:u.disabled}:{},...t.shouldUseNativeValidation?{required:!!u.required,min:ye(u.min),max:ye(u.max),minLength:ye(u.minLength),maxLength:ye(u.maxLength),pattern:ye(u.pattern)}:{},name:s,onChange:fe,onBlur:fe,ref:d=>{if(d){we(s,u),n=c(a,s);const o=k(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,h=Nt(o),C=n._f.refs||[];if(h?C.find(R=>R===o):o===n._f.ref)return;D(a,s,{_f:{...n._f,...h?{refs:[...C.filter(Be),o,...Array.isArray(c(l,s))?[{}]:[]],ref:{type:o.type,name:s}}:{ref:o}}}),V(s,!1,void 0,o)}else n=c(a,s,{}),n._f&&(n._f.mount=!1),(t.shouldUnregister||u.shouldUnregister)&&!(lt(_.array,s)&&A.action)&&_.unMount.add(s)}}},Je=()=>t.shouldFocusError&&ve(a,s=>s&&c(r.errors,s),_.mount),xt=(s,u)=>async n=>{n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let g=P(f);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:d,values:o}=await M();r.errors=d,g=o}else await X(a);U(r.errors,"root"),W(r.errors)?(v.state.next({errors:{}}),await s(g,n)):(u&&await u({...r.errors},n),Je(),setTimeout(Je)),v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:W(r.errors),submitCount:r.submitCount+1,errors:r.errors})},wt=(s,u={})=>{c(a,s)&&(k(u.defaultValue)?te(s,c(l,s)):(te(s,u.defaultValue),D(l,s,u.defaultValue)),u.keepTouched||U(r.touchedFields,s),u.keepDirty||(U(r.dirtyFields,s),r.isDirty=u.defaultValue?p(s,c(l,s)):p()),u.keepError||(U(r.errors,s),x.isValid&&b()),v.state.next({...r}))},Qe=(s,u={})=>{const n=s||l,g=P(n),d=s&&!W(s)?g:l;if(u.keepDefaultValues||(l=n),!u.keepValues){if(u.keepDirtyValues||j)for(const o of _.mount)c(r.dirtyFields,o)?D(d,o,c(f,o)):te(o,c(d,o));else{if(We&&k(s))for(const o of _.mount){const h=c(a,o);if(h&&h._f){const C=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(Ae(C)){const R=C.closest("form");if(R){R.reset();break}}}}a={}}f=e.shouldUnregister?u.keepDefaultValues?P(l):{}:g,v.array.next({values:{...d}}),v.values.next({values:{...d}})}_={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!A.mount&&i(),A.mount=!x.isValid||!!u.keepIsValid,A.watch=!!e.shouldUnregister,v.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!re(s,l)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:u.keepDirtyValues?r.dirtyFields:u.keepDefaultValues&&s?Ie(l,s):{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Xe=(s,u)=>Qe(ee(s)?s(f):s,u);return{control:{register:we,unregister:xe,getFieldState:ze,_executeSchema:M,_getWatch:O,_getDirty:p,_updateValid:b,_removeUnmounted:S,_updateFieldArray:G,_getFieldArray:N,_reset:Qe,_resetDefaultValues:()=>ee(t.defaultValues)&&t.defaultValues().then(s=>{Xe(s,t.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:s=>{r={...r,...s}},_subjects:v,_proxyFormState:x,get _fields(){return a},get _formValues(){return f},get _state(){return A},set _state(s){A=s},get _defaultValues(){return l},get _names(){return _},set _names(s){_=s},get _formState(){return r},set _formState(s){r=s},get _options(){return t},set _options(s){t={...t,...s}}},trigger:de,register:we,handleSubmit:xt,watch:pt,setValue:te,getValues:Ge,reset:Xe,resetField:wt,clearErrors:mt,unregister:xe,setError:Ft,setFocus:(s,u={})=>{const n=c(a,s),g=n&&n._f;if(g){const d=g.refs?g.refs[0]:g.ref;d.focus&&(d.focus(),u.shouldSelect&&d.select())}},getFieldState:ze}}function Yt(e={}){const i=m.useRef(),[t,r]=m.useState({isDirty:!1,isValidating:!1,isLoading:ee(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:ee(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...Ht(e,()=>r(l=>({...l}))),formState:t});const a=i.current.control;return a._options=e,pe({subject:a._subjects.state,next:l=>{ct(l,a._proxyFormState,a._updateFormState,!0)&&r({...a._formState})}}),m.useEffect(()=>{e.values&&!re(e.values,a._defaultValues)?a._reset(e.values,a._options.resetOptions):a._resetDefaultValues()},[e.values,a]),m.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),i.current.formState=ot(t,a),i.current}export{Qt as C,Ut as a,Xt as b,Fe as c,Tt as d,c as g,D as s,Yt as u};
//# sourceMappingURL=index.esm.1.sha256-6f50330ddf.js.map
